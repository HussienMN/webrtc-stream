(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Tr(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const oo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ao=Tr(oo);function Hi(e){return!!e||e===""}function Br(e){if(le(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Pe(r)?uo(r):Br(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Pe(e))return e;if(Ae(e))return e}}const co=/;(?![^(]*\))/g,lo=/:(.+)/;function uo(e){const t={};return e.split(co).forEach(n=>{if(n){const r=n.split(lo);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rr(e){let t="";if(Pe(e))t=e;else if(le(e))for(let n=0;n<e.length;n++){const r=Rr(e[n]);r&&(t+=r+" ")}else if(Ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const tn=e=>Pe(e)?e:e==null?"":le(e)||Ae(e)&&(e.toString===Gi||!fe(e.toString))?JSON.stringify(e,Wi,2):String(e),Wi=(e,t)=>t&&t.__v_isRef?Wi(e,t.value):Ht(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:$i(t)?{[`Set(${t.size})`]:[...t.values()]}:Ae(t)&&!le(t)&&!qi(t)?String(t):t,be={},zt=[],et=()=>{},fo=()=>!1,ho=/^on[^a-z]/,Nn=e=>ho.test(e),Or=e=>e.startsWith("onUpdate:"),Oe=Object.assign,Nr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},po=Object.prototype.hasOwnProperty,pe=(e,t)=>po.call(e,t),le=Array.isArray,Ht=e=>In(e)==="[object Map]",$i=e=>In(e)==="[object Set]",fe=e=>typeof e=="function",Pe=e=>typeof e=="string",Ir=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",Yi=e=>Ae(e)&&fe(e.then)&&fe(e.catch),Gi=Object.prototype.toString,In=e=>Gi.call(e),mo=e=>In(e).slice(8,-1),qi=e=>In(e)==="[object Object]",Pr=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vn=Tr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},go=/-(\w)/g,xt=Pn(e=>e.replace(go,(t,n)=>n?n.toUpperCase():"")),yo=/\B([A-Z])/g,mt=Pn(e=>e.replace(yo,"-$1").toLowerCase()),Qi=Pn(e=>e.charAt(0).toUpperCase()+e.slice(1)),tr=Pn(e=>e?`on${Qi(e)}`:""),xn=(e,t)=>!Object.is(e,t),bn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_n=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},rn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ii;const vo=()=>ii||(ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let st;class bo{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&st&&(this.parent=st,this.index=(st.scopes||(st.scopes=[])).push(this)-1)}run(t){if(this.active){const n=st;try{return st=this,t()}finally{st=n}}}on(){st=this}off(){st=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Eo(e,t=st){t&&t.active&&t.effects.push(e)}const Fr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ki=e=>(e.w&_t)>0,Ji=e=>(e.n&_t)>0,wo=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_t},So=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Ki(s)&&!Ji(s)?s.delete(e):t[n++]=s,s.w&=~_t,s.n&=~_t}t.length=n}},cr=new WeakMap;let Zt=0,_t=1;const lr=30;let Je;const Mt=Symbol(""),ur=Symbol("");class Mr{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Eo(this,r)}run(){if(!this.active)return this.fn();let t=Je,n=At;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Je,Je=this,At=!0,_t=1<<++Zt,Zt<=lr?wo(this):si(this),this.fn()}finally{Zt<=lr&&So(this),_t=1<<--Zt,Je=this.parent,At=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Je===this?this.deferStop=!0:this.active&&(si(this),this.onStop&&this.onStop(),this.active=!1)}}function si(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let At=!0;const Xi=[];function Gt(){Xi.push(At),At=!1}function qt(){const e=Xi.pop();At=e===void 0?!0:e}function He(e,t,n){if(At&&Je){let r=cr.get(e);r||cr.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Fr()),Zi(s)}}function Zi(e,t){let n=!1;Zt<=lr?Ji(e)||(e.n|=_t,n=!Ki(e)):n=!e.has(Je),n&&(e.add(Je),Je.deps.push(e))}function gt(e,t,n,r,s,i){const a=cr.get(e);if(!a)return;let f=[];if(t==="clear")f=[...a.values()];else if(n==="length"&&le(e))a.forEach((m,w)=>{(w==="length"||w>=r)&&f.push(m)});else switch(n!==void 0&&f.push(a.get(n)),t){case"add":le(e)?Pr(n)&&f.push(a.get("length")):(f.push(a.get(Mt)),Ht(e)&&f.push(a.get(ur)));break;case"delete":le(e)||(f.push(a.get(Mt)),Ht(e)&&f.push(a.get(ur)));break;case"set":Ht(e)&&f.push(a.get(Mt));break}if(f.length===1)f[0]&&fr(f[0]);else{const m=[];for(const w of f)w&&m.push(...w);fr(Fr(m))}}function fr(e,t){const n=le(e)?e:[...e];for(const r of n)r.computed&&oi(r);for(const r of n)r.computed||oi(r)}function oi(e,t){(e!==Je||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ao=Tr("__proto__,__v_isRef,__isVue"),es=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ir)),Co=Dr(),xo=Dr(!1,!0),_o=Dr(!0),ai=ko();function ko(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ye(this);for(let i=0,a=this.length;i<a;i++)He(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ye)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Gt();const r=ye(this)[t].apply(this,n);return qt(),r}}),e}function Dr(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?Ho:ss:t?is:rs).get(r))return r;const a=le(r);if(!e&&a&&pe(ai,s))return Reflect.get(ai,s,i);const f=Reflect.get(r,s,i);return(Ir(s)?es.has(s):Ao(s))||(e||He(r,"get",s),t)?f:De(f)?a&&Pr(s)?f:f.value:Ae(f)?e?os(f):Ur(f):f}}const To=ts(),Bo=ts(!0);function ts(e=!1){return function(n,r,s,i){let a=n[r];if(sn(a)&&De(a)&&!De(s))return!1;if(!e&&(!dr(s)&&!sn(s)&&(a=ye(a),s=ye(s)),!le(n)&&De(a)&&!De(s)))return a.value=s,!0;const f=le(n)&&Pr(r)?Number(r)<n.length:pe(n,r),m=Reflect.set(n,r,s,i);return n===ye(i)&&(f?xn(s,a)&&gt(n,"set",r,s):gt(n,"add",r,s)),m}}function Ro(e,t){const n=pe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&gt(e,"delete",t,void 0),r}function Oo(e,t){const n=Reflect.has(e,t);return(!Ir(t)||!es.has(t))&&He(e,"has",t),n}function No(e){return He(e,"iterate",le(e)?"length":Mt),Reflect.ownKeys(e)}const ns={get:Co,set:To,deleteProperty:Ro,has:Oo,ownKeys:No},Io={get:_o,set(e,t){return!0},deleteProperty(e,t){return!0}},Po=Oe({},ns,{get:xo,set:Bo}),jr=e=>e,Fn=e=>Reflect.getPrototypeOf(e);function fn(e,t,n=!1,r=!1){e=e.__v_raw;const s=ye(e),i=ye(t);n||(t!==i&&He(s,"get",t),He(s,"get",i));const{has:a}=Fn(s),f=r?jr:n?Hr:zr;if(a.call(s,t))return f(e.get(t));if(a.call(s,i))return f(e.get(i));e!==s&&e.get(t)}function dn(e,t=!1){const n=this.__v_raw,r=ye(n),s=ye(e);return t||(e!==s&&He(r,"has",e),He(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function hn(e,t=!1){return e=e.__v_raw,!t&&He(ye(e),"iterate",Mt),Reflect.get(e,"size",e)}function ci(e){e=ye(e);const t=ye(this);return Fn(t).has.call(t,e)||(t.add(e),gt(t,"add",e,e)),this}function li(e,t){t=ye(t);const n=ye(this),{has:r,get:s}=Fn(n);let i=r.call(n,e);i||(e=ye(e),i=r.call(n,e));const a=s.call(n,e);return n.set(e,t),i?xn(t,a)&&gt(n,"set",e,t):gt(n,"add",e,t),this}function ui(e){const t=ye(this),{has:n,get:r}=Fn(t);let s=n.call(t,e);s||(e=ye(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&gt(t,"delete",e,void 0),i}function fi(){const e=ye(this),t=e.size!==0,n=e.clear();return t&&gt(e,"clear",void 0,void 0),n}function pn(e,t){return function(r,s){const i=this,a=i.__v_raw,f=ye(a),m=t?jr:e?Hr:zr;return!e&&He(f,"iterate",Mt),a.forEach((w,b)=>r.call(s,m(w),m(b),i))}}function mn(e,t,n){return function(...r){const s=this.__v_raw,i=ye(s),a=Ht(i),f=e==="entries"||e===Symbol.iterator&&a,m=e==="keys"&&a,w=s[e](...r),b=n?jr:t?Hr:zr;return!t&&He(i,"iterate",m?ur:Mt),{next(){const{value:y,done:o}=w.next();return o?{value:y,done:o}:{value:f?[b(y[0]),b(y[1])]:b(y),done:o}},[Symbol.iterator](){return this}}}}function bt(e){return function(...t){return e==="delete"?!1:this}}function Fo(){const e={get(i){return fn(this,i)},get size(){return hn(this)},has:dn,add:ci,set:li,delete:ui,clear:fi,forEach:pn(!1,!1)},t={get(i){return fn(this,i,!1,!0)},get size(){return hn(this)},has:dn,add:ci,set:li,delete:ui,clear:fi,forEach:pn(!1,!0)},n={get(i){return fn(this,i,!0)},get size(){return hn(this,!0)},has(i){return dn.call(this,i,!0)},add:bt("add"),set:bt("set"),delete:bt("delete"),clear:bt("clear"),forEach:pn(!0,!1)},r={get(i){return fn(this,i,!0,!0)},get size(){return hn(this,!0)},has(i){return dn.call(this,i,!0)},add:bt("add"),set:bt("set"),delete:bt("delete"),clear:bt("clear"),forEach:pn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=mn(i,!1,!1),n[i]=mn(i,!0,!1),t[i]=mn(i,!1,!0),r[i]=mn(i,!0,!0)}),[e,n,t,r]}const[Mo,Do,jo,Vo]=Fo();function Vr(e,t){const n=t?e?Vo:jo:e?Do:Mo;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(pe(n,s)&&s in r?n:r,s,i)}const Uo={get:Vr(!1,!1)},Lo={get:Vr(!1,!0)},zo={get:Vr(!0,!1)},rs=new WeakMap,is=new WeakMap,ss=new WeakMap,Ho=new WeakMap;function Wo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $o(e){return e.__v_skip||!Object.isExtensible(e)?0:Wo(mo(e))}function Ur(e){return sn(e)?e:Lr(e,!1,ns,Uo,rs)}function Yo(e){return Lr(e,!1,Po,Lo,is)}function os(e){return Lr(e,!0,Io,zo,ss)}function Lr(e,t,n,r,s){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=$o(e);if(a===0)return e;const f=new Proxy(e,a===2?r:n);return s.set(e,f),f}function Wt(e){return sn(e)?Wt(e.__v_raw):!!(e&&e.__v_isReactive)}function sn(e){return!!(e&&e.__v_isReadonly)}function dr(e){return!!(e&&e.__v_isShallow)}function as(e){return Wt(e)||sn(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function cs(e){return _n(e,"__v_skip",!0),e}const zr=e=>Ae(e)?Ur(e):e,Hr=e=>Ae(e)?os(e):e;function Go(e){At&&Je&&(e=ye(e),Zi(e.dep||(e.dep=Fr())))}function qo(e,t){e=ye(e),e.dep&&fr(e.dep)}function De(e){return!!(e&&e.__v_isRef===!0)}function Qo(e){return De(e)?e.value:e}const Ko={get:(e,t,n)=>Qo(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return De(s)&&!De(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ls(e){return Wt(e)?e:new Proxy(e,Ko)}var us;class Jo{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[us]=!1,this._dirty=!0,this.effect=new Mr(t,()=>{this._dirty||(this._dirty=!0,qo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ye(this);return Go(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}us="__v_isReadonly";function Xo(e,t,n=!1){let r,s;const i=fe(e);return i?(r=e,s=et):(r=e.get,s=e.set),new Jo(r,s,i||!s,n)}function Ct(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Mn(i,t,n)}return s}function Ye(e,t,n,r){if(fe(e)){const i=Ct(e,t,n,r);return i&&Yi(i)&&i.catch(a=>{Mn(a,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Ye(e[i],t,n,r));return s}function Mn(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,f=n;for(;i;){const w=i.ec;if(w){for(let b=0;b<w.length;b++)if(w[b](e,a,f)===!1)return}i=i.parent}const m=t.appContext.config.errorHandler;if(m){Ct(m,null,10,[e,a,f]);return}}Zo(e,n,s,r)}function Zo(e,t,n,r=!0){console.error(e)}let on=!1,hr=!1;const Ie=[];let ct=0;const $t=[];let pt=null,Nt=0;const fs=Promise.resolve();let Wr=null;function ds(e){const t=Wr||fs;return e?t.then(this?e.bind(this):e):t}function ea(e){let t=ct+1,n=Ie.length;for(;t<n;){const r=t+n>>>1;an(Ie[r])<e?t=r+1:n=r}return t}function $r(e){(!Ie.length||!Ie.includes(e,on&&e.allowRecurse?ct+1:ct))&&(e.id==null?Ie.push(e):Ie.splice(ea(e.id),0,e),hs())}function hs(){!on&&!hr&&(hr=!0,Wr=fs.then(ms))}function ta(e){const t=Ie.indexOf(e);t>ct&&Ie.splice(t,1)}function na(e){le(e)?$t.push(...e):(!pt||!pt.includes(e,e.allowRecurse?Nt+1:Nt))&&$t.push(e),hs()}function di(e,t=on?ct+1:0){for(;t<Ie.length;t++){const n=Ie[t];n&&n.pre&&(Ie.splice(t,1),t--,n())}}function ps(e){if($t.length){const t=[...new Set($t)];if($t.length=0,pt){pt.push(...t);return}for(pt=t,pt.sort((n,r)=>an(n)-an(r)),Nt=0;Nt<pt.length;Nt++)pt[Nt]();pt=null,Nt=0}}const an=e=>e.id==null?1/0:e.id,ra=(e,t)=>{const n=an(e)-an(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ms(e){hr=!1,on=!0,Ie.sort(ra);const t=et;try{for(ct=0;ct<Ie.length;ct++){const n=Ie[ct];n&&n.active!==!1&&Ct(n,null,14)}}finally{ct=0,Ie.length=0,ps(),on=!1,Wr=null,(Ie.length||$t.length)&&ms()}}function ia(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||be;let s=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const b=`${a==="modelValue"?"model":a}Modifiers`,{number:y,trim:o}=r[b]||be;o&&(s=n.map(p=>p.trim())),y&&(s=n.map(rn))}let f,m=r[f=tr(t)]||r[f=tr(xt(t))];!m&&i&&(m=r[f=tr(mt(t))]),m&&Ye(m,e,6,s);const w=r[f+"Once"];if(w){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,Ye(w,e,6,s)}}function gs(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},f=!1;if(!fe(e)){const m=w=>{const b=gs(w,t,!0);b&&(f=!0,Oe(a,b))};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!i&&!f?(Ae(e)&&r.set(e,null),null):(le(i)?i.forEach(m=>a[m]=null):Oe(a,i),Ae(e)&&r.set(e,a),a)}function Dn(e,t){return!e||!Nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),pe(e,t[0].toLowerCase()+t.slice(1))||pe(e,mt(t))||pe(e,t))}let Xe=null,jn=null;function kn(e){const t=Xe;return Xe=e,jn=e&&e.type.__scopeId||null,t}function sa(e){jn=e}function oa(){jn=null}function aa(e,t=Xe,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Si(-1);const i=kn(t),a=e(...s);return kn(i),r._d&&Si(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function nr(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[a],slots:f,attrs:m,emit:w,render:b,renderCache:y,data:o,setupState:p,ctx:g,inheritAttrs:d}=e;let c,E;const x=kn(e);try{if(n.shapeFlag&4){const T=s||r;c=at(b.call(T,T,y,i,p,o,g)),E=m}else{const T=t;c=at(T.length>1?T(i,{attrs:m,slots:f,emit:w}):T(i,null)),E=t.props?m:ca(m)}}catch(T){nn.length=0,Mn(T,e,1),c=lt(tt)}let I=c;if(E&&d!==!1){const T=Object.keys(E),{shapeFlag:C}=I;T.length&&C&7&&(a&&T.some(Or)&&(E=la(E,a)),I=kt(I,E))}return n.dirs&&(I=kt(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),c=I,kn(x),c}const ca=e=>{let t;for(const n in e)(n==="class"||n==="style"||Nn(n))&&((t||(t={}))[n]=e[n]);return t},la=(e,t)=>{const n={};for(const r in e)(!Or(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ua(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:f,patchFlag:m}=t,w=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&m>=0){if(m&1024)return!0;if(m&16)return r?hi(r,a,w):!!a;if(m&8){const b=t.dynamicProps;for(let y=0;y<b.length;y++){const o=b[y];if(a[o]!==r[o]&&!Dn(w,o))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:r===a?!1:r?a?hi(r,a,w):!0:!!a;return!1}function hi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Dn(n,i))return!0}return!1}function fa({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const da=e=>e.__isSuspense;function ha(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):na(e)}function pa(e,t){if(Re){let n=Re.provides;const r=Re.parent&&Re.parent.provides;r===n&&(n=Re.provides=Object.create(r)),n[e]=t}}function rr(e,t,n=!1){const r=Re||Xe;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&fe(t)?t.call(r.proxy):t}}const pi={};function ir(e,t,n){return ys(e,t,n)}function ys(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:a}=be){const f=Re;let m,w=!1,b=!1;if(De(e)?(m=()=>e.value,w=dr(e)):Wt(e)?(m=()=>e,r=!0):le(e)?(b=!0,w=e.some(E=>Wt(E)||dr(E)),m=()=>e.map(E=>{if(De(E))return E.value;if(Wt(E))return Ft(E);if(fe(E))return Ct(E,f,2)})):fe(e)?t?m=()=>Ct(e,f,2):m=()=>{if(!(f&&f.isUnmounted))return y&&y(),Ye(e,f,3,[o])}:m=et,t&&r){const E=m;m=()=>Ft(E())}let y,o=E=>{y=c.onStop=()=>{Ct(E,f,4)}};if(ln)return o=et,t?n&&Ye(t,f,3,[m(),b?[]:void 0,o]):m(),et;let p=b?[]:pi;const g=()=>{if(!!c.active)if(t){const E=c.run();(r||w||(b?E.some((x,I)=>xn(x,p[I])):xn(E,p)))&&(y&&y(),Ye(t,f,3,[E,p===pi?void 0:p,o]),p=E)}else c.run()};g.allowRecurse=!!t;let d;s==="sync"?d=g:s==="post"?d=()=>Le(g,f&&f.suspense):(g.pre=!0,f&&(g.id=f.uid),d=()=>$r(g));const c=new Mr(m,d);return t?n?g():p=c.run():s==="post"?Le(c.run.bind(c),f&&f.suspense):c.run(),()=>{c.stop(),f&&f.scope&&Nr(f.scope.effects,c)}}function ma(e,t,n){const r=this.proxy,s=Pe(e)?e.includes(".")?vs(r,e):()=>r[e]:e.bind(r,r);let i;fe(t)?i=t:(i=t.handler,n=t);const a=Re;Yt(this);const f=ys(s,i.bind(r),n);return a?Yt(a):Dt(),f}function vs(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Ft(e,t){if(!Ae(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),De(e))Ft(e.value,t);else if(le(e))for(let n=0;n<e.length;n++)Ft(e[n],t);else if($i(e)||Ht(e))e.forEach(n=>{Ft(n,t)});else if(qi(e))for(const n in e)Ft(e[n],t);return e}function ga(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ss(()=>{e.isMounted=!0}),As(()=>{e.isUnmounting=!0}),e}const $e=[Function,Array],ya={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$e,onEnter:$e,onAfterEnter:$e,onEnterCancelled:$e,onBeforeLeave:$e,onLeave:$e,onAfterLeave:$e,onLeaveCancelled:$e,onBeforeAppear:$e,onAppear:$e,onAfterAppear:$e,onAppearCancelled:$e},setup(e,{slots:t}){const n=rc(),r=ga();let s;return()=>{const i=t.default&&Es(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const d of i)if(d.type!==tt){a=d;break}}const f=ye(e),{mode:m}=f;if(r.isLeaving)return sr(a);const w=mi(a);if(!w)return sr(a);const b=pr(w,f,r,n);mr(w,b);const y=n.subTree,o=y&&mi(y);let p=!1;const{getTransitionKey:g}=w.type;if(g){const d=g();s===void 0?s=d:d!==s&&(s=d,p=!0)}if(o&&o.type!==tt&&(!It(w,o)||p)){const d=pr(o,f,r,n);if(mr(o,d),m==="out-in")return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update()},sr(a);m==="in-out"&&w.type!==tt&&(d.delayLeave=(c,E,x)=>{const I=bs(r,o);I[String(o.key)]=o,c._leaveCb=()=>{E(),c._leaveCb=void 0,delete b.delayedLeave},b.delayedLeave=x})}return a}}},va=ya;function bs(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function pr(e,t,n,r){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:f,onEnter:m,onAfterEnter:w,onEnterCancelled:b,onBeforeLeave:y,onLeave:o,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:d,onAppear:c,onAfterAppear:E,onAppearCancelled:x}=t,I=String(e.key),T=bs(n,e),C=(k,_)=>{k&&Ye(k,r,9,_)},B=(k,_)=>{const R=_[1];C(k,_),le(k)?k.every(F=>F.length<=1)&&R():k.length<=1&&R()},O={mode:i,persisted:a,beforeEnter(k){let _=f;if(!n.isMounted)if(s)_=d||f;else return;k._leaveCb&&k._leaveCb(!0);const R=T[I];R&&It(e,R)&&R.el._leaveCb&&R.el._leaveCb(),C(_,[k])},enter(k){let _=m,R=w,F=b;if(!n.isMounted)if(s)_=c||m,R=E||w,F=x||b;else return;let M=!1;const W=k._enterCb=J=>{M||(M=!0,J?C(F,[k]):C(R,[k]),O.delayedLeave&&O.delayedLeave(),k._enterCb=void 0)};_?B(_,[k,W]):W()},leave(k,_){const R=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return _();C(y,[k]);let F=!1;const M=k._leaveCb=W=>{F||(F=!0,_(),W?C(g,[k]):C(p,[k]),k._leaveCb=void 0,T[R]===e&&delete T[R])};T[R]=e,o?B(o,[k,M]):M()},clone(k){return pr(k,t,n,r)}};return O}function sr(e){if(Vn(e))return e=kt(e),e.children=null,e}function mi(e){return Vn(e)?e.children?e.children[0]:void 0:e}function mr(e,t){e.shapeFlag&6&&e.component?mr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Es(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const f=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===ot?(a.patchFlag&128&&s++,r=r.concat(Es(a.children,t,f))):(t||a.type!==tt)&&r.push(f!=null?kt(a,{key:f}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ba(e){return fe(e)?{setup:e,name:e.name}:e}const En=e=>!!e.type.__asyncLoader,Vn=e=>e.type.__isKeepAlive;function Ea(e,t){ws(e,"a",t)}function wa(e,t){ws(e,"da",t)}function ws(e,t,n=Re){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Un(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Vn(s.parent.vnode)&&Sa(r,t,n,s),s=s.parent}}function Sa(e,t,n,r){const s=Un(t,e,r,!0);Cs(()=>{Nr(r[t],s)},n)}function Un(e,t,n=Re,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Gt(),Yt(n);const f=Ye(t,n,e,a);return Dt(),qt(),f});return r?s.unshift(i):s.push(i),i}}const yt=e=>(t,n=Re)=>(!ln||e==="sp")&&Un(e,t,n),Aa=yt("bm"),Ss=yt("m"),Ca=yt("bu"),xa=yt("u"),As=yt("bum"),Cs=yt("um"),_a=yt("sp"),ka=yt("rtg"),Ta=yt("rtc");function Ba(e,t=Re){Un("ec",e,t)}function Tn(e,t){const n=Xe;if(n===null)return e;const r=Hn(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,f,m,w=be]=t[i];fe(a)&&(a={mounted:a,updated:a}),a.deep&&Ft(f),s.push({dir:a,instance:r,value:f,oldValue:void 0,arg:m,modifiers:w})}return e}function Bt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const f=s[a];i&&(f.oldValue=i[a].value);let m=f.dir[r];m&&(Gt(),Ye(m,n,8,[e.el,f,e,t]),qt())}}const Ra=Symbol(),gr=e=>e?Fs(e)?Hn(e)||e.proxy:gr(e.parent):null,Bn=Oe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gr(e.parent),$root:e=>gr(e.root),$emit:e=>e.emit,$options:e=>Yr(e),$forceUpdate:e=>e.f||(e.f=()=>$r(e.update)),$nextTick:e=>e.n||(e.n=ds.bind(e.proxy)),$watch:e=>ma.bind(e)}),Oa={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:f,appContext:m}=e;let w;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==be&&pe(r,t))return a[t]=1,r[t];if(s!==be&&pe(s,t))return a[t]=2,s[t];if((w=e.propsOptions[0])&&pe(w,t))return a[t]=3,i[t];if(n!==be&&pe(n,t))return a[t]=4,n[t];yr&&(a[t]=0)}}const b=Bn[t];let y,o;if(b)return t==="$attrs"&&He(e,"get",t),b(e);if((y=f.__cssModules)&&(y=y[t]))return y;if(n!==be&&pe(n,t))return a[t]=4,n[t];if(o=m.config.globalProperties,pe(o,t))return o[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==be&&pe(s,t)?(s[t]=n,!0):r!==be&&pe(r,t)?(r[t]=n,!0):pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let f;return!!n[a]||e!==be&&pe(e,a)||t!==be&&pe(t,a)||(f=i[0])&&pe(f,a)||pe(r,a)||pe(Bn,a)||pe(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let yr=!0;function Na(e){const t=Yr(e),n=e.proxy,r=e.ctx;yr=!1,t.beforeCreate&&gi(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:f,provide:m,inject:w,created:b,beforeMount:y,mounted:o,beforeUpdate:p,updated:g,activated:d,deactivated:c,beforeDestroy:E,beforeUnmount:x,destroyed:I,unmounted:T,render:C,renderTracked:B,renderTriggered:O,errorCaptured:k,serverPrefetch:_,expose:R,inheritAttrs:F,components:M,directives:W,filters:J}=t;if(w&&Ia(w,r,null,e.appContext.config.unwrapInjectedRef),a)for(const oe in a){const Z=a[oe];fe(Z)&&(r[oe]=Z.bind(n))}if(s){const oe=s.call(n,n);Ae(oe)&&(e.data=Ur(oe))}if(yr=!0,i)for(const oe in i){const Z=i[oe],re=fe(Z)?Z.bind(n,n):fe(Z.get)?Z.get.bind(n,n):et,Ee=!fe(Z)&&fe(Z.set)?Z.set.bind(n):et,we=lc({get:re,set:Ee});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>we.value,set:nt=>we.value=nt})}if(f)for(const oe in f)xs(f[oe],r,n,oe);if(m){const oe=fe(m)?m.call(n):m;Reflect.ownKeys(oe).forEach(Z=>{pa(Z,oe[Z])})}b&&gi(b,e,"c");function V(oe,Z){le(Z)?Z.forEach(re=>oe(re.bind(n))):Z&&oe(Z.bind(n))}if(V(Aa,y),V(Ss,o),V(Ca,p),V(xa,g),V(Ea,d),V(wa,c),V(Ba,k),V(Ta,B),V(ka,O),V(As,x),V(Cs,T),V(_a,_),le(R))if(R.length){const oe=e.exposed||(e.exposed={});R.forEach(Z=>{Object.defineProperty(oe,Z,{get:()=>n[Z],set:re=>n[Z]=re})})}else e.exposed||(e.exposed={});C&&e.render===et&&(e.render=C),F!=null&&(e.inheritAttrs=F),M&&(e.components=M),W&&(e.directives=W)}function Ia(e,t,n=et,r=!1){le(e)&&(e=vr(e));for(const s in e){const i=e[s];let a;Ae(i)?"default"in i?a=rr(i.from||s,i.default,!0):a=rr(i.from||s):a=rr(i),De(a)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:f=>a.value=f}):t[s]=a}}function gi(e,t,n){Ye(le(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function xs(e,t,n,r){const s=r.includes(".")?vs(n,r):()=>n[r];if(Pe(e)){const i=t[e];fe(i)&&ir(s,i)}else if(fe(e))ir(s,e.bind(n));else if(Ae(e))if(le(e))e.forEach(i=>xs(i,t,n,r));else{const i=fe(e.handler)?e.handler.bind(n):t[e.handler];fe(i)&&ir(s,i,e)}}function Yr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,f=i.get(t);let m;return f?m=f:!s.length&&!n&&!r?m=t:(m={},s.length&&s.forEach(w=>Rn(m,w,a,!0)),Rn(m,t,a)),Ae(t)&&i.set(t,m),m}function Rn(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Rn(e,i,n,!0),s&&s.forEach(a=>Rn(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const f=Pa[a]||n&&n[a];e[a]=f?f(e[a],t[a]):t[a]}return e}const Pa={data:yi,props:Ot,emits:Ot,methods:Ot,computed:Ot,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Ot,directives:Ot,watch:Ma,provide:yi,inject:Fa};function yi(e,t){return t?e?function(){return Oe(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function Fa(e,t){return Ot(vr(e),vr(t))}function vr(e){if(le(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Ot(e,t){return e?Oe(Oe(Object.create(null),e),t):t}function Ma(e,t){if(!e)return t;if(!t)return e;const n=Oe(Object.create(null),e);for(const r in t)n[r]=Me(e[r],t[r]);return n}function Da(e,t,n,r=!1){const s={},i={};_n(i,Ln,1),e.propsDefaults=Object.create(null),_s(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Yo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function ja(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,f=ye(s),[m]=e.propsOptions;let w=!1;if((r||a>0)&&!(a&16)){if(a&8){const b=e.vnode.dynamicProps;for(let y=0;y<b.length;y++){let o=b[y];if(Dn(e.emitsOptions,o))continue;const p=t[o];if(m)if(pe(i,o))p!==i[o]&&(i[o]=p,w=!0);else{const g=xt(o);s[g]=br(m,f,g,p,e,!1)}else p!==i[o]&&(i[o]=p,w=!0)}}}else{_s(e,t,s,i)&&(w=!0);let b;for(const y in f)(!t||!pe(t,y)&&((b=mt(y))===y||!pe(t,b)))&&(m?n&&(n[y]!==void 0||n[b]!==void 0)&&(s[y]=br(m,f,y,void 0,e,!0)):delete s[y]);if(i!==f)for(const y in i)(!t||!pe(t,y)&&!0)&&(delete i[y],w=!0)}w&&gt(e,"set","$attrs")}function _s(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,f;if(t)for(let m in t){if(vn(m))continue;const w=t[m];let b;s&&pe(s,b=xt(m))?!i||!i.includes(b)?n[b]=w:(f||(f={}))[b]=w:Dn(e.emitsOptions,m)||(!(m in r)||w!==r[m])&&(r[m]=w,a=!0)}if(i){const m=ye(n),w=f||be;for(let b=0;b<i.length;b++){const y=i[b];n[y]=br(s,m,y,w[y],e,!pe(w,y))}}return a}function br(e,t,n,r,s,i){const a=e[n];if(a!=null){const f=pe(a,"default");if(f&&r===void 0){const m=a.default;if(a.type!==Function&&fe(m)){const{propsDefaults:w}=s;n in w?r=w[n]:(Yt(s),r=w[n]=m.call(null,t),Dt())}else r=m}a[0]&&(i&&!f?r=!1:a[1]&&(r===""||r===mt(n))&&(r=!0))}return r}function ks(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},f=[];let m=!1;if(!fe(e)){const b=y=>{m=!0;const[o,p]=ks(y,t,!0);Oe(a,o),p&&f.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!i&&!m)return Ae(e)&&r.set(e,zt),zt;if(le(i))for(let b=0;b<i.length;b++){const y=xt(i[b]);vi(y)&&(a[y]=be)}else if(i)for(const b in i){const y=xt(b);if(vi(y)){const o=i[b],p=a[y]=le(o)||fe(o)?{type:o}:o;if(p){const g=wi(Boolean,p.type),d=wi(String,p.type);p[0]=g>-1,p[1]=d<0||g<d,(g>-1||pe(p,"default"))&&f.push(y)}}}const w=[a,f];return Ae(e)&&r.set(e,w),w}function vi(e){return e[0]!=="$"}function bi(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Ei(e,t){return bi(e)===bi(t)}function wi(e,t){return le(t)?t.findIndex(n=>Ei(n,e)):fe(t)&&Ei(t,e)?0:-1}const Ts=e=>e[0]==="_"||e==="$stable",Gr=e=>le(e)?e.map(at):[at(e)],Va=(e,t,n)=>{if(t._n)return t;const r=aa((...s)=>Gr(t(...s)),n);return r._c=!1,r},Bs=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ts(s))continue;const i=e[s];if(fe(i))t[s]=Va(s,i,r);else if(i!=null){const a=Gr(i);t[s]=()=>a}}},Rs=(e,t)=>{const n=Gr(t);e.slots.default=()=>n},Ua=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ye(t),_n(t,"_",n)):Bs(t,e.slots={})}else e.slots={},t&&Rs(e,t);_n(e.slots,Ln,1)},La=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=be;if(r.shapeFlag&32){const f=t._;f?n&&f===1?i=!1:(Oe(s,t),!n&&f===1&&delete s._):(i=!t.$stable,Bs(t,s)),a=t}else t&&(Rs(e,t),a={default:1});if(i)for(const f in s)!Ts(f)&&!(f in a)&&delete s[f]};function Os(){return{app:null,config:{isNativeTag:fo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let za=0;function Ha(e,t){return function(r,s=null){fe(r)||(r=Object.assign({},r)),s!=null&&!Ae(s)&&(s=null);const i=Os(),a=new Set;let f=!1;const m=i.app={_uid:za++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:uc,get config(){return i.config},set config(w){},use(w,...b){return a.has(w)||(w&&fe(w.install)?(a.add(w),w.install(m,...b)):fe(w)&&(a.add(w),w(m,...b))),m},mixin(w){return i.mixins.includes(w)||i.mixins.push(w),m},component(w,b){return b?(i.components[w]=b,m):i.components[w]},directive(w,b){return b?(i.directives[w]=b,m):i.directives[w]},mount(w,b,y){if(!f){const o=lt(r,s);return o.appContext=i,b&&t?t(o,w):e(o,w,y),f=!0,m._container=w,w.__vue_app__=m,Hn(o.component)||o.component.proxy}},unmount(){f&&(e(null,m._container),delete m._container.__vue_app__)},provide(w,b){return i.provides[w]=b,m}};return m}}function Er(e,t,n,r,s=!1){if(le(e)){e.forEach((o,p)=>Er(o,t&&(le(t)?t[p]:t),n,r,s));return}if(En(r)&&!s)return;const i=r.shapeFlag&4?Hn(r.component)||r.component.proxy:r.el,a=s?null:i,{i:f,r:m}=e,w=t&&t.r,b=f.refs===be?f.refs={}:f.refs,y=f.setupState;if(w!=null&&w!==m&&(Pe(w)?(b[w]=null,pe(y,w)&&(y[w]=null)):De(w)&&(w.value=null)),fe(m))Ct(m,f,12,[a,b]);else{const o=Pe(m),p=De(m);if(o||p){const g=()=>{if(e.f){const d=o?b[m]:m.value;s?le(d)&&Nr(d,i):le(d)?d.includes(i)||d.push(i):o?(b[m]=[i],pe(y,m)&&(y[m]=b[m])):(m.value=[i],e.k&&(b[e.k]=m.value))}else o?(b[m]=a,pe(y,m)&&(y[m]=a)):p&&(m.value=a,e.k&&(b[e.k]=a))};a?(g.id=-1,Le(g,n)):g()}}}const Le=ha;function Wa(e){return $a(e)}function $a(e,t){const n=vo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:f,createComment:m,setText:w,setElementText:b,parentNode:y,nextSibling:o,setScopeId:p=et,cloneNode:g,insertStaticContent:d}=e,c=(N,j,L,Y=null,H=null,G=null,ne=!1,Q=null,K=!!j.dynamicChildren)=>{if(N===j)return;N&&!It(N,j)&&(Y=Ge(N),We(N,H,G,!0),N=null),j.patchFlag===-2&&(K=!1,j.dynamicChildren=null);const{type:q,ref:S,shapeFlag:l}=j;switch(q){case qr:E(N,j,L,Y);break;case tt:x(N,j,L,Y);break;case or:N==null&&I(j,L,Y,ne);break;case ot:W(N,j,L,Y,H,G,ne,Q,K);break;default:l&1?B(N,j,L,Y,H,G,ne,Q,K):l&6?J(N,j,L,Y,H,G,ne,Q,K):(l&64||l&128)&&q.process(N,j,L,Y,H,G,ne,Q,K,qe)}S!=null&&H&&Er(S,N&&N.ref,G,j||N,!j)},E=(N,j,L,Y)=>{if(N==null)r(j.el=f(j.children),L,Y);else{const H=j.el=N.el;j.children!==N.children&&w(H,j.children)}},x=(N,j,L,Y)=>{N==null?r(j.el=m(j.children||""),L,Y):j.el=N.el},I=(N,j,L,Y)=>{[N.el,N.anchor]=d(N.children,j,L,Y,N.el,N.anchor)},T=({el:N,anchor:j},L,Y)=>{let H;for(;N&&N!==j;)H=o(N),r(N,L,Y),N=H;r(j,L,Y)},C=({el:N,anchor:j})=>{let L;for(;N&&N!==j;)L=o(N),s(N),N=L;s(j)},B=(N,j,L,Y,H,G,ne,Q,K)=>{ne=ne||j.type==="svg",N==null?O(j,L,Y,H,G,ne,Q,K):R(N,j,H,G,ne,Q,K)},O=(N,j,L,Y,H,G,ne,Q)=>{let K,q;const{type:S,props:l,shapeFlag:u,transition:A,patchFlag:P,dirs:U}=N;if(N.el&&g!==void 0&&P===-1)K=N.el=g(N.el);else{if(K=N.el=a(N.type,G,l&&l.is,l),u&8?b(K,N.children):u&16&&_(N.children,K,null,Y,H,G&&S!=="foreignObject",ne,Q),U&&Bt(N,null,Y,"created"),l){for(const ie in l)ie!=="value"&&!vn(ie)&&i(K,ie,null,l[ie],G,N.children,Y,H,he);"value"in l&&i(K,"value",null,l.value),(q=l.onVnodeBeforeMount)&&it(q,Y,N)}k(K,N,N.scopeId,ne,Y)}U&&Bt(N,null,Y,"beforeMount");const z=(!H||H&&!H.pendingBranch)&&A&&!A.persisted;z&&A.beforeEnter(K),r(K,j,L),((q=l&&l.onVnodeMounted)||z||U)&&Le(()=>{q&&it(q,Y,N),z&&A.enter(K),U&&Bt(N,null,Y,"mounted")},H)},k=(N,j,L,Y,H)=>{if(L&&p(N,L),Y)for(let G=0;G<Y.length;G++)p(N,Y[G]);if(H){let G=H.subTree;if(j===G){const ne=H.vnode;k(N,ne,ne.scopeId,ne.slotScopeIds,H.parent)}}},_=(N,j,L,Y,H,G,ne,Q,K=0)=>{for(let q=K;q<N.length;q++){const S=N[q]=Q?Et(N[q]):at(N[q]);c(null,S,j,L,Y,H,G,ne,Q)}},R=(N,j,L,Y,H,G,ne)=>{const Q=j.el=N.el;let{patchFlag:K,dynamicChildren:q,dirs:S}=j;K|=N.patchFlag&16;const l=N.props||be,u=j.props||be;let A;L&&Rt(L,!1),(A=u.onVnodeBeforeUpdate)&&it(A,L,j,N),S&&Bt(j,N,L,"beforeUpdate"),L&&Rt(L,!0);const P=H&&j.type!=="foreignObject";if(q?F(N.dynamicChildren,q,Q,L,Y,P,G):ne||re(N,j,Q,null,L,Y,P,G,!1),K>0){if(K&16)M(Q,j,l,u,L,Y,H);else if(K&2&&l.class!==u.class&&i(Q,"class",null,u.class,H),K&4&&i(Q,"style",l.style,u.style,H),K&8){const U=j.dynamicProps;for(let z=0;z<U.length;z++){const ie=U[z],ue=l[ie],de=u[ie];(de!==ue||ie==="value")&&i(Q,ie,ue,de,H,N.children,L,Y,he)}}K&1&&N.children!==j.children&&b(Q,j.children)}else!ne&&q==null&&M(Q,j,l,u,L,Y,H);((A=u.onVnodeUpdated)||S)&&Le(()=>{A&&it(A,L,j,N),S&&Bt(j,N,L,"updated")},Y)},F=(N,j,L,Y,H,G,ne)=>{for(let Q=0;Q<j.length;Q++){const K=N[Q],q=j[Q],S=K.el&&(K.type===ot||!It(K,q)||K.shapeFlag&70)?y(K.el):L;c(K,q,S,null,Y,H,G,ne,!0)}},M=(N,j,L,Y,H,G,ne)=>{if(L!==Y){for(const Q in Y){if(vn(Q))continue;const K=Y[Q],q=L[Q];K!==q&&Q!=="value"&&i(N,Q,q,K,ne,j.children,H,G,he)}if(L!==be)for(const Q in L)!vn(Q)&&!(Q in Y)&&i(N,Q,L[Q],null,ne,j.children,H,G,he);"value"in Y&&i(N,"value",L.value,Y.value)}},W=(N,j,L,Y,H,G,ne,Q,K)=>{const q=j.el=N?N.el:f(""),S=j.anchor=N?N.anchor:f("");let{patchFlag:l,dynamicChildren:u,slotScopeIds:A}=j;A&&(Q=Q?Q.concat(A):A),N==null?(r(q,L,Y),r(S,L,Y),_(j.children,L,S,H,G,ne,Q,K)):l>0&&l&64&&u&&N.dynamicChildren?(F(N.dynamicChildren,u,L,H,G,ne,Q),(j.key!=null||H&&j===H.subTree)&&Ns(N,j,!0)):re(N,j,L,S,H,G,ne,Q,K)},J=(N,j,L,Y,H,G,ne,Q,K)=>{j.slotScopeIds=Q,N==null?j.shapeFlag&512?H.ctx.activate(j,L,Y,ne,K):X(j,L,Y,H,G,ne,K):V(N,j,K)},X=(N,j,L,Y,H,G,ne)=>{const Q=N.component=nc(N,Y,H);if(Vn(N)&&(Q.ctx.renderer=qe),ic(Q),Q.asyncDep){if(H&&H.registerDep(Q,oe),!N.el){const K=Q.subTree=lt(tt);x(null,K,j,L)}return}oe(Q,N,j,L,H,G,ne)},V=(N,j,L)=>{const Y=j.component=N.component;if(ua(N,j,L))if(Y.asyncDep&&!Y.asyncResolved){Z(Y,j,L);return}else Y.next=j,ta(Y.update),Y.update();else j.el=N.el,Y.vnode=j},oe=(N,j,L,Y,H,G,ne)=>{const Q=()=>{if(N.isMounted){let{next:S,bu:l,u,parent:A,vnode:P}=N,U=S,z;Rt(N,!1),S?(S.el=P.el,Z(N,S,ne)):S=P,l&&bn(l),(z=S.props&&S.props.onVnodeBeforeUpdate)&&it(z,A,S,P),Rt(N,!0);const ie=nr(N),ue=N.subTree;N.subTree=ie,c(ue,ie,y(ue.el),Ge(ue),N,H,G),S.el=ie.el,U===null&&fa(N,ie.el),u&&Le(u,H),(z=S.props&&S.props.onVnodeUpdated)&&Le(()=>it(z,A,S,P),H)}else{let S;const{el:l,props:u}=j,{bm:A,m:P,parent:U}=N,z=En(j);if(Rt(N,!1),A&&bn(A),!z&&(S=u&&u.onVnodeBeforeMount)&&it(S,U,j),Rt(N,!0),l&&Qe){const ie=()=>{N.subTree=nr(N),Qe(l,N.subTree,N,H,null)};z?j.type.__asyncLoader().then(()=>!N.isUnmounted&&ie()):ie()}else{const ie=N.subTree=nr(N);c(null,ie,L,Y,N,H,G),j.el=ie.el}if(P&&Le(P,H),!z&&(S=u&&u.onVnodeMounted)){const ie=j;Le(()=>it(S,U,ie),H)}(j.shapeFlag&256||U&&En(U.vnode)&&U.vnode.shapeFlag&256)&&N.a&&Le(N.a,H),N.isMounted=!0,j=L=Y=null}},K=N.effect=new Mr(Q,()=>$r(q),N.scope),q=N.update=()=>K.run();q.id=N.uid,Rt(N,!0),q()},Z=(N,j,L)=>{j.component=N;const Y=N.vnode.props;N.vnode=j,N.next=null,ja(N,j.props,Y,L),La(N,j.children,L),Gt(),di(),qt()},re=(N,j,L,Y,H,G,ne,Q,K=!1)=>{const q=N&&N.children,S=N?N.shapeFlag:0,l=j.children,{patchFlag:u,shapeFlag:A}=j;if(u>0){if(u&128){we(q,l,L,Y,H,G,ne,Q,K);return}else if(u&256){Ee(q,l,L,Y,H,G,ne,Q,K);return}}A&8?(S&16&&he(q,H,G),l!==q&&b(L,l)):S&16?A&16?we(q,l,L,Y,H,G,ne,Q,K):he(q,H,G,!0):(S&8&&b(L,""),A&16&&_(l,L,Y,H,G,ne,Q,K))},Ee=(N,j,L,Y,H,G,ne,Q,K)=>{N=N||zt,j=j||zt;const q=N.length,S=j.length,l=Math.min(q,S);let u;for(u=0;u<l;u++){const A=j[u]=K?Et(j[u]):at(j[u]);c(N[u],A,L,null,H,G,ne,Q,K)}q>S?he(N,H,G,!0,!1,l):_(j,L,Y,H,G,ne,Q,K,l)},we=(N,j,L,Y,H,G,ne,Q,K)=>{let q=0;const S=j.length;let l=N.length-1,u=S-1;for(;q<=l&&q<=u;){const A=N[q],P=j[q]=K?Et(j[q]):at(j[q]);if(It(A,P))c(A,P,L,null,H,G,ne,Q,K);else break;q++}for(;q<=l&&q<=u;){const A=N[l],P=j[u]=K?Et(j[u]):at(j[u]);if(It(A,P))c(A,P,L,null,H,G,ne,Q,K);else break;l--,u--}if(q>l){if(q<=u){const A=u+1,P=A<S?j[A].el:Y;for(;q<=u;)c(null,j[q]=K?Et(j[q]):at(j[q]),L,P,H,G,ne,Q,K),q++}}else if(q>u)for(;q<=l;)We(N[q],H,G,!0),q++;else{const A=q,P=q,U=new Map;for(q=P;q<=u;q++){const Te=j[q]=K?Et(j[q]):at(j[q]);Te.key!=null&&U.set(Te.key,q)}let z,ie=0;const ue=u-P+1;let de=!1,Ce=0;const ge=new Array(ue);for(q=0;q<ue;q++)ge[q]=0;for(q=A;q<=l;q++){const Te=N[q];if(ie>=ue){We(Te,H,G,!0);continue}let Fe;if(Te.key!=null)Fe=U.get(Te.key);else for(z=P;z<=u;z++)if(ge[z-P]===0&&It(Te,j[z])){Fe=z;break}Fe===void 0?We(Te,H,G,!0):(ge[Fe-P]=q+1,Fe>=Ce?Ce=Fe:de=!0,c(Te,j[Fe],L,null,H,G,ne,Q,K),ie++)}const ht=de?Ya(ge):zt;for(z=ht.length-1,q=ue-1;q>=0;q--){const Te=P+q,Fe=j[Te],un=Te+1<S?j[Te+1].el:Y;ge[q]===0?c(null,Fe,L,un,H,G,ne,Q,K):de&&(z<0||q!==ht[z]?nt(Fe,L,un,2):z--)}}},nt=(N,j,L,Y,H=null)=>{const{el:G,type:ne,transition:Q,children:K,shapeFlag:q}=N;if(q&6){nt(N.component.subTree,j,L,Y);return}if(q&128){N.suspense.move(j,L,Y);return}if(q&64){ne.move(N,j,L,qe);return}if(ne===ot){r(G,j,L);for(let l=0;l<K.length;l++)nt(K[l],j,L,Y);r(N.anchor,j,L);return}if(ne===or){T(N,j,L);return}if(Y!==2&&q&1&&Q)if(Y===0)Q.beforeEnter(G),r(G,j,L),Le(()=>Q.enter(G),H);else{const{leave:l,delayLeave:u,afterLeave:A}=Q,P=()=>r(G,j,L),U=()=>{l(G,()=>{P(),A&&A()})};u?u(G,P,U):U()}else r(G,j,L)},We=(N,j,L,Y=!1,H=!1)=>{const{type:G,props:ne,ref:Q,children:K,dynamicChildren:q,shapeFlag:S,patchFlag:l,dirs:u}=N;if(Q!=null&&Er(Q,null,L,N,!0),S&256){j.ctx.deactivate(N);return}const A=S&1&&u,P=!En(N);let U;if(P&&(U=ne&&ne.onVnodeBeforeUnmount)&&it(U,j,N),S&6)Se(N.component,L,Y);else{if(S&128){N.suspense.unmount(L,Y);return}A&&Bt(N,null,j,"beforeUnmount"),S&64?N.type.remove(N,j,L,H,qe,Y):q&&(G!==ot||l>0&&l&64)?he(q,j,L,!1,!0):(G===ot&&l&384||!H&&S&16)&&he(K,j,L),Y&&jt(N)}(P&&(U=ne&&ne.onVnodeUnmounted)||A)&&Le(()=>{U&&it(U,j,N),A&&Bt(N,null,j,"unmounted")},L)},jt=N=>{const{type:j,el:L,anchor:Y,transition:H}=N;if(j===ot){Kt(L,Y);return}if(j===or){C(N);return}const G=()=>{s(L),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(N.shapeFlag&1&&H&&!H.persisted){const{leave:ne,delayLeave:Q}=H,K=()=>ne(L,G);Q?Q(N.el,G,K):K()}else G()},Kt=(N,j)=>{let L;for(;N!==j;)L=o(N),s(N),N=L;s(j)},Se=(N,j,L)=>{const{bum:Y,scope:H,update:G,subTree:ne,um:Q}=N;Y&&bn(Y),H.stop(),G&&(G.active=!1,We(ne,N,j,L)),Q&&Le(Q,j),Le(()=>{N.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},he=(N,j,L,Y=!1,H=!1,G=0)=>{for(let ne=G;ne<N.length;ne++)We(N[ne],j,L,Y,H)},Ge=N=>N.shapeFlag&6?Ge(N.component.subTree):N.shapeFlag&128?N.suspense.next():o(N.anchor||N.el),dt=(N,j,L)=>{N==null?j._vnode&&We(j._vnode,null,null,!0):c(j._vnode||null,N,j,null,null,null,L),di(),ps(),j._vnode=N},qe={p:c,um:We,m:nt,r:jt,mt:X,mc:_,pc:re,pbc:F,n:Ge,o:e};let vt,Qe;return t&&([vt,Qe]=t(qe)),{render:dt,hydrate:vt,createApp:Ha(dt,vt)}}function Rt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ns(e,t,n=!1){const r=e.children,s=t.children;if(le(r)&&le(s))for(let i=0;i<r.length;i++){const a=r[i];let f=s[i];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[i]=Et(s[i]),f.el=a.el),n||Ns(a,f))}}function Ya(e){const t=e.slice(),n=[0];let r,s,i,a,f;const m=e.length;for(r=0;r<m;r++){const w=e[r];if(w!==0){if(s=n[n.length-1],e[s]<w){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)f=i+a>>1,e[n[f]]<w?i=f+1:a=f;w<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}const Ga=e=>e.__isTeleport,ot=Symbol(void 0),qr=Symbol(void 0),tt=Symbol(void 0),or=Symbol(void 0),nn=[];let Ze=null;function se(e=!1){nn.push(Ze=e?null:[])}function qa(){nn.pop(),Ze=nn[nn.length-1]||null}let cn=1;function Si(e){cn+=e}function Is(e){return e.dynamicChildren=cn>0?Ze||zt:null,qa(),cn>0&&Ze&&Ze.push(e),e}function ae(e,t,n,r,s,i){return Is(ee(e,t,n,r,s,i,!0))}function Qa(e,t,n,r,s){return Is(lt(e,t,n,r,s,!0))}function Ka(e){return e?e.__v_isVNode===!0:!1}function It(e,t){return e.type===t.type&&e.key===t.key}const Ln="__vInternal",Ps=({key:e})=>e!=null?e:null,wn=({ref:e,ref_key:t,ref_for:n})=>e!=null?Pe(e)||De(e)||fe(e)?{i:Xe,r:e,k:t,f:!!n}:e:null;function ee(e,t=null,n=null,r=0,s=null,i=e===ot?0:1,a=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ps(t),ref:t&&wn(t),scopeId:jn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return f?(Qr(m,n),i&128&&e.normalize(m)):n&&(m.shapeFlag|=Pe(n)?8:16),cn>0&&!a&&Ze&&(m.patchFlag>0||i&6)&&m.patchFlag!==32&&Ze.push(m),m}const lt=Ja;function Ja(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Ra)&&(e=tt),Ka(e)){const f=kt(e,t,!0);return n&&Qr(f,n),cn>0&&!i&&Ze&&(f.shapeFlag&6?Ze[Ze.indexOf(e)]=f:Ze.push(f)),f.patchFlag|=-2,f}if(cc(e)&&(e=e.__vccOpts),t){t=Xa(t);let{class:f,style:m}=t;f&&!Pe(f)&&(t.class=Rr(f)),Ae(m)&&(as(m)&&!le(m)&&(m=Oe({},m)),t.style=Br(m))}const a=Pe(e)?1:da(e)?128:Ga(e)?64:Ae(e)?4:fe(e)?2:0;return ee(e,t,n,r,s,a,i,!0)}function Xa(e){return e?as(e)||Ln in e?Oe({},e):e:null}function kt(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:a}=e,f=t?Za(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Ps(f),ref:t&&t.ref?n&&s?le(s)?s.concat(wn(t)):[s,wn(t)]:wn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ot?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kt(e.ssContent),ssFallback:e.ssFallback&&kt(e.ssFallback),el:e.el,anchor:e.anchor}}function zn(e=" ",t=0){return lt(qr,null,e,t)}function ce(e="",t=!1){return t?(se(),Qa(tt,null,e)):lt(tt,null,e)}function at(e){return e==null||typeof e=="boolean"?lt(tt):le(e)?lt(ot,null,e.slice()):typeof e=="object"?Et(e):lt(qr,null,String(e))}function Et(e){return e.el===null||e.memo?e:kt(e)}function Qr(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(le(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Qr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ln in t)?t._ctx=Xe:s===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:Xe},n=32):(t=String(t),r&64?(n=16,t=[zn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Za(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rr([t.class,r.class]));else if(s==="style")t.style=Br([t.style,r.style]);else if(Nn(s)){const i=t[s],a=r[s];a&&i!==a&&!(le(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function it(e,t,n,r=null){Ye(e,t,7,[n,r])}const ec=Os();let tc=0;function nc(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||ec,i={uid:tc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new bo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ks(r,s),emitsOptions:gs(r,s),emit:null,emitted:null,propsDefaults:be,inheritAttrs:r.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ia.bind(null,i),e.ce&&e.ce(i),i}let Re=null;const rc=()=>Re||Xe,Yt=e=>{Re=e,e.scope.on()},Dt=()=>{Re&&Re.scope.off(),Re=null};function Fs(e){return e.vnode.shapeFlag&4}let ln=!1;function ic(e,t=!1){ln=t;const{props:n,children:r}=e.vnode,s=Fs(e);Da(e,n,s,t),Ua(e,r);const i=s?sc(e,t):void 0;return ln=!1,i}function sc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=cs(new Proxy(e.ctx,Oa));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?ac(e):null;Yt(e),Gt();const i=Ct(r,e,0,[e.props,s]);if(qt(),Dt(),Yi(i)){if(i.then(Dt,Dt),t)return i.then(a=>{Ai(e,a,t)}).catch(a=>{Mn(a,e,0)});e.asyncDep=i}else Ai(e,i,t)}else Ms(e,t)}function Ai(e,t,n){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=ls(t)),Ms(e,n)}let Ci;function Ms(e,t,n){const r=e.type;if(!e.render){if(!t&&Ci&&!r.render){const s=r.template||Yr(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:f,compilerOptions:m}=r,w=Oe(Oe({isCustomElement:i,delimiters:f},a),m);r.render=Ci(s,w)}}e.render=r.render||et}Yt(e),Gt(),Na(e),qt(),Dt()}function oc(e){return new Proxy(e.attrs,{get(t,n){return He(e,"get","$attrs"),t[n]}})}function ac(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=oc(e))},slots:e.slots,emit:e.emit,expose:t}}function Hn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ls(cs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bn)return Bn[n](e)}}))}function cc(e){return fe(e)&&"__vccOpts"in e}const lc=(e,t)=>Xo(e,t,ln),uc="3.2.39",fc="http://www.w3.org/2000/svg",Pt=typeof document<"u"?document:null,xi=Pt&&Pt.createElement("template"),dc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Pt.createElementNS(fc,e):Pt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{xi.innerHTML=r?`<svg>${e}</svg>`:e;const f=xi.content;if(r){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}t.insertBefore(f,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function hc(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function pc(e,t,n){const r=e.style,s=Pe(n);if(n&&!s){for(const i in n)wr(r,i,n[i]);if(t&&!Pe(t))for(const i in t)n[i]==null&&wr(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const _i=/\s*!important$/;function wr(e,t,n){if(le(n))n.forEach(r=>wr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=mc(e,t);_i.test(n)?e.setProperty(mt(r),n.replace(_i,""),"important"):e[r]=n}}const ki=["Webkit","Moz","ms"],ar={};function mc(e,t){const n=ar[t];if(n)return n;let r=xt(t);if(r!=="filter"&&r in e)return ar[t]=r;r=Qi(r);for(let s=0;s<ki.length;s++){const i=ki[s]+r;if(i in e)return ar[t]=i}return t}const Ti="http://www.w3.org/1999/xlink";function gc(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ti,t.slice(6,t.length)):e.setAttributeNS(Ti,t,n);else{const i=ao(t);n==null||i&&!Hi(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function yc(e,t,n,r,s,i,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const m=n==null?"":n;(e.value!==m||e.tagName==="OPTION")&&(e.value=m),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const m=typeof e[t];m==="boolean"?n=Hi(n):n==null&&m==="string"?(n="",f=!0):m==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}const[Ds,vc]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Sr=0;const bc=Promise.resolve(),Ec=()=>{Sr=0},wc=()=>Sr||(bc.then(Ec),Sr=Ds());function Lt(e,t,n,r){e.addEventListener(t,n,r)}function Sc(e,t,n,r){e.removeEventListener(t,n,r)}function Ac(e,t,n,r,s=null){const i=e._vei||(e._vei={}),a=i[t];if(r&&a)a.value=r;else{const[f,m]=Cc(t);if(r){const w=i[t]=xc(r,s);Lt(e,f,w,m)}else a&&(Sc(e,f,a,m),i[t]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function Cc(e){let t;if(Bi.test(e)){t={};let r;for(;r=e.match(Bi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mt(e.slice(2)),t]}function xc(e,t){const n=r=>{const s=r.timeStamp||Ds();(vc||s>=n.attached-1)&&Ye(_c(r,n.value),t,5,[r])};return n.value=e,n.attached=wc(),n}function _c(e,t){if(le(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ri=/^on[a-z]/,kc=(e,t,n,r,s=!1,i,a,f,m)=>{t==="class"?hc(e,r,s):t==="style"?pc(e,n,r):Nn(t)?Or(t)||Ac(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tc(e,t,r,s))?yc(e,t,r,i,a,f,m):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),gc(e,t,r,s))};function Tc(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Ri.test(t)&&fe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ri.test(t)&&Pe(n)?!1:t in e}function Wn(e,t){const n=ba(e);class r extends Kr{constructor(i){super(n,i,t)}}return r.def=n,r}const Bc=typeof HTMLElement<"u"?HTMLElement:class{};class Kr extends Bc{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,ds(()=>{this._connected||(Pi(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const t=r=>{const{props:s,styles:i}=r,a=!le(s),f=s?a?Object.keys(s):s:[];let m;if(a)for(const w in this._props){const b=s[w];(b===Number||b&&b.type===Number)&&(this._props[w]=rn(this._props[w]),(m||(m=Object.create(null)))[w]=!0)}this._numberProps=m;for(const w of Object.keys(this))w[0]!=="_"&&this._setProp(w,this[w],!0,!1);for(const w of f.map(xt))Object.defineProperty(this,w,{get(){return this._getProp(w)},set(b){this._setProp(w,b)}});this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=rn(n)),this._setProp(xt(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,s=!0){n!==this._props[t]&&(this._props[t]=n,s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(mt(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(mt(t),n+""):n||this.removeAttribute(mt(t))))}_update(){Pi(this._createVNode(),this.shadowRoot)}_createVNode(){const t=lt(this._def,Oe({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(s,...i)=>{this.dispatchEvent(new CustomEvent(s,{detail:i}))};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Kr){n.parent=r._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}const Rc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};va.props;const Oi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?n=>bn(t,n):t};function Oc(e){e.target.composing=!0}function Ni(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const On={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=Oi(s);const i=r||s.props&&s.props.type==="number";Lt(e,t?"change":"input",a=>{if(a.target.composing)return;let f=e.value;n&&(f=f.trim()),i&&(f=rn(f)),e._assign(f)}),n&&Lt(e,"change",()=>{e.value=e.value.trim()}),t||(Lt(e,"compositionstart",Oc),Lt(e,"compositionend",Ni),Lt(e,"change",Ni))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=Oi(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&rn(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},Nc=Oe({patchProp:kc},dc);let Ii;function Ic(){return Ii||(Ii=Wa(Nc))}const Pi=(...e)=>{Ic().render(...e)},Jr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABFElEQVQ4je2TTUrDUBRGz5ek065AN+ECTFId2KEgVhBEHFTBbbgFJ0WLCEKLOFRHNq0L6CL82YBTm3cdaEsbEmzTac/s3cc977twH6xYFkVJ4wpxDPhz9qRC7STqNPMugwVlAL5hJ8CMsPba2HCm3WBB2UQ6fYiS/e3U8SCs6pWQzRAPGkdIT4IqQL5Q9uilbg0L1oHnIlk0ODg34waojGv5Qlc5623df/bjuw8nnRYJZRYCmq4tPXKWIP/pUStKDpvOS+WZa2VCTDBpgNnedMqihHU0evfM3kA7RWn6YedSv2v3/Z9wbpKweyunusHXWJiW8Mz0JLXOi+8RI10EQu2/zZ/76xlcZ4u9ze4QGJYItyLDD9x1UbGriRMcAAAAAElFTkSuQmCC",$n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACD0lEQVQ4jbWTPWsUURiFn/fO7C5CLETslCgSSKN2AUFUEEFB3NmZrGAKBQ1qrWClEAsLwcLCShFEJAHX2Q+FWMQUWopNImjAJv4AuxDNTnaOhWyc7G42GvB089wz575n7h34n1otlc40w/DdShSd28iTlErHOtnPINi/XCzuAXBrxjC8kZo1gKMmPfkRBHt7BQrGkzC82X5eiaJh53kvne/nAAygGUUXkZ6uf1OzuVrtpIHW4XLZS1qtZwZzqdkrgynB+UIcL/yZULrUNYrZiSQMr3ThSqWV87wLwGEnzWTDspUXe9UD7vSCzTQdEgwCH510Nrvmfg+oxgaBXzvBShQNmzQpszHf80YFh7Lf1AHkfb+B2aeuetKtLpamD2U2VojjhXZ9SQfap29t42oQnE6dm842QxrJ12pzG0zfU2vXxq/X3wCTmbU8Zo3lMNy9pUCAnOddRfqcQYM+zKhc3rWlQKtUluRcBHzP4OGk1Xrf/hM2k/WCzSAYwbm3wPYM/oZUNM/boTS9CwwBt3PV6qPs5e8ZCJCMjh5Xmr4GBrJ7Afl1Rmm2JY1vq9cX+wZmJp0GdvbzAUsyu1yI4xeunytfr3+Q2RHgyyaBAyZdg45D6aVCHC/kPG8EaaqPLXVm92GTyp1KSqVTMrsHHMxgAdfz1eqDfw4E0MSEa87PF00qYrZPZo8Lcfz8X3P+Wr8ABB/HFBvq4VkAAAAASUVORK5CYII=",Yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABx0lEQVQ4ja2UsWsTURzHP79312tS6JjapVOnLjrUTcSL7f0BDqkVLG4ddBZBQTo5+CcUJ4XWkqVzSMkVBSlUEMFRnRMHU7CNMXfv53BJCLF3zRW/03vfd98P3/ce9+A/SwYDv1GZV3ECIxTzAKzScSOpHazuNodAv1GZR8xnoHSZVoq23Mi5erC62zQAKk5wWVjSSuZiJw4AXAAjFFVTv/+E6H5SRe4A186FGjMzBKZJYUe0+SD0wwhg+Xjzxeyvk9fAelrGZPAi0e6jsJzAAD5e3+5FjvMQiNJCqUCFb2F5vz3uv7+58xP4nhsosLB8vDk17le+VDxgITcQKM6etp+Om60f5hlQSAtlXgoqW+Xw7qJFq0lrswZ6PyuSDQQUNgTZGM4u0IVAoAd87Y8XgX/OdVRZZ9hB5bHbs6XQ31sK/b0lt2dLgj4BOnkbnoqVlcbtt0ejZj2ongAvb4WVd2DqAjMTNRR4Pg4b1aFf/QBsnbdmIHmCRrxuoeC+SoMNNNWz2wp/BnO19gz6W3YjqUWubQkyB7R/d+P18mHq7wpAnFDaJJmm503X+rtLtFK/dyV24mDwakwqtfbM86ZrtRtvWnlyE+svrTqU8LdDK/8AAAAASUVORK5CYII=",Gn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABjUlEQVQ4ja3UvU4bQRDA8f/s3dknYsq8BwVSBCZFFIlA3GCv3eRR6KGjdkOZIhL+KCInllwgmkgpoiChPEBaN0hACOfV7VCALWTHPux4utXM/rQ7s3ew5JCsgoG1r/D+QOE4325/yqoPZyVdtfpavf+CSEFgBcgEzVSsUimq9x2gAIBILgubCrpKpajwFVh9DjITdOXy1qIYQJhYa0V1G7j1qnUV6QIvFsEAQlH9CMSInBv4lYUN9vbWIud+S6dzCeDK5Y0wDC/k5OQGHqYcP9amiBhUZ55ARF66fL6utVop8b6oqvskyfbohPNeKWq3e3fWxi5NTw3cRkFQklbrepif+mwWjblBZ+07o7ofBcEbL3Lo0rSjtVphmA+BOx76GKDqs0CFfpQk7x+H8nlgbZ84HjU+VPggsAP88SJnRvWG4dfxj8g1mz/H1t+frid+Dq5a3VTvu4w/bJEfuWZzPesGEz2MGo1vYswOqldZm58FjtAg2F0EnTrlCVT173+BQxRj3gI9FTma56RLi3t9VZbFYnefggAAAABJRU5ErkJggg==",qn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABmUlEQVQ4ja2TTU/UUBSGn3N7Z2x0XPo/XJgYZySdQgIoS9Nmwk9hDzvXbFwSKHEn4SMhaTvGkLgwmhh/gFs2JIowDNweF6aEANMyI+/u5Jz75L3nA+5ZUlcQpr3n6ukyBe/ycDOpq7dVySDvTSm6g9JC5CFQCzSjncUdQbeBFgBCsw42EhimcUeN7AKP7wKpBHaz6OWkMAAbpvGbwsisCCeeYdU59oBHk8AArBpZE/BRvrkLfiDVsG4WPb2wjZ+fptaPAII8eiHK9zx8fwz/puwDIOJEMKpa6UDFPrHOrc4dRAuDoXQEWTpvnM5eOhz3S/3uxn6Qx/5gaDKBkwfNYiFvf/hd5keuzaQaGxim8ZwgS36zCBVdORua7W4Wtcq8BQaAj6qnSlF3jM4zh4Uxr/P25hGwFaa9w8a5f9l4q8gi6LxB/zhj+0bdMeV13KKPQfL1apxNJ5+vxjf8TPd77UJ1j+uLLfIlD5Jn1f5v6WEaJAdGZF7hV93jOwFLqCfyahLoyCnfgCqn/wUsoaIyA7qPFm/Hsnpf+gvLXZRbns8R7AAAAABJRU5ErkJggg==",Qn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABYElEQVQ4jdXUz0pVURQG8J//oEapVwQnDRqk4wTJuTNFpIGIPkHQAxQoBjXQsc+gIggqKBgoPoBWzoyQomGz2+yCSg72Em+3vW8qTVyw4Jz9fevb+9tnrcN/jpYm2AReobNhvYolbN1moyEcoCuDdQc2VDphBe/xDG2x3osRfC1s2I89/Iz3C3zCLGxivE6sMTowENle4LRJV7QBRwXSQyziM5axEs8LeFCoOWptIraDb5L11RAcwY/AsqIlwbdYw3fsYjDyA06xjvlC7V+WOyRrPTjEozqsM/iV4DTeadbyE5zgObbxqw6rxtowvgT3j8gJ/s4byXKy3JLlSmD1k9Ll2vKxjOVcX51Jlz+JN1IDbwc2hteYkr70+U1OSGqJfbyM04xFVqT53pNvm2If1jCKx1E8jZnYpC/Ea4Vam9LYlEavXZrdp5qP3gtsXP0c3kmNWxL9V1zgI+buWH+f4xKFC0baKicJqAAAAABJRU5ErkJggg==",Kn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAB3klEQVQ4jd2UMWsUURSFv/NmJOkSENJIigQRtNQQgm2iLLoDLoJFKn+A4B9QiETQ3j9go2AhKLsKgbVVESLYJCAkjRZiYzoNmXnHwqcsu2/AwspTXe5957xz77sz8I+htkJVVVeAG5JmR/O2D4AH/X7/+V8LdrvdZUmvgaLlvsb2+cFg8G5CsNfrHW+a5q7ts5KK5GIemGtzn/BV0qd0vpH0viiKW2Vd1w+BbirkiEfAXopPAmWK52z/udT2cl3XJ0rgQouD75I2Yoxbks4k0o6kDrABTGc4FwMw1SJ2GViQNATWgXVJQ0nzki4BPzK8qZCzJmkDuGZ7McbYkbQtaTvG2LF9CrgK3Mlxy0zuKLU5jDF2QgivbM8AhBBuxhjXQghbtlclbY5r5Bzup5m9LYqiAmZGarOSusCbEMJpSfvj5AlBSa3LPnoMwPbE2QlB2wu2d4CVpmn6wMFI+ZvtAbASY9wFFsb5uRkek9SR9CSEcC/GuJbaxPZA0n3gcdqCCX72lfm1Z08lfQwhbElakrSU4l3gGXA7RwzAYSY/bful7c+2V5OjRyn+Arwgv9iHqqqqT/r0WlADe5JkezHX5gj6ZVmW1+u63gTO/f45tEHSh1zedgNsl2WZHcN/jp+VGrv3WV2zAQAAAABJRU5ErkJggg==",Pc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACoUlEQVQ4ja2TwYtTVxTGf+cmLwEFKxoXtmqgdNmOFFopFtOC2gFhCHmZzLIttAzIoH9LXagQkILQxTC8lwk6ShCpMyuVlkLTTaEba+tG6zAbJXne+3UxL0HHmTYLv+0593e/79x74A3Ldipks7PH5f0cZjXBwbz5EbAGLJbS9O5EwOdxXHVml036AumOOdcLITwEcGZHBNPA54Kb3vuzu7rdhzsCh3H8MXAN+F3SQrnT+W07F4Nmc8qki4L3zGymlCQ/vQZ8HsfVAtwDelGl8q2125kajf2Zc02k9wGQ+lGxmNjS0lPNz0fZkydXBKe998dGTu2lW2+YtDuqVE5Zu50N4/hr4DvgrS0GN5DOlzqdq5qfj7LHj2/LuY1yksyMgdns7HGFsCbvPyx3u/0c9v12cceSvip1Olfz+L8An5bS9K4DkPdzSHfK3W5fjcb+3Nl/y+yCWq195ST5FVjFbA7A5cUT5lwPIHOuuU3M7bQ38z4GMKkH1ACKefFQgAd5lA8mgI00BRDgAdI7Y4eCgDR6IE2MkwIAztnonIPNDXBQzZv6EwPN+jmkavD3GAis5RtAVCwmwMYEsPVoMEgBFMI00trLwEXgs0GzOWVLS0+Rzv8fTyGcs5WV9WGjcRSzGtJinnZTgzi+btKe6MCBk9ZuZ8NG40vMLgB7tzpTCOfKnc4P+bb8aPBPlKb1V4DP6vXDhULhvsGtqFL5xtrtTK3Wvsz7GLPNl5f60WCQ2MrKulqtUvbixRWZnfRwbFea/vUKEGDYbH4k6ZrBHzJbyD/ta8pjXhS8ayHMlJaXfx4H2Nr8rF4/XCgWL5l0Blg1qRec+zMfeFUhTGNWM7iewcLI2Y7AsYs4/iRfp5qktzfHZ48IYRVpsbS8fH+ns29U/wIA+TUeGvfQwAAAAABJRU5ErkJggg==",Fc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACYElEQVQ4jZWUvWuTURSHn3OTt2lT6gcitBVxsFDEQXfJH+DQj6RRWxxFlKKLS0EXBxcpuKiLuKktko+XZskqfswWRFpBHBSs0upQtS9p0vfnktS0edPWM13uOee559z7u8fYxXT27L71ZLIfoCOZ/GJPnvzZKd4AKpnMbaTnCd9fANC5c/trGxvXBVng1NYMmzcpFw+CB1Yur0YD0+kTZjYraQKzk2b2COngLsWvSJpM+H6uBdgEnQMGmvd3MZnZlFcoTDc23ObCrBe4KPi+RxiASbpbyWSyWypUOn2oavYBWCQMb8i5OYPe/wAve0EwYOXyqgOoOXcVOAScwbl7FoYjgm9NCZ8FSzsAD9e6uq5BvWVJ403OrVCzSx3F4rFEsdhvUgr4EkWsKwLT6OiBqnM/aX2INzK7YtIzSRMNSVWz2ZTC8GUU0+vu7nHrZn0RMATHE4XC+zAWu2DOzVTGxk4CePn8qzbtW+X37yNOsLHD3dCZy30InRs3eNqAunY5zsk0PNxTjcdbFA9gUsrz/dfwT/zAfeBxZMu12n5npdIvzOajgDKbqWazKYCE7y/I7KLgTptm5q1U+hWvV5ITnI4IOqowfFnJZJbqcZ8Iw5EonRrkoC6beBA8AFbanIxBn0Ef7XX6Ix4EDzeBVi6vSpoE1A7aZNuhElxuTJ7Nv5zw/ZyZTf0XFIaBj0iLDYdrjvIKhWnBeWB5D9BBc65b0oiZzVbS6RMtQIBEsZj3gmDA4BbwdptbmL0zuOnFYoNePv8i4fsLkiaAcdjD3NPQULLS2XnUwtA61ta+Rk3pZvsLe9YIjA9iThoAAAAASUVORK5CYII=",Mc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABOElEQVQ4jc2UMUtCYRSGn/PdCiQpKMKgaK6hlghBoisYNAeZ9AOE/kZ7Q2PUL5A7NAcFXQcposnFORAyKChMpfA7LSUkdb12hXrG8x2e7z3DOfDfkZ8eMmebk9aMzKrolKiMAqjoi+M497y2qufrJw+BwjU/uyhqdkVYRpkHxnuEeUKoqHKjYg+LrlfuCDPFnaW2tZdArM8JP2lascmi65UNQFttPoIMIOaoyQMYAFESAc0aUjrdEQahkFQohZT2FvrpwrXvFlYVthVuIwsBENRPF7yxeGMBlT2gFU3YB0OhuhRx/dzWc519EZ2LJHQvciv4HAikBpJQ4IqAFe3GAKhQC3aG4q4jtNgjhUbYFN0oNNpij7/8PtDj8B0bpexE840ZYyUBxD/KdWu0FhumepryHn870d/yDu+TcMMbTDGzAAAAAElFTkSuQmCC",Dc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVQ4jdWTK04DURiFv3On04SHGV6WBZCQGkxNKwmTVNRj2AIKVNkBC8AhEE1QjEF1CYTQDWAbMggegWn/iyidtEAHSjAcee5/vvzn5l5RIF+vl7Io2sD7EgBSP0zTrjqd/rRMqQiYRdEJUoj08G4tZktLL8DetIzybVotl11dbQJBfurcKWa7E4nP3iCsVK7VatkkMI6jrFw+R6oXbf1J3nfC19emkiQFcPmqSZLi3NlMsOHGZyPYBPCv9L+BPUENKb8fpFRQA3q/Aa4aHOD9DnAH3MusAewDq9NChQ9bsO1h4JxrAJjZoSAuyhQCASRVfb//BKAgqOJ94fx3wGFN544MyhrWvwCWfwN8lHPxqKaAUX1vdgkszAqUNzsWbOUGxN5sjbEvOwtwnjHYmL7ycv2znyLvu8BghvxA0s0E4+PEc7O5Hpit/IgWhr25dvt23HsDxO9yGjfOZdYAAAAASUVORK5CYII=",jc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACUUlEQVQ4jc2Uv4vdRRTFP3PunSe6u+zGH2kE9xGzBC38E0SwVrfSTlKIVlZaWGzxQO1sLRaJSkCEQDRiJRIClmIdQSWJEkSMrPmx2d2Z+c58Ld7b56LfJbCFeJp778zh3MMtDvzfEXpejbuLi+s1hGNVRkEUm1VFGlAsUjCqRMEoNqsSbTZ3+J/HVsefh92lN94qcAH4oyks3ZzvWubWfrsCN/ebGeZ/wHZ56I5i90iJ9rwniVpdaRQ2Gna533eJCDZ1WbIhRLFAm7kEUW3qsvf6ZNZoM/UKnuWUYM9G843jNybbR7nbmVNfLNWWT1cFlHCy3O4u0B1FDEBpq2TJshwV85Lkg8SePnz12PvPfX1ic/leokWRZBFV4nediWsDpIuPfrBWg6/u9Pb6+fFHpydMNCT2M2OyRJbQ3kglKQ5u3Tb3Iv/lhauvvLPr8dsTJ9feO/vU2YVBhzhJjlLV0wkBq/8iZWAHm/d7h5wGIFkk43g2pwvDxObWFfPxh2ufbnTY9V9/uPzmhEkbFJSoQXhSpJMxJPnSlZd/PHPy3KnawjevXXnx1gBlijHk25EuCO/kJDQoGAg9P/HloUIzXAMWEAXHs0QJXm88sHD4ge4BlRizj2rphSc5ne672KW9tz9+/JPvi0WaoBDnQVBnQXAwGNqBuWZ7ojQ2k2vdM5EcWu93/d07D3dLUIEV/g6JBjRuszwfE0Cbvu8srtCpfNbt3n+8t74Pl5655Fev/7ZeZA8WGRXN42rfVTsQV/Uf8VWYRlw229oa/X7hqGf77/AXgQ384L65jNkAAAAASUVORK5CYII=",Jn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABmJLR0QA/wD/AP+gvaeTAAABBElEQVQokbWPsU4CQRRFz93diRU22PgPJPyA32AC4QtMrOwlWllqorUmJtLYYSD+gm5rRaMJFPbEQitZdp4FsGtwxaXwVvfOvDPvjiiQNRrVBHYJAof3iYuie3W7b8tzQRGcSEeCZ9L0SWH4kqTpcdGcFuaz2TwTtGarbQtpnFfJs8HdRq/XBoiyeymW2eHsSQFs5ivybFK8snZZ/Qt8AIzmfjTPPxQVHQKnBvuY7SHdCK7XgSuCtptOdxLnYqCyTu1Xg/OJc0MzuwCGpWFBR3Al2JZ0KbgtXdvg5PsXlvKftUspg0PpowwQev++8FntqFZ7mAwGLUH1N9C8H7t6/ZF+H4AvBnpOIAEHayQAAAAASUVORK5CYII=",Vc=`img[data-v-b455a7f4]{background:none;border:none}#videoCall[data-v-b455a7f4]{width:75%;height:75%;position:relative;border:solid 1px #000;margin:0 auto;background-color:#ffffff4d;overflow:hidden;border-radius:8px}#videoCall .remote-stream[data-v-b455a7f4]{width:100%;height:50%;background:rgba(245,246,247,.7);z-index:-1}#videoCall .local-stream[data-v-b455a7f4]{width:25%;height:25%;position:absolute;z-index:1000;background:#fff;border:solirgb(203,204,200)x rgba(255,255,255,.3);bottom:0;left:0%}#videoCall .controls[data-v-b455a7f4]{position:initial;bottom:0;right:0;margin-right:20px;margin-bottom:10px}#videoCall .controls button[data-v-b455a7f4]{border:0 none;padding:11px 12px;margin-right:6px}#videoCall .controls button i[data-v-b455a7f4]{color:#f5f5f5}.container[data-v-b455a7f4]{position:relative;width:50%}.container canvas[data-v-b455a7f4]{width:100%;height:auto;border-radius:5px}.container .btn[data-v-b455a7f4]{position:absolute;top:92%;left:96%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);padding:5px 9px;border:black;cursor:pointer}.material-icons.md-18[data-v-b455a7f4]{font-size:18px}.material-icons.md-24[data-v-b455a7f4]{font-size:24px}.material-icons.md-36[data-v-b455a7f4]{font-size:36px}.material-icons.md-48[data-v-b455a7f4]{font-size:48px}
`,Xn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Uc={data:function(){return{localStream:null,isStreaming:!1,isJoined:!1,SHButton:!1,recordedVideo:[],isrecordedVideo:!1,recording:!1,mediaRecorder:null,webcamVideo:null,SHButton:!1,isShare:!1,stream:null,muteBtn:!1,hideCamBtn:!1,isscreenShot:this.isScreenShot}},props:{videoWidth:{type:[String,Number],default:450},videoHeight:{type:[String,Number],default:250},isAudio:{type:Boolean,default:!0},audioBitsPerSecond:{type:[String,Number],default:128e3},videoBitsPerSecond:{type:[String,Number],default:25e5},mimeType:{type:String,default:"video/webm;codecs=vp8,opus"},isStartStream:{type:Boolean,default:!0},isStoptStream:{type:Boolean,default:!0},isScreenShot:{type:Boolean,default:!0},isRecording:{type:Boolean,default:!1},isShareScreen:{type:Boolean,default:!1}},methods:{startCall:function(){this.isStreaming=!0,this.localStream=navigator.mediaDevices.getUserMedia({video:{height:this.videoHeight,width:this.videoWidth},audio:!0}).then(function(e){this.$refs.localVideo.srcObject=e,this.$refs.localVideo.play(),this.localStream=e}.bind(this)).catch(function(e){console.log(e)})},stopStreaming:function(){this.isStreaming=!1,this.$refs.localVideo.srcObject?(this.$refs.localVideo.srcObject.getTracks().forEach(e=>{e.stop()}),this.$refs.localVideo.srcObject=null,this.noSrc=!1):alert("there is no streaming")},screenShot:function(){this.localStream?(this.SHButton=!0,this.$refs.canvas.width=this.$refs.localVideo.videoWidth,this.$refs.canvas.height=this.$refs.localVideo.videoHeight,this.$refs.canvas.getContext("2d").drawImage(this.$refs.localVideo,0,0,this.videoWidth,this.videoHeight)):alert("error")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videoWidth,this.videoHeight),this.SHButton=!1},startRecording:function(){this.recordedVideo=[];let e=[];e=this.recordedVideo;var t={audioBitsPerSecond:this.audioBitsPerSecond,videoBitsPerSecond:this.videoBitsPerSecond,mimeType:this.mimeType};let n=this.$refs.localVideo.srcObject;this.localStream?(this.mediaRecorder=new MediaRecorder(n,t),console.log("the mediarecorder"+this.mediaRecorder),this.recording=!0,this.isrecordedVideo=!0,this.mediaRecorder.ondataavailable=function(r){if(r.data&&r.data.size>0){e.push(r.data);return}},this.mediaRecorder.start()):alert("there is no streaming pls start streaming first")},playStream:function(){if(this.mediaRecorder!=null){const e=new Blob(this.recordedVideo);this.$refs.webcamVideo.src=URL.createObjectURL(e),this.$refs.webcamVideo.controls=!0,this.SRButton=!0,this.$refs.webcamVideo.play()}else alert("there is no recorded video to be displayed")},playStreamDelete:function(){this.$refs.webcamVideo.src!=null?(this.$refs.webcamVideo.src=null,this.$refs.webcamVideo=null,this.SRButton=!1):console.log("error")},stopRecording:function(){this.mediaRecorder!=null?(this.mediaRecorder.stop(),this.recording=!1):alert("it is not recording")},ShareScreen:function(){this.joined=!0,this.isShare=!0,this.stream=navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:this.videoWidth,height:this.videoHeight}}).then(function(e){this.$refs.shareScreen.srcObject=e,this.stream.getVideoTracks()[0],this.$refs.shareScreen.srcObject=e}.bind(this)).catch(function(e){alert(e)})},stopShareScreen:function(){this.isShare=!1,this.$refs.shareScreen.srcObject&&(this.$refs.shareScreen.srcObject=null,this.stream=null)},doMute:function(){this.muteBtn=!0,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!0}},mounted(){}},ze=e=>(sa("data-v-b455a7f4"),e=e(),oa(),e),Lc={id:"videoCall"},zc={key:0,class:"remote-stream",ref:"localVideo",id:"localVideo"},Hc={class:"controls"},Wc=ze(()=>ee("img",{src:Jr},null,-1)),$c=[Wc],Yc=ze(()=>ee("img",{src:$n},null,-1)),Gc=[Yc],qc=ze(()=>ee("img",{src:Yn},null,-1)),Qc=[qc],Kc=ze(()=>ee("img",{src:Gn},null,-1)),Jc=[Kc],Xc=ze(()=>ee("img",{src:qn},null,-1)),Zc=[Xc],el=ze(()=>ee("img",{src:Qn},null,-1)),tl=[el],nl=ze(()=>ee("img",{src:Kn},null,-1)),rl=[nl],il=["isRecording"],sl=ze(()=>ee("img",{src:Pc},null,-1)),ol=[sl],al=ze(()=>ee("img",{src:Fc},null,-1)),cl=[al],ll=ze(()=>ee("img",{src:Mc},null,-1)),ul=[ll],fl=ze(()=>ee("img",{src:Dc},null,-1)),dl=[fl],hl=ze(()=>ee("img",{src:jc},null,-1)),pl=[hl],ml={key:1,class:"media_v",ref:"webcamVideo",autoplay:"",playsinline:"",style:{"border-radius":"8px"}},gl={key:2,class:"media_v",ref:"shareScreen",autoplay:"",playsinline:""},yl={class:""},vl={key:0,class:"container",id:"container"},bl={ref:"canvas"},El=ze(()=>ee("img",{src:Jn},null,-1)),wl=[El],Sl=ze(()=>ee("img",{src:Jn},null,-1)),Al=[Sl];function Cl(e,t,n,r,s,i){return se(),ae("div",Lc,[e.isStreaming?(se(),ae("video",zc,"thier video",512)):ce("",!0),ee("div",Hc,[e.isStreaming?ce("",!0):(se(),ae("button",{key:0,onClick:t[0]||(t[0]=(...a)=>i.startCall&&i.startCall(...a)),title:"start stream"},$c)),e.isStreaming?(se(),ae("button",{key:1,onClick:t[1]||(t[1]=(...a)=>i.stopStreaming&&i.stopStreaming(...a)),title:"start stream"},Gc)):ce("",!0),e.isStreaming&&e.isscreenShot?(se(),ae("button",{key:2,onClick:t[2]||(t[2]=(...a)=>i.screenShot&&i.screenShot(...a)),title:"selfie"},Qc)):ce("",!0),e.isStreaming&&!e.muteBtn?(se(),ae("button",{key:3,id:"muteBtn",onClick:t[3]||(t[3]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},Jc)):ce("",!0),e.isStreaming&&e.muteBtn?(se(),ae("button",{key:4,id:"muteBtn",onClick:t[4]||(t[4]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},Zc)):ce("",!0),e.isStreaming&&!e.hideCamBtn?(se(),ae("button",{key:5,id:"hideCamBtn",onClick:t[5]||(t[5]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},tl)):ce("",!0),e.isStreaming&&e.hideCamBtn?(se(),ae("button",{key:6,id:"hideCamBtn",onClick:t[6]||(t[6]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},rl)):ce("",!0),this.isStreaming?(se(),ae("button",{key:7,onClick:t[7]||(t[7]=(...a)=>i.startRecording&&i.startRecording(...a)),isRecording:n.isRecording,title:"start recording"},ol,8,il)):ce("",!0),this.isStreaming&&this.mediaRecorder?(se(),ae("button",{key:8,onClick:t[8]||(t[8]=(...a)=>i.stopRecording&&i.stopRecording(...a)),title:"stop recording"},cl)):ce("",!0),this.isStreaming&&this.mediaRecorder?(se(),ae("button",{key:9,onClick:t[9]||(t[9]=(...a)=>i.playStream&&i.playStream(...a)),title:"play record"},ul)):ce("",!0),this.isStreaming&&this.mediaRecorder?(se(),ae("button",{key:10,onClick:t[10]||(t[10]=(...a)=>i.playStreamDelete&&i.playStreamDelete(...a)),title:"delete record"},dl)):ce("",!0),this.isStreaming?(se(),ae("button",{key:11,onClick:t[11]||(t[11]=(...a)=>i.ShareScreen&&i.ShareScreen(...a)),title:"sharescreen"},pl)):ce("",!0)]),e.isStreaming?(se(),ae("video",ml,null,512)):ce("",!0),e.isStreaming?(se(),ae("video",gl,null,512)):ce("",!0),ee("div",yl,[e.isStreaming?(se(),ae("div",vl,[ee("canvas",bl,null,512),e.isStreaming&&this.SHButton?(se(),ae("button",{key:0,class:"btn",onClick:t[12]||(t[12]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a))},wl)):ce("",!0)])):ce("",!0)]),this.isStreaming&&this.isShare?(se(),ae("button",{key:3,onClick:t[13]||(t[13]=(...a)=>i.stopShareScreen&&i.stopShareScreen(...a))},Al)):ce("",!0)])}const xl=Xn(Uc,[["render",Cl],["styles",[Vc]],["__scopeId","data-v-b455a7f4"]]),ft=Object.create(null);ft.open="0";ft.close="1";ft.ping="2";ft.pong="3";ft.message="4";ft.upgrade="5";ft.noop="6";const Sn=Object.create(null);Object.keys(ft).forEach(e=>{Sn[ft[e]]=e});const _l={type:"error",data:"parser error"},kl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tl=typeof ArrayBuffer=="function",Bl=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,js=({type:e,data:t},n,r)=>kl&&t instanceof Blob?n?r(t):Fi(t,r):Tl&&(t instanceof ArrayBuffer||Bl(t))?n?r(t):Fi(new Blob([t]),r):r(ft[e]+(t||"")),Fi=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+r)},n.readAsDataURL(e)},Mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",en=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Mi.length;e++)en[Mi.charCodeAt(e)]=e;const Rl=e=>{let t=e.length*.75,n=e.length,r,s=0,i,a,f,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const w=new ArrayBuffer(t),b=new Uint8Array(w);for(r=0;r<n;r+=4)i=en[e.charCodeAt(r)],a=en[e.charCodeAt(r+1)],f=en[e.charCodeAt(r+2)],m=en[e.charCodeAt(r+3)],b[s++]=i<<2|a>>4,b[s++]=(a&15)<<4|f>>2,b[s++]=(f&3)<<6|m&63;return w},Ol=typeof ArrayBuffer=="function",Vs=(e,t)=>{if(typeof e!="string")return{type:"message",data:Us(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Nl(e.substring(1),t)}:Sn[n]?e.length>1?{type:Sn[n],data:e.substring(1)}:{type:Sn[n]}:_l},Nl=(e,t)=>{if(Ol){const n=Rl(e);return Us(n,t)}else return{base64:!0,data:e}},Us=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},Ls=String.fromCharCode(30),Il=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,a)=>{js(i,!1,f=>{r[a]=f,++s===n&&t(r.join(Ls))})})},Pl=(e,t)=>{const n=e.split(Ls),r=[];for(let s=0;s<n.length;s++){const i=Vs(n[s],t);if(r.push(i),i.type==="error")break}return r},zs=4;function _e(e){if(e)return Fl(e)}function Fl(e){for(var t in _e.prototype)e[t]=_e.prototype[t];return e}_e.prototype.on=_e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_e.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};_e.prototype.off=_e.prototype.removeListener=_e.prototype.removeAllListeners=_e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};_e.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};_e.prototype.emitReserved=_e.prototype.emit;_e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_e.prototype.hasListeners=function(e){return!!this.listeners(e).length};const St=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Hs(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Ml=setTimeout,Dl=clearTimeout;function Zn(e,t){t.useNativeTimers?(e.setTimeoutFn=Ml.bind(St),e.clearTimeoutFn=Dl.bind(St)):(e.setTimeoutFn=setTimeout.bind(St),e.clearTimeoutFn=clearTimeout.bind(St))}const jl=1.33;function Vl(e){return typeof e=="string"?Ul(e):Math.ceil((e.byteLength||e.size)*jl)}function Ul(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Ll extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ws extends _e{constructor(t){super(),this.writable=!1,Zn(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Ll(t,n,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Vs(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const $s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ar=64,zl={};let Di=0,gn=0,ji;function Vi(e){let t="";do t=$s[e%Ar]+t,e=Math.floor(e/Ar);while(e>0);return t}function Ys(){const e=Vi(+new Date);return e!==ji?(Di=0,ji=e):e+"."+Vi(Di++)}for(;gn<Ar;gn++)zl[$s[gn]]=gn;function Gs(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Hl(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}let qs=!1;try{qs=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wl=qs;function Qs(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Wl))return new XMLHttpRequest}catch{}if(!t)try{return new St[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function $l(){}const Yl=function(){return new Qs({xdomain:!1}).responseType!=null}();class Gl extends Ws{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=Yl&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Pl(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Il(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ys()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const s=Gs(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new ut(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ut extends _e{constructor(t,n){super(),Zn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=Hs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new Qs(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=ut.requestsCount++,ut.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=$l,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ut.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ut.requestsCount=0;ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ui);else if(typeof addEventListener=="function"){const e="onpagehide"in St?"pagehide":"unload";addEventListener(e,Ui,!1)}}function Ui(){for(let e in ut.requests)ut.requests.hasOwnProperty(e)&&ut.requests[e].abort()}const ql=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),yn=St.WebSocket||St.MozWebSocket,Li=!0,Ql="arraybuffer",zi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Kl extends Ws{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=zi?{}:Hs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Li&&!zi?n?new yn(t,n):new yn(t):new yn(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||Ql,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;js(r,this.supportsBinary,i=>{const a={};try{Li&&this.ws.send(i)}catch{}s&&ql(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ys()),this.supportsBinary||(t.b64=1);const s=Gs(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}check(){return!!yn}}const Jl={websocket:Kl,polling:Gl},Xl=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cr(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Xl.exec(e||""),i={},a=14;for(;a--;)i[Zl[a]]=s[a]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=eu(i,i.path),i.queryKey=tu(i,i.query),i}function eu(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&r.splice(0,1),t.substr(t.length-1,1)=="/"&&r.splice(r.length-1,1),r}function tu(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}class wt extends _e{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=Cr(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Cr(n.host).host),Zn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Hl(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=zs,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Jl[t](r)}open(){let t;if(this.opts.rememberUpgrade&&wt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;wt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!r)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;wt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(b(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const o=new Error("probe error");o.transport=n.name,this.emitReserved("upgradeError",o)}}))};function i(){r||(r=!0,b(),n.close(),n=null)}const a=y=>{const o=new Error("probe error: "+y);o.transport=n.name,i(),this.emitReserved("upgradeError",o)};function f(){a("transport closed")}function m(){a("socket closed")}function w(y){n&&y.name!==n.name&&i()}const b=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",f),this.off("close",m),this.off("upgrading",w)};n.once("open",s),n.once("error",a),n.once("close",f),this.once("close",m),this.once("upgrading",w),n.open()}onOpen(){if(this.readyState="open",wt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Vl(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){wt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}wt.protocol=zs;function nu(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Cr(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const ru=typeof ArrayBuffer=="function",iu=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Ks=Object.prototype.toString,su=typeof Blob=="function"||typeof Blob<"u"&&Ks.call(Blob)==="[object BlobConstructor]",ou=typeof File=="function"||typeof File<"u"&&Ks.call(File)==="[object FileConstructor]";function Xr(e){return ru&&(e instanceof ArrayBuffer||iu(e))||su&&e instanceof Blob||ou&&e instanceof File}function An(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(An(e[n]))return!0;return!1}if(Xr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return An(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&An(e[n]))return!0;return!1}function au(e){const t=[],n=e.data,r=e;return r.data=xr(n,t),r.attachments=t.length,{packet:r,buffers:t}}function xr(e,t){if(!e)return e;if(Xr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=xr(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=xr(e[r],t));return n}return e}function cu(e,t){return e.data=_r(e.data,t),e.attachments=void 0,e}function _r(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_r(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_r(e[n],t));return e}const lu=5;var me;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(me||(me={}));class uu{constructor(t){this.replacer=t}encode(t){return(t.type===me.EVENT||t.type===me.ACK)&&An(t)?(t.type=t.type===me.EVENT?me.BINARY_EVENT:me.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===me.BINARY_EVENT||t.type===me.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=au(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class Zr extends _e{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t),n.type===me.BINARY_EVENT||n.type===me.BINARY_ACK?(this.reconstructor=new fu(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Xr(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(me[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===me.BINARY_EVENT||r.type===me.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(i,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Zr.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case me.CONNECT:return typeof n=="object";case me.DISCONNECT:return n===void 0;case me.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case me.EVENT:case me.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case me.ACK:case me.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class fu{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=cu(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const du=Object.freeze(Object.defineProperty({__proto__:null,protocol:lu,get PacketType(){return me},Encoder:uu,Decoder:Zr},Symbol.toStringTag,{value:"Module"}));function Ke(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const hu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Js extends _e{constructor(t,n,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ke(t,"open",this.onopen.bind(this)),Ke(t,"packet",this.onpacket.bind(this)),Ke(t,"error",this.onerror.bind(this)),Ke(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(hu.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');n.unshift(t);const r={type:me.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,f=n.pop();this._registerAckCallback(a,f),r.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){const r=this.flags.timeout;if(r===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...i])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:me.CONNECT,data:t})}):this.packet({type:me.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case me.CONNECT:if(t.data&&t.data.sid){const s=t.data.sid;this.onconnect(s)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case me.EVENT:case me.BINARY_EVENT:this.onevent(t);break;case me.ACK:case me.BINARY_ACK:this.onack(t);break;case me.DISCONNECT:this.ondisconnect();break;case me.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:me.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:me.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Qt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Qt.prototype.reset=function(){this.attempts=0};Qt.prototype.setMin=function(e){this.ms=e};Qt.prototype.setMax=function(e){this.max=e};Qt.prototype.setJitter=function(e){this.jitter=e};class kr extends _e{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Qt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||du;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new wt(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Ke(n,"open",function(){r.onopen(),t&&t()}),i=Ke(n,"error",a=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",a),t?t(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&s();const f=this.setTimeoutFn(()=>{s(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ke(t,"ping",this.onping.bind(this)),Ke(t,"data",this.ondata.bind(this)),Ke(t,"error",this.onerror.bind(this)),Ke(t,"close",this.onclose.bind(this)),Ke(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch{this.onclose("parse error")}}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new Js(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Xt={};function Cn(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=nu(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,a=Xt[s]&&i in Xt[s].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let m;return f?m=new kr(r,t):(Xt[s]||(Xt[s]=new kr(r,t)),m=Xt[s]),n.query&&!t.query&&(t.query=n.queryKey),m.socket(n.path,t)}Object.assign(Cn,{Manager:kr,Socket:Js,io:Cn,connect:Cn});const pu=`.video-call{display:grid}*{box-sizing:border-box}.grid-container{display:grid;grid-template-columns:auto auto auto auto;grid-gap:5px;padding:0}.grid-container>div{text-align:center;padding:0;font-size:20px}.item1{grid-column:1 / 5;height:120px}.item2{height:430px}.item3{grid-area:2/2/2/4;height:430px;min-width:-webkit-fill-available}.item4{height:430px;text-align:left}.chatMsg{width:100%;border-radius:8px}.chat-box{text-align:left;background-color:#d9eaeb;border-radius:8px}.form{padding:10px;margin-left:35%;margin-right:35%}input[type=text]{width:100%;display:inline-block;border-radius:4px;font-size:15px}.label{font-size:20px}.btn{width:25%;margin-top:10px}.uname{color:#830e0e;font-size:15px}.txtmsg{color:#000}@media screen and (max-width: 600px){.item1{width:100%}.item3{width:100%;grid-area:2/2/2/5}.item4{width:100%;height:5rem;margin-top:0;grid-area:3/1/3/5}}
`,mu={name:"webrtcComponent",data:function(){return{joined:!1,isscreenShot:this.isScreenShot,creator:!1,joinedChat:!1,roomName:"",userName:"",socketInsance:null,userStream:null,remoteStream:null,userVideo:null,peerVideo:null,userAudio:null,peerAudio:null,rtcPeerConnection:null,rtcDataChannel:null,canvas:null,SHButton:!1,isAudio:this.isAudio,senders:[],iceServers:{iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"}]},msg:"",messages:[],muteBtn:!1,hideCamBtn:!1}},props:{socketURL:{type:String,default:"http://localhost:4000"},isAudio:{type:Boolean,default:!1},RoomNameLabel:{type:String,default:"Room Name"},userNameLabel:{type:String,default:"User Name"},videoHeight:{type:[String,Number],default:420},videoWidth:{type:[String,Number],default:420},isScreenShot:{type:Boolean,default:!1},isShareScreen:{type:Boolean,default:!1},isChat:{type:Boolean,default:!1},callEvent:{type:String,default:"call"},readyEvent:{type:String,default:"ready"},leaveEvent:{type:String,default:"leave"},candidateEvent:{type:String,default:"candidate"},offerEvent:{type:String,default:"offer"},answerEvent:{type:String,default:"answer"},createEvent:{type:String,default:"create-room"},joinEvent:{type:String,default:"join-room"}},methods:{call:function(){this.roomName==""||this.roomName==" "||this.roomName==null||this.userName==""||this.userName==" "||this.userName==null?alert("enter a vailed username and room name !"):(this.joined=!0,this.socketInsance.emit(this.callEvent,this.roomName))},createRoom:function(){this.creator=!0,this.joined=!0,this.userStream=navigator.mediaDevices.getUserMedia({video:{width:this.videoWidth,height:this.videoHeight},audio:!0}).then(function(e){let t=this.$el.parentNode.getElementById("peerVideo");this.userStream=e,t.srcObject=e,t.onloadedmetadata=function(n){t.play()}}.bind(this)).catch(function(e){console.log(e)})},joinRoom:function(){this.creator=!1,this.joined=!0,this.userStream=navigator.mediaDevices.getUserMedia({audio:!0,video:{width:this.videoWidth,height:this.videoHeight}}).then(function(e){this.userStream=e;let t=this.$el.parentNode.getElementById("peerVideo");t.srcObject=e,t.onloadedmetadata=n=>{t.play()},this.socketInsance.emit(this.readyEvent,this.roomName)}.bind(this))},leave:function(){this.socketInsance.emit(this.leaveEvent,this.roomName),this.isAudio?this.isAudio&&this.userStream.getTracks().forEach(e=>{e.stop()}):this.userStream.getTracks().forEach(e=>{e.stop()}),this.isAudio?this.isAudio&&this.userStream.getTracks().forEach(e=>{e.stop()}):this.userStream.getTracks().forEach(e=>{e.stop()}),this.rtcPeerConnection&&(this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.close(),this.rtcPeerConnection=null),this.joined=!1,this.joinedChat=!1,this.roomName="",this.userName=""},ready:function(){if(this.creator){let e=this.$el.parentNode.getElementById("userVideo");this.rtcPeerConnection=new RTCPeerConnection(this.iceServers),this.rtcPeerConnection.onicecandidate=t=>{console.log("candidate"),console.log(t.candidate),t.candidate&&(console.log("from on track function"),this.socketInsance.emit(this.candidateEvent,t.candidate,this.roomName))},this.rtcPeerConnection.ontrack=t=>{e.srcObject=t.streams[0],e.onloadedmetadata=function(n){e.play()}},this.rtcPeerConnection.addTrack(this.userStream.getTracks()[0],this.userStream),this.rtcPeerConnection.addTrack(this.userStream.getTracks()[1],this.userStream),this.rtcPeerConnection.createOffer().then(function(t){this.rtcPeerConnection.setLocalDescription(t),this.socketInsance.emit(this.offerEvent,t,this.roomName)}.bind(this)).catch(t=>{console.log(t)})}},offer:function(e){if(!this.creator){let t=this.$el.parentNode.getElementById("userVideo");this.rtcPeerConnection=new RTCPeerConnection(this.iceServers),this.rtcPeerConnection.onicecandidate=n=>{console.log("candidate"),console.log(n.candidate),n.candidate&&(console.log("from on track function"),this.socketInsance.emit(this.candidateEvent,n.candidate,this.roomName))},this.rtcPeerConnection.ontrack=n=>{t.srcObject=n.streams[0],console.log("from on track function"),t.onloadedmetadata=function(r){t.play()}},this.rtcPeerConnection.addTrack(this.userStream.getTracks()[1],this.userStream),this.rtcPeerConnection.setRemoteDescription(e),console.log("offer okay"),this.rtcPeerConnection.createAnswer().then(function(n){this.rtcPeerConnection.setLocalDescription(n),this.socketInsance.emit(this.answerEvent,n,this.roomName)}.bind(this)).catch(n=>{console.log(n)})}},candidate:function(e){let t=new RTCIceCandidate(e);this.rtcPeerConnection.addIceCandidate(t),console.log(e)},sendMsg:function(){this.joined&&(this.msg="")},addMsg:function(){this.$refs.msg.focus();let e=document.getElementById("msg");if(this.joined){const t={id:new Date().getHours(),msgText:e.value,user:this.userName};e==null||e==""||e==" "?alert("enter a message text"):(this.messages=this.messages.concat(t),this.rtcDataChannel.send(t),e.value="")}},startChat:function(e){this.joinedChat=!0,this.messages=this.messages.concat(e)},screenShot:function(){this.$refs.peerVideo?(this.$refs.canvas.width=this.$refs.peerVideo.videoWidth,this.$refs.canvas.height=this.$refs.peerVideo.videoHeight,this.SHButton=!0,this.$refs.canvas.getContext("2d").drawImage(this.$refs.peerVideo,0,0,320,220)):alert("error")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videoWidth,this.videoHeight),this.SHButton=!1},doMute:function(){this.muteBtn=!0,this.$refs.peerVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.peerVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.peerVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.peerVideo.srcObject.getTracks()[1].enabled=!0},ShareScreen:function(){this.joined=!0,this.rtcPeerConnection=new RTCPeerConnection(this.iceServers);let e=this.userStream;this.senders=[];let t=[];t=this.senders,e.getTracks().forEach(function(n){this.senders.push(this.rtcPeerConnection.addTrack(n,e))}.bind(this)),console.log("the senders:",this.senders),navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:this.videoWidth,height:this.videoHeight}}).then(function(n){const r=n.getTracks()[0];this.isShare=!0,t.find(s=>s.track.kind==="video").replaceTrack(r),r.onended=function(){t.find(s=>s.track.kind==="video").replaceTrack(e.getTracks()[1])}}.bind(this),function(n){alert("error")})}},created:function(){},mounted(){this.socketInsance=Cn(this.socketURL),this.rtcPeerConnection=new RTCPeerConnection(this.iceServers),this.rtcDataChannel=this.rtcPeerConnection.createDataChannel("channel"),this.userVideo=document.getElementById("userVideo"),this.peerVideo=document.getElementById("peerVideo"),this.peerAudio=document.getElementById("peerAudio"),this.userAudio=document.getElementById("userAudio"),this.canvas=document.getElementById("canvas"),this.socketInsance.on("leave",function(){this.rtcPeerConnection&&(this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.close(),this.rtcPeerConnection=null),peerVideo.srcObject&&(peerVideo.srcObject.getTracks()[0].stop(),peerVideo.srcObject.getTracks()[1].stop())}),this.socketInsance.on(this.createEvent,function(){this.createRoom()}.bind(this)),this.socketInsance.on(this.joinEvent,function(){this.joinRoom()}.bind(this)),this.socketInsance.on(this.readyEvent,function(){this.ready()}.bind(this)),this.socketInsance.on(this.candidateEvent,function(e){this.candidate(e)}.bind(this)),this.socketInsance.on(this.offerEvent,function(e){this.offer(e)}.bind(this)),this.socketInsance.on(this.answerEvent,function(e){this.rtcPeerConnection.setRemoteDescription(e)}.bind(this)),this.rtcDataChannel.onmessage=e=>{document.getElementById("textmsg").innerHTML+=e.data},this.rtcDataChannel.onopen=function(){var e=document.getElementById("message").value;document.getElementById("textmsg").innerHTML+=e,rtcDataChannel.send(e)}}},gu={class:"grid-container"},yu={class:"item1"},vu={key:0,class:""},bu={class:"form"},Eu={for:"fname"},wu={for:"lname"},Su={class:"item2"},Au={key:0},Cu={class:"video-call",id:"localCall"},xu={key:0,class:"video2",ref:"peerVideo",id:"peerVideo"},_u={ref:"canvas",id:"canvas"},ku=ee("img",{src:Jn},null,-1),Tu=[ku],Bu={class:"item3",style:{}},Ru={key:0},Ou={class:"video-call"},Nu={ref:"video-chat-room",id:"remoteCall"},Iu={key:0,ref:"userVideo",id:"userVideo"},Pu={key:1},Fu=zn("Welcome to "),Mu=zn("!"),Du=ee("img",{src:$n},null,-1),ju=[Du],Vu=["isscreenShot"],Uu=ee("img",{src:Yn},null,-1),Lu=[Uu],zu=ee("img",{src:qn},null,-1),Hu=[zu],Wu=ee("img",{src:Gn},null,-1),$u=[Wu],Yu=ee("img",{src:Qn},null,-1),Gu=[Yu],qu=ee("img",{src:Kn},null,-1),Qu=[qu];function Ku(e,t,n,r,s,i){return se(),ae("div",gu,[ee("div",yu,[e.joined?ce("",!0):(se(),ae("div",vu,[ee("div",bu,[ee("label",Eu,tn(n.RoomNameLabel),1),Tn(ee("input",{class:"lable",type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>e.roomName=a)},null,512),[[On,e.roomName]]),ee("label",wu,tn(n.userNameLabel),1),Tn(ee("input",{class:"lable",type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>e.userName=a)},null,512),[[On,e.userName]]),ee("button",{class:"btn",onClick:t[2]||(t[2]=(...a)=>i.call&&i.call(...a))},"Call")])]))]),ee("div",Su,[e.joined?(se(),ae("div",Au,[ee("div",Cu,[n.isAudio?ce("",!0):(se(),ae("video",xu,null,512))]),ee("canvas",_u,null,512),e.SHButton?(se(),ae("button",{key:0,class:"btn",onClick:t[3]||(t[3]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a))},Tu)):ce("",!0)])):ce("",!0)]),ee("div",Bu,[e.joined?(se(),ae("div",Ru,[ee("div",Ou,[ee("div",Nu,[n.isAudio?ce("",!0):(se(),ae("video",Iu,null,512)),e.joined?(se(),ae("div",Pu,[ee("h3",null,[Fu,ee("b",null,tn(e.roomName),1),Mu]),ee("button",{onClick:t[4]||(t[4]=(...a)=>i.leave&&i.leave(...a))},ju),ee("button",{onClick:t[5]||(t[5]=(...a)=>i.screenShot&&i.screenShot(...a)),isscreenShot:n.isScreenShot},Lu,8,Vu),e.muteBtn?ce("",!0):(se(),ae("button",{key:0,id:"muteBtn",onClick:t[6]||(t[6]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},Hu)),e.muteBtn?(se(),ae("button",{key:1,id:"muteBtn",onClick:t[7]||(t[7]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},$u)):ce("",!0),e.hideCamBtn?ce("",!0):(se(),ae("button",{key:2,id:"hideCamBtn",onClick:t[8]||(t[8]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},Gu)),e.hideCamBtn?(se(),ae("button",{key:3,id:"hideCamBtn",onClick:t[9]||(t[9]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},Qu)):ce("",!0)])):ce("",!0)],512)])])):ce("",!0)])])}const Ju=Xn(mu,[["render",Ku],["styles",[pu]]]);function Xu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xs={exports:{}};/*!
 * SkyWay Copyright(c) 2022 NTT Communications Corporation
 * peerjs Copyright(c) 2013 Michelle Bu <michelle@michellebu.com>
 */(function(e,t){(function(r,s){e.exports=s()})(globalThis,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=r,s.d=function(i,a,f){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:f})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,a){if(a&1&&(i=s(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var f=Object.create(null);if(s.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var m in i)s.d(f,m,function(w){return i[w]}.bind(null,m));return f},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s="./src/peer.js")}({"./node_modules/@jitsi/sdp-interop/lib/array-equals.js":function(n,r){n.exports=function s(i){if(!i||this.length!=i.length)return!1;for(var a=0,f=this.length;a<f;a++)if(this[a]instanceof Array&&i[a]instanceof Array){if(!s.apply(this[a],[i[a]]))return!1}else if(this[a]!=i[a])return!1;return!0}},"./node_modules/@jitsi/sdp-interop/lib/index.js":function(n,r,s){r.Interop=s("./node_modules/@jitsi/sdp-interop/lib/interop.js")},"./node_modules/@jitsi/sdp-interop/lib/interop.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/lib/transform.js"),a=s("./node_modules/@jitsi/sdp-interop/lib/array-equals.js");function f(b){typeof b.mid=="number"&&(b.mid=b.mid.toString())}function m(){this.cache={mlB2UMap:{},mlU2BMap:{}}}n.exports=m,m.prototype.candidateToUnifiedPlan=function(b){var y=new RTCIceCandidate(b);return y.sdpMLineIndex=this.cache.mlB2UMap[y.sdpMLineIndex],y},m.prototype.candidateToPlanB=function(b){var y=new RTCIceCandidate(b);if(y.sdpMid.indexOf("audio")===0)y.sdpMid="audio";else if(y.sdpMid.indexOf("video")===0)y.sdpMid="video";else throw new Error("candidate with "+y.sdpMid+" not allowed");return y.sdpMLineIndex=this.cache.mlU2BMap[y.sdpMLineIndex],y},m.prototype.getFirstSendingIndexFromAnswer=function(b){if(!this.cache.answer)return null;var y=i.parse(this.cache.answer);if(y&&y.media&&Array.isArray(y.media)){for(var o=0;o<y.media.length;o++)if(y.media[o].type==b&&(!y.media[o].direction||y.media[o].direction==="sendrecv"||y.media[o].direction==="sendonly"))return o}return null},m.prototype.toPlanB=function(b){var y=this;if(typeof b!="object"||b===null||typeof b.sdp!="string")return console.warn("An empty description was passed as an argument."),b;var o=i.parse(b.sdp);if(typeof o.media>"u"||!Array.isArray(o.media)||o.media.length===0)return console.warn("The description has no media."),b;if(o.media.length<=3&&o.media.every(function(B){return["video","audio","data"].indexOf(B.mid)!==-1}))return console.warn("This description does not look like Unified Plan."),b;for(var p=b.sdp,g=!1,d=0;d<o.media.length;d++){var c=o.media[d];c.rtp.forEach(function(B){if(B.codec==="NULL"){g=!0;var O=i.parse(y.cache.offer);B.codec=O.media[d].rtp[0].codec}})}g&&(p=i.write(o)),this.cache[b.type]=p;var E=o.media;o.media=[];var x={},I=[],T={};E.forEach(function(B){if(f(B),(typeof B.rtcpMux!="string"||B.rtcpMux!=="rtcp-mux")&&B.direction!=="inactive"&&B.type!=="application")throw new Error("Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.");(typeof x[B.type]>"u"||x[B.type].direction==="inactive")&&(x[B.type]=B)}),E.forEach(function(B){var O=B.type;if(O==="application"){B.mid="data",o.media.push(B),I.push(B.mid);return}typeof B.sources=="object"&&Object.keys(B.sources).forEach(function(_){typeof x[O].sources!="object"&&(x[O].sources={}),x[O].sources[_]=B.sources[_],typeof B.msid<"u"&&(x[O].sources[_].msid=B.msid)}),typeof B.ssrcGroups<"u"&&Array.isArray(B.ssrcGroups)&&((typeof x[O].ssrcGroups>"u"||!Array.isArray(x[O].ssrcGroups))&&(x[O].ssrcGroups=[]),a.apply(x[O].ssrcGroups,[B.ssrcGroups])||(x[O].ssrcGroups=x[O].ssrcGroups.concat(B.ssrcGroups)));var k=B.direction;T[O]=(T[O]||0)|w[k||"inactive"],x[O]===B&&(B.mid=O,delete B.bundleOnly,delete B.msid,k!=="inactive"&&I.push(O),o.media.push(B))}),o.groups.some(function(B){if(B.type==="BUNDLE")return B.mids=I.join(" "),!0}),o.msidSemantic={semantic:"WMS",token:"*"};var C=i.write(o);return new RTCSessionDescription({type:b.type,sdp:C})},m.prototype.toUnifiedPlan=function(b){var y=this;if(typeof b!="object"||b===null||typeof b.sdp!="string")return console.warn("An empty description was passed as an argument."),b;var o=i.parse(b.sdp);if(typeof o.media>"u"||!Array.isArray(o.media)||o.media.length===0)return console.warn("The description has no media."),b;if(o.media.length>3||!o.media.every(function(O){return["video","audio","data"].indexOf(O.mid)!==-1}))return console.warn("This description does not look like Plan B."),b;var p=[];o.media.forEach(function(O){p.push(O.mid)});var g=!1;if(typeof o.groups<"u"&&Array.isArray(o.groups)&&(g=o.groups.every(function(O){return O.type!=="BUNDLE"||a.apply(O.mids.sort(),[p.sort()])})),!g)throw new Error("Cannot convert to Unified Plan because m-lines that are not bundled were found.");var d;typeof this.cache[b.type]<"u"&&(d=i.parse(this.cache[b.type]));var c={audio:{},video:{}},E={},x=0,I=0;if(o.media.forEach(function(O){if((typeof O.rtcpMux!="string"||O.rtcpMux!=="rtcp-mux")&&O.direction!=="inactive"&&O.type!=="application")throw new Error("Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.");if(O.type==="application"){var k=null;d&&d.media&&(k=d.media.find(function(Z){return Z.type==="application"})),k?E[k.mid]=k:E[O.mid]=O;return}var _=O.sources,R=O.ssrcGroups,F=O.candidates,M=O.iceUfrag,W=O.icePwd,J=O.fingerprint,X=O.port;delete O.sources,delete O.ssrcGroups,delete O.candidates,delete O.iceUfrag,delete O.icePwd,delete O.fingerprint,delete O.port,delete O.mid;var V={};typeof R<"u"&&Array.isArray(R)&&R.forEach(function(Z){Z.semantics!=="SIM"&&typeof Z.ssrcs<"u"&&Array.isArray(Z.ssrcs)&&Z.ssrcs.forEach(function(re){typeof V[re]>"u"&&(V[re]=[]),V[re].push(Z)})});var oe={};typeof _=="object"&&Object.keys(_).forEach(function(Z){var re;if(b.type==="offer"&&!_[Z].msid){c[O.type][Z]=_[Z];return}if(typeof V[Z]<"u"&&Array.isArray(V[Z])&&V[Z].some(function(Ee){return Ee.ssrcs.some(function(we){if(typeof oe[we]=="object")return re=oe[we],!0})}),typeof re=="object")re.sources[Z]=_[Z],delete _[Z].msid;else{if(re=Object.create(O),oe[Z]=re,typeof _[Z].msid<"u"&&(re.msid=_[Z].msid,delete _[Z].msid),re.sources={},re.sources[Z]=_[Z],re.ssrcGroups=V[Z],typeof d<"u"&&typeof d.media<"u"&&Array.isArray(d.media)&&d.media.forEach(function(Ee){typeof Ee.sources=="object"&&Object.keys(Ee.sources).forEach(function(we){we===Z&&(re.mid=Ee.mid)})}),f(re),typeof re.mid>"u"){if(b.type==="answer")throw new Error("An unmapped SSRC was found.");re.mid=[O.type,"-",Z].join("")}re.candidates=F,re.iceUfrag=M,re.icePwd=W,re.fingerprint=J,re.port=X,E[re.mid]=re,y.cache.mlU2BMap[I]=x,typeof y.cache.mlB2UMap[x]>"u"&&(y.cache.mlB2UMap[x]=I),I++}}),x++}),o.media=[],p=[],b.type==="answer")for(var T=0;T<d.media.length;T++){var C=d.media[T];f(C),typeof E[C.mid]>"u"&&(delete C.msid,delete C.sources,delete C.ssrcGroups,!C.direction||C.direction==="sendrecv"?C.direction="recvonly":C.direction==="sendonly"&&(C.direction="inactive")),o.media.push(C),typeof C.mid=="string"&&p.push(C.mid)}else typeof d<"u"&&typeof d.media<"u"&&Array.isArray(d.media)&&d.media.forEach(function(O){f(O),p.push(O.mid),typeof E[O.mid]<"u"?o.media.push(E[O.mid]):(delete O.msid,delete O.sources,delete O.ssrcGroups,(!O.direction||O.direction==="sendrecv")&&(O.direction="recvonly"),(!O.direction||O.direction==="sendonly")&&(O.direction="inactive"),o.media.push(O))}),Object.keys(E).forEach(function(O){p.indexOf(O)===-1&&(p.push(O),E[O].direction==="recvonly"?o.media.some(function(k){if((k.direction==="sendrecv"||k.direction==="sendonly")&&k.type===E[O].type)return Object.keys(E[O].sources).forEach(function(_){k.sources[_]=E[O].sources[_]}),!0}):o.media.push(E[O]))});["audio","video"].forEach(function(O){if(!(!o||!o.media||!Array.isArray(o.media))){var k=null;if(Object.keys(c[O]).length>0&&(k=y.getFirstSendingIndexFromAnswer(O),k===null)){for(var _=0;_<o.media.length;_++)if(o.media[_].type===O){k=_;break}}if(k&&o.media.length>k){var R=o.media[k];Object.keys(c[O]).forEach(function(F){R.sources&&R.sources[F]&&console.warn("Replacing an existing SSRC."),R.sources||(R.sources={}),R.sources[F]=c[O][F]})}}}),o.groups.some(function(O){if(O.type==="BUNDLE")return O.mids=p.join(" "),!0}),o.msidSemantic={semantic:"WMS",token:"*"};var B=i.write(o);return this.cache[b.type]=B,new RTCSessionDescription({type:b.type,sdp:B})};var w={inactive:0,recvonly:1,sendonly:2,sendrecv:3}},"./node_modules/@jitsi/sdp-interop/lib/transform.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/index.js");r.write=function(a,f){return typeof a<"u"&&typeof a.media<"u"&&Array.isArray(a.media)&&a.media.forEach(function(m){typeof m.sources<"u"&&Object.keys(m.sources).length!==0&&(m.ssrcs=[],Object.keys(m.sources).forEach(function(w){var b=m.sources[w];Object.keys(b).forEach(function(y){m.ssrcs.push({id:w,attribute:y,value:b[y]})})}),delete m.sources),typeof m.ssrcGroups<"u"&&Array.isArray(m.ssrcGroups)&&m.ssrcGroups.forEach(function(w){typeof w.ssrcs<"u"&&Array.isArray(w.ssrcs)&&(w.ssrcs=w.ssrcs.join(" "))})}),typeof a<"u"&&typeof a.groups<"u"&&Array.isArray(a.groups)&&a.groups.forEach(function(m){typeof m.mids<"u"&&Array.isArray(m.mids)&&(m.mids=m.mids.join(" "))}),i.write(a,f)},r.parse=function(a){var f=i.parse(a);return typeof f<"u"&&typeof f.media<"u"&&Array.isArray(f.media)&&f.media.forEach(function(m){typeof m.ssrcs<"u"&&Array.isArray(m.ssrcs)&&(m.sources={},m.ssrcs.forEach(function(w){m.sources[w.id]||(m.sources[w.id]={}),m.sources[w.id][w.attribute]=w.value}),delete m.ssrcs),typeof m.ssrcGroups<"u"&&Array.isArray(m.ssrcGroups)&&m.ssrcGroups.forEach(function(w){typeof w.ssrcs=="string"&&(w.ssrcs=w.ssrcs.split(" "))})}),typeof f<"u"&&typeof f.groups<"u"&&Array.isArray(f.groups)&&f.groups.forEach(function(m){typeof m.mids=="string"&&(m.mids=m.mids.split(" "))}),f}},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/grammar.js":function(n,r){var s=n.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(i){return i.encoding?"rtpmap:%d %s/%s/%s":i.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(i){return i.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(i){return i.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(i){return"extmap:%d"+(i.direction?"/%s":"%v")+" %s"+(i.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(i){return i.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(i){var a="candidate:%s %d %s %d %s %d typ %s";return a+=i.raddr!=null?" raddr %s rport %d":"%v%v",a+=i.tcptype!=null?" tcptype %s":"%v",i.generation!=null&&(a+=" generation %d"),a+=i["network-id"]!=null?" network-id %d":"%v",a+=i["network-cost"]!=null?" network-cost %d":"%v",a}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function(i){var a="ssrc:%d";return i.attribute!=null&&(a+=" %s",i.value!=null&&(a+=":%s")),a}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(i){return i.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(i){return i.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(i){return"imageattr:%s %s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(i){return"simulcast:%s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(s).forEach(function(i){var a=s[i];a.forEach(function(f){f.reg||(f.reg=/(.*)/),f.format||(f.format="%s")})})},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/index.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/parser.js"),a=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/writer.js");r.write=a,r.parse=i.parse,r.parseFmtpConfig=i.parseFmtpConfig,r.parseParams=i.parseParams,r.parsePayloads=i.parsePayloads,r.parseRemoteCandidates=i.parseRemoteCandidates,r.parseImageAttributes=i.parseImageAttributes,r.parseSimulcastStreamList=i.parseSimulcastStreamList},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/parser.js":function(n,r,s){var i=function(y){return String(Number(y))===y?Number(y):y},a=function(y,o,p,g){if(g&&!p)o[g]=i(y[1]);else for(var d=0;d<p.length;d+=1)y[d+1]!=null&&(o[p[d]]=i(y[d+1]))},f=function(y,o,p){var g=y.name&&y.names;y.push&&!o[y.push]?o[y.push]=[]:g&&!o[y.name]&&(o[y.name]={});var d=y.push?{}:g?o[y.name]:o;a(p.match(y.reg),d,y.names,y.name),y.push&&o[y.push].push(d)},m=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/grammar.js"),w=RegExp.prototype.test.bind(/^([a-z])=(.*)/);r.parse=function(y){var o={},p=[],g=o;return y.split(/(\r\n|\r|\n)/).filter(w).forEach(function(d){var c=d[0],E=d.slice(2);c==="m"&&(p.push({rtp:[],fmtp:[]}),g=p[p.length-1]);for(var x=0;x<(m[c]||[]).length;x+=1){var I=m[c][x];if(I.reg.test(E))return f(I,g,E)}}),o.media=p,o};var b=function(y,o){var p=o.split(/=(.+)/,2);return p.length===2&&(y[p[0]]=i(p[1])),y};r.parseParams=function(y){return y.split(/\;\s?/).reduce(b,{})},r.parseFmtpConfig=r.parseParams,r.parsePayloads=function(y){return y.split(" ").map(Number)},r.parseRemoteCandidates=function(y){for(var o=[],p=y.split(" ").map(i),g=0;g<p.length;g+=3)o.push({component:p[g],ip:p[g+1],port:p[g+2]});return o},r.parseImageAttributes=function(y){return y.split(" ").map(function(o){return o.substring(1,o.length-1).split(",").reduce(b,{})})},r.parseSimulcastStreamList=function(y){return y.split(";").map(function(o){return o.split(",").map(function(p){var g,d=!1;return p[0]!=="~"?g=i(p):(g=i(p.substring(1,p.length)),d=!0),{scid:g,paused:d}})})}},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/writer.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/grammar.js"),a=/%[sdv%]/g,f=function(y){var o=1,p=arguments,g=p.length;return y.replace(a,function(d){if(o>=g)return d;var c=p[o];switch(o+=1,d){case"%%":return"%";case"%s":return String(c);case"%d":return Number(c);case"%v":return""}})},m=function(y,o,p){var g=o.format instanceof Function?o.format(o.push?p:p[o.name]):o.format,d=[y+"="+g];if(o.names)for(var c=0;c<o.names.length;c+=1){var E=o.names[c];o.name?d.push(p[o.name][E]):d.push(p[o.names[c]])}else d.push(p[o.name]);return f.apply(null,d)},w=["v","o","s","i","u","e","p","c","b","t","r","z","a"],b=["i","c","b","a"];n.exports=function(y,o){o=o||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(c){c.payloads==null&&(c.payloads="")});var p=o.outerOrder||w,g=o.innerOrder||b,d=[];return p.forEach(function(c){i[c].forEach(function(E){E.name in y&&y[E.name]!=null?d.push(m(c,E,y)):E.push in y&&y[E.push]!=null&&y[E.push].forEach(function(x){d.push(m(c,E,x))})})}),y.media.forEach(function(c){d.push(m("m",i.m[0],c)),g.forEach(function(E){i[E].forEach(function(x){x.name in c&&c[x.name]!=null?d.push(m(E,x,c)):x.push in c&&c[x.push]!=null&&c[x.push].forEach(function(I){d.push(m(E,x,I))})})})}),d.join(`\r
`)+`\r
`}},"./node_modules/after/index.js":function(n,r){n.exports=s;function s(a,f,m){var w=!1;return m=m||i,b.count=a,a===0?f():b;function b(y,o){if(b.count<=0)throw new Error("after called too many times");--b.count,y?(w=!0,f(y),f=m):b.count===0&&!w&&f(null,o)}}function i(){}},"./node_modules/arraybuffer.slice/index.js":function(n,r){n.exports=function(s,i,a){var f=s.byteLength;if(i=i||0,a=a||f,s.slice)return s.slice(i,a);if(i<0&&(i+=f),a<0&&(a+=f),a>f&&(a=f),i>=f||i>=a||f===0)return new ArrayBuffer(0);for(var m=new Uint8Array(s),w=new Uint8Array(a-i),b=i,y=0;b<a;b++,y++)w[y]=m[b];return w.buffer}},"./node_modules/backo2/index.js":function(n,r){n.exports=s;function s(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}s.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),f=Math.floor(a*this.jitter*i);i=(Math.floor(a*10)&1)==0?i-f:i+f}return Math.min(i,this.max)|0},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(i){this.ms=i},s.prototype.setMax=function(i){this.max=i},s.prototype.setJitter=function(i){this.jitter=i}},"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":function(n,r){(function(s){r.encode=function(i){var a=new Uint8Array(i),f,m=a.length,w="";for(f=0;f<m;f+=3)w+=s[a[f]>>2],w+=s[(a[f]&3)<<4|a[f+1]>>4],w+=s[(a[f+1]&15)<<2|a[f+2]>>6],w+=s[a[f+2]&63];return m%3===2?w=w.substring(0,w.length-1)+"=":m%3===1&&(w=w.substring(0,w.length-2)+"=="),w},r.decode=function(i){var a=i.length*.75,f=i.length,m,w=0,b,y,o,p;i[i.length-1]==="="&&(a--,i[i.length-2]==="="&&a--);var g=new ArrayBuffer(a),d=new Uint8Array(g);for(m=0;m<f;m+=4)b=s.indexOf(i[m]),y=s.indexOf(i[m+1]),o=s.indexOf(i[m+2]),p=s.indexOf(i[m+3]),d[w++]=b<<2|y>>4,d[w++]=(y&15)<<4|o>>2,d[w++]=(o&3)<<6|p&63;return g}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},"./node_modules/base64-js/index.js":function(n,r,s){r.byteLength=o,r.toByteArray=g,r.fromByteArray=E;for(var i=[],a=[],f=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,b=m.length;w<b;++w)i[w]=m[w],a[m.charCodeAt(w)]=w;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;function y(x){var I=x.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=x.indexOf("=");T===-1&&(T=I);var C=T===I?0:4-T%4;return[T,C]}function o(x){var I=y(x),T=I[0],C=I[1];return(T+C)*3/4-C}function p(x,I,T){return(I+T)*3/4-T}function g(x){var I,T=y(x),C=T[0],B=T[1],O=new f(p(x,C,B)),k=0,_=B>0?C-4:C,R;for(R=0;R<_;R+=4)I=a[x.charCodeAt(R)]<<18|a[x.charCodeAt(R+1)]<<12|a[x.charCodeAt(R+2)]<<6|a[x.charCodeAt(R+3)],O[k++]=I>>16&255,O[k++]=I>>8&255,O[k++]=I&255;return B===2&&(I=a[x.charCodeAt(R)]<<2|a[x.charCodeAt(R+1)]>>4,O[k++]=I&255),B===1&&(I=a[x.charCodeAt(R)]<<10|a[x.charCodeAt(R+1)]<<4|a[x.charCodeAt(R+2)]>>2,O[k++]=I>>8&255,O[k++]=I&255),O}function d(x){return i[x>>18&63]+i[x>>12&63]+i[x>>6&63]+i[x&63]}function c(x,I,T){for(var C,B=[],O=I;O<T;O+=3)C=(x[O]<<16&16711680)+(x[O+1]<<8&65280)+(x[O+2]&255),B.push(d(C));return B.join("")}function E(x){for(var I,T=x.length,C=T%3,B=[],O=16383,k=0,_=T-C;k<_;k+=O)B.push(c(x,k,k+O>_?_:k+O));return C===1?(I=x[T-1],B.push(i[I>>2]+i[I<<4&63]+"==")):C===2&&(I=(x[T-2]<<8)+x[T-1],B.push(i[I>>10]+i[I>>4&63]+i[I<<2&63]+"=")),B.join("")}},"./node_modules/blob/index.js":function(n,r){var s=typeof s<"u"?s:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,i=function(){try{var y=new Blob(["hi"]);return y.size===2}catch{return!1}}(),a=i&&function(){try{var y=new Blob([new Uint8Array([1,2])]);return y.size===2}catch{return!1}}(),f=s&&s.prototype.append&&s.prototype.getBlob;function m(y){return y.map(function(o){if(o.buffer instanceof ArrayBuffer){var p=o.buffer;if(o.byteLength!==p.byteLength){var g=new Uint8Array(o.byteLength);g.set(new Uint8Array(p,o.byteOffset,o.byteLength)),p=g.buffer}return p}return o})}function w(y,o){o=o||{};var p=new s;return m(y).forEach(function(g){p.append(g)}),o.type?p.getBlob(o.type):p.getBlob()}function b(y,o){return new Blob(m(y),o||{})}typeof Blob<"u"&&(w.prototype=Blob.prototype,b.prototype=Blob.prototype),n.exports=function(){return i?a?Blob:b:f?w:void 0}()},"./node_modules/component-bind/index.js":function(n,r){var s=[].slice;n.exports=function(i,a){if(typeof a=="string"&&(a=i[a]),typeof a!="function")throw new Error("bind() requires a function");var f=s.call(arguments,2);return function(){return a.apply(i,f.concat(s.call(arguments)))}}},"./node_modules/component-emitter/index.js":function(n,r,s){n.exports=i;function i(f){if(f)return a(f)}function a(f){for(var m in i.prototype)f[m]=i.prototype[m];return f}i.prototype.on=i.prototype.addEventListener=function(f,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+f]=this._callbacks["$"+f]||[]).push(m),this},i.prototype.once=function(f,m){function w(){this.off(f,w),m.apply(this,arguments)}return w.fn=m,this.on(f,w),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(f,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var w=this._callbacks["$"+f];if(!w)return this;if(arguments.length==1)return delete this._callbacks["$"+f],this;for(var b,y=0;y<w.length;y++)if(b=w[y],b===m||b.fn===m){w.splice(y,1);break}return w.length===0&&delete this._callbacks["$"+f],this},i.prototype.emit=function(f){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),w=this._callbacks["$"+f],b=1;b<arguments.length;b++)m[b-1]=arguments[b];if(w){w=w.slice(0);for(var b=0,y=w.length;b<y;++b)w[b].apply(this,m)}return this},i.prototype.listeners=function(f){return this._callbacks=this._callbacks||{},this._callbacks["$"+f]||[]},i.prototype.hasListeners=function(f){return!!this.listeners(f).length}},"./node_modules/component-inherit/index.js":function(n,r){n.exports=function(s,i){var a=function(){};a.prototype=i.prototype,s.prototype=new a,s.prototype.constructor=s}},"./node_modules/debug/src/browser.js":function(n,r,s){(function(i){r=n.exports=s("./node_modules/debug/src/debug.js"),r.log=m,r.formatArgs=f,r.save=w,r.load=b,r.useColors=a,r.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r.formatters.j=function(o){try{return JSON.stringify(o)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}};function f(o){var p=this.useColors;if(o[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+o[0]+(p?"%c ":" ")+"+"+r.humanize(this.diff),!!p){var g="color: "+this.color;o.splice(1,0,g,"color: inherit");var d=0,c=0;o[0].replace(/%[a-zA-Z%]/g,function(E){E!=="%%"&&(d++,E==="%c"&&(c=d))}),o.splice(c,0,g)}}function m(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w(o){try{o==null?r.storage.removeItem("debug"):r.storage.debug=o}catch{}}function b(){var o;try{o=r.storage.debug}catch{}return!o&&typeof i<"u"&&"env"in i&&(o=i.env.DEBUG),o}r.enable(b());function y(){try{return window.localStorage}catch{}}}).call(this,s("./node_modules/process/browser.js"))},"./node_modules/debug/src/debug.js":function(n,r,s){r=n.exports=a.debug=a.default=a,r.coerce=y,r.disable=w,r.enable=m,r.enabled=b,r.humanize=s("./node_modules/ms/index.js"),r.instances=[],r.names=[],r.skips=[],r.formatters={};function i(o){var p=0,g;for(g in o)p=(p<<5)-p+o.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}function a(o){var p;function g(){if(!!g.enabled){var d=g,c=+new Date,E=c-(p||c);d.diff=E,d.prev=p,d.curr=c,p=c;for(var x=new Array(arguments.length),I=0;I<x.length;I++)x[I]=arguments[I];x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");var T=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,function(B,O){if(B==="%%")return B;T++;var k=r.formatters[O];if(typeof k=="function"){var _=x[T];B=k.call(d,_),x.splice(T,1),T--}return B}),r.formatArgs.call(d,x);var C=g.log||r.log||console.log.bind(console);C.apply(d,x)}}return g.namespace=o,g.enabled=r.enabled(o),g.useColors=r.useColors(),g.color=i(o),g.destroy=f,typeof r.init=="function"&&r.init(g),r.instances.push(g),g}function f(){var o=r.instances.indexOf(this);return o!==-1?(r.instances.splice(o,1),!0):!1}function m(o){r.save(o),r.names=[],r.skips=[];var p,g=(typeof o=="string"?o:"").split(/[\s,]+/),d=g.length;for(p=0;p<d;p++)!g[p]||(o=g[p].replace(/\*/g,".*?"),o[0]==="-"?r.skips.push(new RegExp("^"+o.substr(1)+"$")):r.names.push(new RegExp("^"+o+"$")));for(p=0;p<r.instances.length;p++){var c=r.instances[p];c.enabled=r.enabled(c.namespace)}}function w(){r.enable("")}function b(o){if(o[o.length-1]==="*")return!0;var p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(o))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(o))return!0;return!1}function y(o){return o instanceof Error?o.stack||o.message:o}},"./node_modules/decode-uri-component/index.js":function(n,r,s){var i="%[a-f0-9]{2}",a=new RegExp(i,"gi"),f=new RegExp("("+i+")+","gi");function m(y,o){try{return decodeURIComponent(y.join(""))}catch{}if(y.length===1)return y;o=o||1;var p=y.slice(0,o),g=y.slice(o);return Array.prototype.concat.call([],m(p),m(g))}function w(y){try{return decodeURIComponent(y)}catch{for(var o=y.match(a),p=1;p<o.length;p++)y=m(o,p).join(""),o=y.match(a);return y}}function b(y){for(var o={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},p=f.exec(y);p;){try{o[p[0]]=decodeURIComponent(p[0])}catch{var g=w(p[0]);g!==p[0]&&(o[p[0]]=g)}p=f.exec(y)}o["%C2"]="\uFFFD";for(var d=Object.keys(o),c=0;c<d.length;c++){var E=d[c];y=y.replace(new RegExp(E,"g"),o[E])}return y}n.exports=function(y){if(typeof y!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof y+"`");try{return y=y.replace(/\+/g," "),decodeURIComponent(y)}catch{return b(y)}}},"./node_modules/detect-browser/index.js":function(n,r,s){(function(i){var a=this&&this.__spreadArrays||function(){for(var T=0,C=0,B=arguments.length;C<B;C++)T+=arguments[C].length;for(var O=Array(T),k=0,C=0;C<B;C++)for(var _=arguments[C],R=0,F=_.length;R<F;R++,k++)O[k]=_[R];return O};Object.defineProperty(r,"__esModule",{value:!0});var f=function(){function T(C,B,O){this.name=C,this.version=B,this.os=O}return T}();r.BrowserInfo=f;var m=function(){function T(C){this.version=C,this.name="node",this.os=i.platform}return T}();r.NodeInfo=m;var w=function(){function T(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return T}();r.BotInfo=w;var b=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,y=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,o=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",b]],g=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",y]];function d(T){return T?c(T):typeof navigator<"u"?c(navigator.userAgent):x()}r.detect=d;function c(T){var C=T!==""&&p.reduce(function(_,R){var F=R[0],M=R[1];if(_)return _;var W=M.exec(T);return!!W&&[F,W]},!1);if(!C)return null;var B=C[0],O=C[1];if(B==="searchbot")return new w;var k=O[1]&&O[1].split(/[._]/).slice(0,3);return k?k.length<o&&(k=a(k,I(o-k.length))):k=[],new f(B,k.join("."),E(T))}r.parseUserAgent=c;function E(T){for(var C=0,B=g.length;C<B;C++){var O=g[C],k=O[0],_=O[1],R=_.test(T);if(R)return k}return null}r.detectOS=E;function x(){var T=typeof i<"u"&&i.version;return T?new m(i.version.slice(1)):null}r.getNodeVersion=x;function I(T){for(var C=[],B=0;B<T;B++)C.push("0");return C}}).call(this,s("./node_modules/process/browser.js"))},"./node_modules/engine.io-client/lib/globalThis.browser.js":function(n,r){n.exports=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()},"./node_modules/engine.io-client/lib/index.js":function(n,r,s){n.exports=s("./node_modules/engine.io-client/lib/socket.js"),n.exports.parser=s("./node_modules/engine.io-parser/lib/browser.js")},"./node_modules/engine.io-client/lib/socket.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/transports/index.js"),a=s("./node_modules/component-emitter/index.js"),f=s("./node_modules/debug/src/browser.js")("engine.io-client:socket"),m=s("./node_modules/indexof/index.js"),w=s("./node_modules/engine.io-parser/lib/browser.js"),b=s("./node_modules/parseuri/index.js"),y=s("./node_modules/parseqs/index.js");n.exports=o;function o(g,d){if(!(this instanceof o))return new o(g,d);d=d||{},g&&typeof g=="object"&&(d=g,g=null),g?(g=b(g),d.hostname=g.host,d.secure=g.protocol==="https"||g.protocol==="wss",d.port=g.port,g.query&&(d.query=g.query)):d.host&&(d.hostname=b(d.host).host),this.secure=d.secure!=null?d.secure:typeof location<"u"&&location.protocol==="https:",d.hostname&&!d.port&&(d.port=this.secure?"443":"80"),this.agent=d.agent||!1,this.hostname=d.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=d.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=d.query||{},typeof this.query=="string"&&(this.query=y.decode(this.query)),this.upgrade=d.upgrade!==!1,this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!d.forceJSONP,this.jsonp=d.jsonp!==!1,this.forceBase64=!!d.forceBase64,this.enablesXDR=!!d.enablesXDR,this.withCredentials=d.withCredentials!==!1,this.timestampParam=d.timestampParam||"t",this.timestampRequests=d.timestampRequests,this.transports=d.transports||["polling","websocket"],this.transportOptions=d.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=d.policyPort||843,this.rememberUpgrade=d.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=d.onlyBinaryUpgrades,this.perMessageDeflate=d.perMessageDeflate!==!1?d.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=d.pfx||void 0,this.key=d.key||void 0,this.passphrase=d.passphrase||void 0,this.cert=d.cert||void 0,this.ca=d.ca||void 0,this.ciphers=d.ciphers||void 0,this.rejectUnauthorized=d.rejectUnauthorized===void 0?!0:d.rejectUnauthorized,this.forceNode=!!d.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(d.extraHeaders&&Object.keys(d.extraHeaders).length>0&&(this.extraHeaders=d.extraHeaders),d.localAddress&&(this.localAddress=d.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}o.priorWebsocketSuccess=!1,a(o.prototype),o.protocol=w.protocol,o.Socket=o,o.Transport=s("./node_modules/engine.io-client/lib/transport.js"),o.transports=s("./node_modules/engine.io-client/lib/transports/index.js"),o.parser=s("./node_modules/engine.io-parser/lib/browser.js"),o.prototype.createTransport=function(g){f('creating transport "%s"',g);var d=p(this.query);d.EIO=w.protocol,d.transport=g;var c=this.transportOptions[g]||{};this.id&&(d.sid=this.id);var E=new i[g]({query:d,socket:this,agent:c.agent||this.agent,hostname:c.hostname||this.hostname,port:c.port||this.port,secure:c.secure||this.secure,path:c.path||this.path,forceJSONP:c.forceJSONP||this.forceJSONP,jsonp:c.jsonp||this.jsonp,forceBase64:c.forceBase64||this.forceBase64,enablesXDR:c.enablesXDR||this.enablesXDR,withCredentials:c.withCredentials||this.withCredentials,timestampRequests:c.timestampRequests||this.timestampRequests,timestampParam:c.timestampParam||this.timestampParam,policyPort:c.policyPort||this.policyPort,pfx:c.pfx||this.pfx,key:c.key||this.key,passphrase:c.passphrase||this.passphrase,cert:c.cert||this.cert,ca:c.ca||this.ca,ciphers:c.ciphers||this.ciphers,rejectUnauthorized:c.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:c.perMessageDeflate||this.perMessageDeflate,extraHeaders:c.extraHeaders||this.extraHeaders,forceNode:c.forceNode||this.forceNode,localAddress:c.localAddress||this.localAddress,requestTimeout:c.requestTimeout||this.requestTimeout,protocols:c.protocols||void 0,isReactNative:this.isReactNative});return E};function p(g){var d={};for(var c in g)g.hasOwnProperty(c)&&(d[c]=g[c]);return d}o.prototype.open=function(){var g;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)g="websocket";else if(this.transports.length===0){var d=this;setTimeout(function(){d.emit("error","No transports available")},0);return}else g=this.transports[0];this.readyState="opening";try{g=this.createTransport(g)}catch{this.transports.shift(),this.open();return}g.open(),this.setTransport(g)},o.prototype.setTransport=function(g){f("setting transport %s",g.name);var d=this;this.transport&&(f("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=g,g.on("drain",function(){d.onDrain()}).on("packet",function(c){d.onPacket(c)}).on("error",function(c){d.onError(c)}).on("close",function(){d.onClose("transport close")})},o.prototype.probe=function(g){f('probing transport "%s"',g);var d=this.createTransport(g,{probe:1}),c=!1,E=this;o.priorWebsocketSuccess=!1;function x(){if(E.onlyBinaryUpgrades){var _=!this.supportsBinary&&E.transport.supportsBinary;c=c||_}c||(f('probe transport "%s" opened',g),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(R){if(!c)if(R.type==="pong"&&R.data==="probe"){if(f('probe transport "%s" pong',g),E.upgrading=!0,E.emit("upgrading",d),!d)return;o.priorWebsocketSuccess=d.name==="websocket",f('pausing current transport "%s"',E.transport.name),E.transport.pause(function(){c||E.readyState!=="closed"&&(f("changing transport and sending upgrade packet"),k(),E.setTransport(d),d.send([{type:"upgrade"}]),E.emit("upgrade",d),d=null,E.upgrading=!1,E.flush())})}else{f('probe transport "%s" failed',g);var F=new Error("probe error");F.transport=d.name,E.emit("upgradeError",F)}}))}function I(){c||(c=!0,k(),d.close(),d=null)}function T(_){var R=new Error("probe error: "+_);R.transport=d.name,I(),f('probe transport "%s" failed because of error: %s',g,_),E.emit("upgradeError",R)}function C(){T("transport closed")}function B(){T("socket closed")}function O(_){d&&_.name!==d.name&&(f('"%s" works - aborting "%s"',_.name,d.name),I())}function k(){d.removeListener("open",x),d.removeListener("error",T),d.removeListener("close",C),E.removeListener("close",B),E.removeListener("upgrading",O)}d.once("open",x),d.once("error",T),d.once("close",C),this.once("close",B),this.once("upgrading",O),d.open()},o.prototype.onOpen=function(){if(f("socket open"),this.readyState="open",o.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){f("starting upgrade probes");for(var g=0,d=this.upgrades.length;g<d;g++)this.probe(this.upgrades[g])}},o.prototype.onPacket=function(g){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(f('socket receive: type "%s", data "%s"',g.type,g.data),this.emit("packet",g),this.emit("heartbeat"),g.type){case"open":this.onHandshake(JSON.parse(g.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var d=new Error("server error");d.code=g.data,this.onError(d);break;case"message":this.emit("data",g.data),this.emit("message",g.data);break}else f('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(g){this.emit("handshake",g),this.id=g.sid,this.transport.query.sid=g.sid,this.upgrades=this.filterUpgrades(g.upgrades),this.pingInterval=g.pingInterval,this.pingTimeout=g.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(g){clearTimeout(this.pingTimeoutTimer);var d=this;d.pingTimeoutTimer=setTimeout(function(){d.readyState!=="closed"&&d.onClose("ping timeout")},g||d.pingInterval+d.pingTimeout)},o.prototype.setPing=function(){var g=this;clearTimeout(g.pingIntervalTimer),g.pingIntervalTimer=setTimeout(function(){f("writing ping packet - expecting pong within %sms",g.pingTimeout),g.ping(),g.onHeartbeat(g.pingTimeout)},g.pingInterval)},o.prototype.ping=function(){var g=this;this.sendPacket("ping",function(){g.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},o.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(f("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(g,d,c){return this.sendPacket("message",g,d,c),this},o.prototype.sendPacket=function(g,d,c,E){if(typeof d=="function"&&(E=d,d=void 0),typeof c=="function"&&(E=c,c=null),!(this.readyState==="closing"||this.readyState==="closed")){c=c||{},c.compress=c.compress!==!1;var x={type:g,data:d,options:c};this.emit("packetCreate",x),this.writeBuffer.push(x),E&&this.once("flush",E),this.flush()}},o.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var g=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?E():d()}):this.upgrading?E():d()}function d(){g.onClose("forced close"),f("socket closing - telling transport to close"),g.transport.close()}function c(){g.removeListener("upgrade",c),g.removeListener("upgradeError",c),d()}function E(){g.once("upgrade",c),g.once("upgradeError",c)}return this},o.prototype.onError=function(g){f("socket error %j",g),o.priorWebsocketSuccess=!1,this.emit("error",g),this.onClose("transport error",g)},o.prototype.onClose=function(g,d){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){f('socket close with reason: "%s"',g);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",g,d),c.writeBuffer=[],c.prevBufferLen=0}},o.prototype.filterUpgrades=function(g){for(var d=[],c=0,E=g.length;c<E;c++)~m(this.transports,g[c])&&d.push(g[c]);return d}},"./node_modules/engine.io-client/lib/transport.js":function(n,r,s){var i=s("./node_modules/engine.io-parser/lib/browser.js"),a=s("./node_modules/component-emitter/index.js");n.exports=f;function f(m){this.path=m.path,this.hostname=m.hostname,this.port=m.port,this.secure=m.secure,this.query=m.query,this.timestampParam=m.timestampParam,this.timestampRequests=m.timestampRequests,this.readyState="",this.agent=m.agent||!1,this.socket=m.socket,this.enablesXDR=m.enablesXDR,this.withCredentials=m.withCredentials,this.pfx=m.pfx,this.key=m.key,this.passphrase=m.passphrase,this.cert=m.cert,this.ca=m.ca,this.ciphers=m.ciphers,this.rejectUnauthorized=m.rejectUnauthorized,this.forceNode=m.forceNode,this.isReactNative=m.isReactNative,this.extraHeaders=m.extraHeaders,this.localAddress=m.localAddress}a(f.prototype),f.prototype.onError=function(m,w){var b=new Error(m);return b.type="TransportError",b.description=w,this.emit("error",b),this},f.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},f.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},f.prototype.send=function(m){if(this.readyState==="open")this.write(m);else throw new Error("Transport not open")},f.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},f.prototype.onData=function(m){var w=i.decodePacket(m,this.socket.binaryType);this.onPacket(w)},f.prototype.onPacket=function(m){this.emit("packet",m)},f.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"./node_modules/engine.io-client/lib/transports/index.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/xmlhttprequest.js"),a=s("./node_modules/engine.io-client/lib/transports/polling-xhr.js"),f=s("./node_modules/engine.io-client/lib/transports/polling-jsonp.js"),m=s("./node_modules/engine.io-client/lib/transports/websocket.js");r.polling=w,r.websocket=m;function w(b){var y,o=!1,p=!1,g=b.jsonp!==!1;if(typeof location<"u"){var d=location.protocol==="https:",c=location.port;c||(c=d?443:80),o=b.hostname!==location.hostname||c!==b.port,p=b.secure!==d}if(b.xdomain=o,b.xscheme=p,y=new i(b),"open"in y&&!b.forceJSONP)return new a(b);if(!g)throw new Error("JSONP disabled");return new f(b)}},"./node_modules/engine.io-client/lib/transports/polling-jsonp.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/transports/polling.js"),a=s("./node_modules/component-inherit/index.js"),f=s("./node_modules/engine.io-client/lib/globalThis.browser.js");n.exports=o;var m=/\n/g,w=/\\n/g,b;function y(){}function o(p){i.call(this,p),this.query=this.query||{},b||(b=f.___eio=f.___eio||[]),this.index=b.length;var g=this;b.push(function(d){g.onData(d)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){g.script&&(g.script.onerror=y)},!1)}a(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var p=this,g=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),g.async=!0,g.src=this.uri(),g.onerror=function(E){p.onError("jsonp poll error",E)};var d=document.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(g,d):(document.head||document.body).appendChild(g),this.script=g;var c=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);c&&setTimeout(function(){var E=document.createElement("iframe");document.body.appendChild(E),document.body.removeChild(E)},100)},o.prototype.doWrite=function(p,g){var d=this;if(!this.form){var c=document.createElement("form"),E=document.createElement("textarea"),x=this.iframeId="eio_iframe_"+this.index,I;c.className="socketio",c.style.position="absolute",c.style.top="-1000px",c.style.left="-1000px",c.target=x,c.method="POST",c.setAttribute("accept-charset","utf-8"),E.name="d",c.appendChild(E),document.body.appendChild(c),this.form=c,this.area=E}this.form.action=this.uri();function T(){C(),g()}function C(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(O){d.onError("jsonp polling iframe removal error",O)}try{var B='<iframe src="javascript:0" name="'+d.iframeId+'">';I=document.createElement(B)}catch{I=document.createElement("iframe"),I.name=d.iframeId,I.src="javascript:0"}I.id=d.iframeId,d.form.appendChild(I),d.iframe=I}C(),p=p.replace(w,`\\
`),this.area.value=p.replace(m,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){d.iframe.readyState==="complete"&&T()}:this.iframe.onload=T}},"./node_modules/engine.io-client/lib/transports/polling-xhr.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/xmlhttprequest.js"),a=s("./node_modules/engine.io-client/lib/transports/polling.js"),f=s("./node_modules/component-emitter/index.js"),m=s("./node_modules/component-inherit/index.js"),w=s("./node_modules/debug/src/browser.js")("engine.io-client:polling-xhr"),b=s("./node_modules/engine.io-client/lib/globalThis.browser.js");n.exports=o,n.exports.Request=p;function y(){}function o(c){if(a.call(this,c),this.requestTimeout=c.requestTimeout,this.extraHeaders=c.extraHeaders,typeof location<"u"){var E=location.protocol==="https:",x=location.port;x||(x=E?443:80),this.xd=typeof location<"u"&&c.hostname!==location.hostname||x!==c.port,this.xs=c.secure!==E}}m(o,a),o.prototype.supportsBinary=!0,o.prototype.request=function(c){return c=c||{},c.uri=this.uri(),c.xd=this.xd,c.xs=this.xs,c.agent=this.agent||!1,c.supportsBinary=this.supportsBinary,c.enablesXDR=this.enablesXDR,c.withCredentials=this.withCredentials,c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,c.requestTimeout=this.requestTimeout,c.extraHeaders=this.extraHeaders,new p(c)},o.prototype.doWrite=function(c,E){var x=typeof c!="string"&&c!==void 0,I=this.request({method:"POST",data:c,isBinary:x}),T=this;I.on("success",E),I.on("error",function(C){T.onError("xhr post error",C)}),this.sendXhr=I},o.prototype.doPoll=function(){w("xhr poll");var c=this.request(),E=this;c.on("data",function(x){E.onData(x)}),c.on("error",function(x){E.onError("xhr poll error",x)}),this.pollXhr=c};function p(c){this.method=c.method||"GET",this.uri=c.uri,this.xd=!!c.xd,this.xs=!!c.xs,this.async=c.async!==!1,this.data=c.data!==void 0?c.data:null,this.agent=c.agent,this.isBinary=c.isBinary,this.supportsBinary=c.supportsBinary,this.enablesXDR=c.enablesXDR,this.withCredentials=c.withCredentials,this.requestTimeout=c.requestTimeout,this.pfx=c.pfx,this.key=c.key,this.passphrase=c.passphrase,this.cert=c.cert,this.ca=c.ca,this.ciphers=c.ciphers,this.rejectUnauthorized=c.rejectUnauthorized,this.extraHeaders=c.extraHeaders,this.create()}if(f(p.prototype),p.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized;var E=this.xhr=new i(c),x=this;try{w("xhr open %s: %s",this.method,this.uri),E.open(this.method,this.uri,this.async);try{if(this.extraHeaders){E.setDisableHeaderCheck&&E.setDisableHeaderCheck(!0);for(var I in this.extraHeaders)this.extraHeaders.hasOwnProperty(I)&&E.setRequestHeader(I,this.extraHeaders[I])}}catch{}if(this.method==="POST")try{this.isBinary?E.setRequestHeader("Content-type","application/octet-stream"):E.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{E.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in E&&(E.withCredentials=this.withCredentials),this.requestTimeout&&(E.timeout=this.requestTimeout),this.hasXDR()?(E.onload=function(){x.onLoad()},E.onerror=function(){x.onError(E.responseText)}):E.onreadystatechange=function(){if(E.readyState===2)try{var T=E.getResponseHeader("Content-Type");(x.supportsBinary&&T==="application/octet-stream"||T==="application/octet-stream; charset=UTF-8")&&(E.responseType="arraybuffer")}catch{}E.readyState===4&&(E.status===200||E.status===1223?x.onLoad():setTimeout(function(){x.onError(typeof E.status=="number"?E.status:0)},0))},w("xhr data %s",this.data),E.send(this.data)}catch(T){setTimeout(function(){x.onError(T)},0);return}typeof document<"u"&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(c){this.emit("data",c),this.onSuccess()},p.prototype.onError=function(c){this.emit("error",c),this.cleanup(!0)},p.prototype.cleanup=function(c){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=y:this.xhr.onreadystatechange=y,c)try{this.xhr.abort()}catch{}typeof document<"u"&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var c;try{var E;try{E=this.xhr.getResponseHeader("Content-Type")}catch{}E==="application/octet-stream"||E==="application/octet-stream; charset=UTF-8"?c=this.xhr.response||this.xhr.responseText:c=this.xhr.responseText}catch(x){this.onError(x)}c!=null&&this.onData(c)},p.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",d);else if(typeof addEventListener=="function"){var g="onpagehide"in b?"pagehide":"unload";addEventListener(g,d,!1)}}function d(){for(var c in p.requests)p.requests.hasOwnProperty(c)&&p.requests[c].abort()}},"./node_modules/engine.io-client/lib/transports/polling.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/transport.js"),a=s("./node_modules/parseqs/index.js"),f=s("./node_modules/engine.io-parser/lib/browser.js"),m=s("./node_modules/component-inherit/index.js"),w=s("./node_modules/yeast/index.js"),b=s("./node_modules/debug/src/browser.js")("engine.io-client:polling");n.exports=o;var y=function(){var p=s("./node_modules/engine.io-client/lib/xmlhttprequest.js"),g=new p({xdomain:!1});return g.responseType!=null}();function o(p){var g=p&&p.forceBase64;(!y||g)&&(this.supportsBinary=!1),i.call(this,p)}m(o,i),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(p){var g=this;this.readyState="pausing";function d(){b("paused"),g.readyState="paused",p()}if(this.polling||!this.writable){var c=0;this.polling&&(b("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){b("pre-pause polling complete"),--c||d()})),this.writable||(b("we are currently writing - waiting to pause"),c++,this.once("drain",function(){b("pre-pause writing complete"),--c||d()}))}else d()},o.prototype.poll=function(){b("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(p){var g=this;b("polling got data %s",p);var d=function(c,E,x){if(g.readyState==="opening"&&c.type==="open"&&g.onOpen(),c.type==="close")return g.onClose(),!1;g.onPacket(c)};f.decodePayload(p,this.socket.binaryType,d),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():b('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){var p=this;function g(){b("writing close packet"),p.write([{type:"close"}])}this.readyState==="open"?(b("transport open - closing"),g()):(b("transport not open - deferring close"),this.once("open",g))},o.prototype.write=function(p){var g=this;this.writable=!1;var d=function(){g.writable=!0,g.emit("drain")};f.encodePayload(p,this.supportsBinary,function(c){g.doWrite(c,d)})},o.prototype.uri=function(){var p=this.query||{},g=this.secure?"https":"http",d="";this.timestampRequests!==!1&&(p[this.timestampParam]=w()),!this.supportsBinary&&!p.sid&&(p.b64=1),p=a.encode(p),this.port&&(g==="https"&&Number(this.port)!==443||g==="http"&&Number(this.port)!==80)&&(d=":"+this.port),p.length&&(p="?"+p);var c=this.hostname.indexOf(":")!==-1;return g+"://"+(c?"["+this.hostname+"]":this.hostname)+d+this.path+p}},"./node_modules/engine.io-client/lib/transports/websocket.js":function(n,r,s){(function(i){var a=s("./node_modules/engine.io-client/lib/transport.js"),f=s("./node_modules/engine.io-parser/lib/browser.js"),m=s("./node_modules/parseqs/index.js"),w=s("./node_modules/component-inherit/index.js"),b=s("./node_modules/yeast/index.js"),y=s("./node_modules/debug/src/browser.js")("engine.io-client:websocket"),o,p;if(typeof WebSocket<"u"?o=WebSocket:typeof self<"u"&&(o=self.WebSocket||self.MozWebSocket),typeof window>"u")try{p=s(0)}catch{}var g=o||p;n.exports=d;function d(c){var E=c&&c.forceBase64;E&&(this.supportsBinary=!1),this.perMessageDeflate=c.perMessageDeflate,this.usingBrowserWebSocket=o&&!c.forceNode,this.protocols=c.protocols,this.usingBrowserWebSocket||(g=p),a.call(this,c)}w(d,a),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(!!this.check()){var c=this.uri(),E=this.protocols,x={};this.isReactNative||(x.agent=this.agent,x.perMessageDeflate=this.perMessageDeflate,x.pfx=this.pfx,x.key=this.key,x.passphrase=this.passphrase,x.cert=this.cert,x.ca=this.ca,x.ciphers=this.ciphers,x.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(x.headers=this.extraHeaders),this.localAddress&&(x.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?E?new g(c,E):new g(c):new g(c,E,x)}catch(I){return this.emit("error",I)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var c=this;this.ws.onopen=function(){c.onOpen()},this.ws.onclose=function(){c.onClose()},this.ws.onmessage=function(E){c.onData(E.data)},this.ws.onerror=function(E){c.onError("websocket error",E)}},d.prototype.write=function(c){var E=this;this.writable=!1;for(var x=c.length,I=0,T=x;I<T;I++)(function(B){f.encodePacket(B,E.supportsBinary,function(O){if(!E.usingBrowserWebSocket){var k={};if(B.options&&(k.compress=B.options.compress),E.perMessageDeflate){var _=typeof O=="string"?i.byteLength(O):O.length;_<E.perMessageDeflate.threshold&&(k.compress=!1)}}try{E.usingBrowserWebSocket?E.ws.send(O):E.ws.send(O,k)}catch{y("websocket closed before onclose event")}--x||C()})})(c[I]);function C(){E.emit("flush"),setTimeout(function(){E.writable=!0,E.emit("drain")},0)}},d.prototype.onClose=function(){a.prototype.onClose.call(this)},d.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},d.prototype.uri=function(){var c=this.query||{},E=this.secure?"wss":"ws",x="";this.port&&(E==="wss"&&Number(this.port)!==443||E==="ws"&&Number(this.port)!==80)&&(x=":"+this.port),this.timestampRequests&&(c[this.timestampParam]=b()),this.supportsBinary||(c.b64=1),c=m.encode(c),c.length&&(c="?"+c);var I=this.hostname.indexOf(":")!==-1;return E+"://"+(I?"["+this.hostname+"]":this.hostname)+x+this.path+c},d.prototype.check=function(){return!!g&&!("__initialize"in g&&this.name===d.prototype.name)}}).call(this,s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/engine.io-client/lib/xmlhttprequest.js":function(n,r,s){var i=s("./node_modules/has-cors/index.js"),a=s("./node_modules/engine.io-client/lib/globalThis.browser.js");n.exports=function(f){var m=f.xdomain,w=f.xscheme,b=f.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!m||i))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!w&&b)return new XDomainRequest}catch{}if(!m)try{return new a[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}},"./node_modules/engine.io-parser/lib/browser.js":function(n,r,s){var i=s("./node_modules/engine.io-parser/lib/keys.js"),a=s("./node_modules/has-binary2/index.js"),f=s("./node_modules/arraybuffer.slice/index.js"),m=s("./node_modules/after/index.js"),w=s("./node_modules/engine.io-parser/lib/utf8.js"),b;typeof ArrayBuffer<"u"&&(b=s("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js"));var y=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),o=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),p=y||o;r.protocol=3;var g=r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=i(g),c={type:"error",data:"parser error"},E=s("./node_modules/blob/index.js");r.encodePacket=function(k,_,R,F){typeof _=="function"&&(F=_,_=!1),typeof R=="function"&&(F=R,R=null);var M=k.data===void 0?void 0:k.data.buffer||k.data;if(typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer)return I(k,_,F);if(typeof E<"u"&&M instanceof E)return C(k,_,F);if(M&&M.base64)return x(k,F);var W=g[k.type];return k.data!==void 0&&(W+=R?w.encode(String(k.data),{strict:!1}):String(k.data)),F(""+W)};function x(k,_){var R="b"+r.packets[k.type]+k.data.data;return _(R)}function I(k,_,R){if(!_)return r.encodeBase64Packet(k,R);var F=k.data,M=new Uint8Array(F),W=new Uint8Array(1+F.byteLength);W[0]=g[k.type];for(var J=0;J<M.length;J++)W[J+1]=M[J];return R(W.buffer)}function T(k,_,R){if(!_)return r.encodeBase64Packet(k,R);var F=new FileReader;return F.onload=function(){r.encodePacket({type:k.type,data:F.result},_,!0,R)},F.readAsArrayBuffer(k.data)}function C(k,_,R){if(!_)return r.encodeBase64Packet(k,R);if(p)return T(k,_,R);var F=new Uint8Array(1);F[0]=g[k.type];var M=new E([F.buffer,k.data]);return R(M)}r.encodeBase64Packet=function(k,_){var R="b"+r.packets[k.type];if(typeof E<"u"&&k.data instanceof E){var F=new FileReader;return F.onload=function(){var V=F.result.split(",")[1];_(R+V)},F.readAsDataURL(k.data)}var M;try{M=String.fromCharCode.apply(null,new Uint8Array(k.data))}catch{for(var W=new Uint8Array(k.data),J=new Array(W.length),X=0;X<W.length;X++)J[X]=W[X];M=String.fromCharCode.apply(null,J)}return R+=btoa(M),_(R)},r.decodePacket=function(k,_,R){if(k===void 0)return c;if(typeof k=="string"){if(k.charAt(0)==="b")return r.decodeBase64Packet(k.substr(1),_);if(R&&(k=B(k),k===!1))return c;var M=k.charAt(0);return Number(M)!=M||!d[M]?c:k.length>1?{type:d[M],data:k.substring(1)}:{type:d[M]}}var F=new Uint8Array(k),M=F[0],W=f(k,1);return E&&_==="blob"&&(W=new E([W])),{type:d[M],data:W}};function B(k){try{k=w.decode(k,{strict:!1})}catch{return!1}return k}r.decodeBase64Packet=function(k,_){var R=d[k.charAt(0)];if(!b)return{type:R,data:{base64:!0,data:k.substr(1)}};var F=b.decode(k.substr(1));return _==="blob"&&E&&(F=new E([F])),{type:R,data:F}},r.encodePayload=function(k,_,R){typeof _=="function"&&(R=_,_=null);var F=a(k);if(_&&F)return E&&!p?r.encodePayloadAsBlob(k,R):r.encodePayloadAsArrayBuffer(k,R);if(!k.length)return R("0:");function M(J){return J.length+":"+J}function W(J,X){r.encodePacket(J,F?_:!1,!1,function(V){X(null,M(V))})}O(k,W,function(J,X){return R(X.join(""))})};function O(k,_,R){for(var F=new Array(k.length),M=m(k.length,R),W=function(X,V,oe){_(V,function(Z,re){F[X]=re,oe(Z,F)})},J=0;J<k.length;J++)W(J,k[J],M)}r.decodePayload=function(k,_,R){if(typeof k!="string")return r.decodePayloadAsBinary(k,_,R);typeof _=="function"&&(R=_,_=null);var F;if(k==="")return R(c,0,1);for(var M="",W,J,X=0,V=k.length;X<V;X++){var oe=k.charAt(X);if(oe!==":"){M+=oe;continue}if(M===""||M!=(W=Number(M))||(J=k.substr(X+1,W),M!=J.length))return R(c,0,1);if(J.length){if(F=r.decodePacket(J,_,!1),c.type===F.type&&c.data===F.data)return R(c,0,1);var Z=R(F,X+W,V);if(Z===!1)return}X+=W,M=""}if(M!=="")return R(c,0,1)},r.encodePayloadAsArrayBuffer=function(k,_){if(!k.length)return _(new ArrayBuffer(0));function R(F,M){r.encodePacket(F,!0,!0,function(W){return M(null,W)})}O(k,R,function(F,M){var W=M.reduce(function(V,oe){var Z;return typeof oe=="string"?Z=oe.length:Z=oe.byteLength,V+Z.toString().length+Z+2},0),J=new Uint8Array(W),X=0;return M.forEach(function(V){var oe=typeof V=="string",Z=V;if(oe){for(var we=new Uint8Array(V.length),re=0;re<V.length;re++)we[re]=V.charCodeAt(re);Z=we.buffer}oe?J[X++]=0:J[X++]=1;for(var Ee=Z.byteLength.toString(),re=0;re<Ee.length;re++)J[X++]=parseInt(Ee[re]);J[X++]=255;for(var we=new Uint8Array(Z),re=0;re<we.length;re++)J[X++]=we[re]}),_(J.buffer)})},r.encodePayloadAsBlob=function(k,_){function R(F,M){r.encodePacket(F,!0,!0,function(W){var J=new Uint8Array(1);if(J[0]=1,typeof W=="string"){for(var X=new Uint8Array(W.length),V=0;V<W.length;V++)X[V]=W.charCodeAt(V);W=X.buffer,J[0]=0}for(var oe=W instanceof ArrayBuffer?W.byteLength:W.size,Z=oe.toString(),re=new Uint8Array(Z.length+1),V=0;V<Z.length;V++)re[V]=parseInt(Z[V]);if(re[Z.length]=255,E){var Ee=new E([J.buffer,re.buffer,W]);M(null,Ee)}})}O(k,R,function(F,M){return _(new E(M))})},r.decodePayloadAsBinary=function(k,_,R){typeof _=="function"&&(R=_,_=null);for(var F=k,M=[];F.byteLength>0;){for(var W=new Uint8Array(F),J=W[0]===0,X="",V=1;W[V]!==255;V++){if(X.length>310)return R(c,0,1);X+=W[V]}F=f(F,2+X.length),X=parseInt(X);var oe=f(F,0,X);if(J)try{oe=String.fromCharCode.apply(null,new Uint8Array(oe))}catch{var Z=new Uint8Array(oe);oe="";for(var V=0;V<Z.length;V++)oe+=String.fromCharCode(Z[V])}M.push(oe),F=f(F,X)}var re=M.length;M.forEach(function(Ee,we){R(r.decodePacket(Ee,_,!0),we,re)})}},"./node_modules/engine.io-parser/lib/keys.js":function(n,r){n.exports=Object.keys||function(i){var a=[],f=Object.prototype.hasOwnProperty;for(var m in i)f.call(i,m)&&a.push(m);return a}},"./node_modules/engine.io-parser/lib/utf8.js":function(n,r){/*! https://mths.be/utf8js v2.1.2 by @mathias */var s=String.fromCharCode;function i(E){for(var x=[],I=0,T=E.length,C,B;I<T;)C=E.charCodeAt(I++),C>=55296&&C<=56319&&I<T?(B=E.charCodeAt(I++),(B&64512)==56320?x.push(((C&1023)<<10)+(B&1023)+65536):(x.push(C),I--)):x.push(C);return x}function a(E){for(var x=E.length,I=-1,T,C="";++I<x;)T=E[I],T>65535&&(T-=65536,C+=s(T>>>10&1023|55296),T=56320|T&1023),C+=s(T);return C}function f(E,x){if(E>=55296&&E<=57343){if(x)throw Error("Lone surrogate U+"+E.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function m(E,x){return s(E>>x&63|128)}function w(E,x){if((E&4294967168)==0)return s(E);var I="";return(E&4294965248)==0?I=s(E>>6&31|192):(E&4294901760)==0?(f(E,x)||(E=65533),I=s(E>>12&15|224),I+=m(E,6)):(E&4292870144)==0&&(I=s(E>>18&7|240),I+=m(E,12),I+=m(E,6)),I+=s(E&63|128),I}function b(E,x){x=x||{};for(var I=x.strict!==!1,T=i(E),C=T.length,B=-1,O,k="";++B<C;)O=T[B],k+=w(O,I);return k}function y(){if(d>=g)throw Error("Invalid byte index");var E=p[d]&255;if(d++,(E&192)==128)return E&63;throw Error("Invalid continuation byte")}function o(E){var x,I,T,C,B;if(d>g)throw Error("Invalid byte index");if(d==g)return!1;if(x=p[d]&255,d++,(x&128)==0)return x;if((x&224)==192){if(I=y(),B=(x&31)<<6|I,B>=128)return B;throw Error("Invalid continuation byte")}if((x&240)==224){if(I=y(),T=y(),B=(x&15)<<12|I<<6|T,B>=2048)return f(B,E)?B:65533;throw Error("Invalid continuation byte")}if((x&248)==240&&(I=y(),T=y(),C=y(),B=(x&7)<<18|I<<12|T<<6|C,B>=65536&&B<=1114111))return B;throw Error("Invalid UTF-8 detected")}var p,g,d;function c(E,x){x=x||{};var I=x.strict!==!1;p=i(E),g=p.length,d=0;for(var T=[],C;(C=o(I))!==!1;)T.push(C);return a(T)}n.exports={version:"2.1.2",encode:b,decode:c}},"./node_modules/enum/lib/enum.js":function(n,r,s){s.r(r),function(i){s.d(r,"default",function(){return o});var a=s("./node_modules/enum/lib/enumItem.js"),f=s("./node_modules/enum/lib/isType.js"),m=s("./node_modules/enum/lib/indexOf.js");const w=d=>d!=null&&d.constructor!=null&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d),y=(()=>{const d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256?"LE":"BE"})();class o{constructor(c,E){if(this.size=4,this.indirection=1,E&&Object(f.isString)(E)&&(E={name:E}),this._options=E||{},this._options.separator=this._options.separator||" | ",this._options.endianness=this._options.endianness||y,this._options.ignoreCase=this._options.ignoreCase||!1,this._options.freez=this._options.freez||!1,this._options.freeze=this._options.freeze||this._options.freez||!1,this.enums=[],c.length){this._enumLastIndex=c.length;var x=c;c={};for(var I=0;I<x.length;I++)c[x[I]]=Math.pow(2,I)}for(var T in c)g(this._options.name,T),this[T]=new a.default(T,c[T],{ignoreCase:this._options.ignoreCase}),this.enums.push(this[T]);this._enumMap=c,this._options.ignoreCase&&(this.getLowerCaseEnums=function(){for(var B={},O=0,k=this.enums.length;O<k;O++)B[this.enums[O].key.toLowerCase()]=this.enums[O];return B}),this._options.name&&(this.name=this._options.name);const C=()=>{for(var B=0,O=this.enums.length;B<O;B++){var k=this.enums[B];if(!(k.value!==0&&!(k.value&k.value-1)))return!1}return!0};this.isFlaggable=C(),this._options.freeze&&this.freezeEnums()}getKey(c){var E=this.get(c);if(E)return E.key}getValue(c){var E=this.get(c);if(E)return E.value}get(c,E){if(c!=null)if(w(c)&&(c=c["readUInt32"+this._options.endianness](E||0)),a.default.isEnumItem(c)){var x=m.indexOf.call(this.enums,c);return x>=0?c:!this.isFlaggable||this.isFlaggable&&c.key.indexOf(this._options.separator)<0?void 0:this.get(c.key)}else if(Object(f.isString)(c)){var I=this;if(this._options.ignoreCase&&(I=this.getLowerCaseEnums(),c=c.toLowerCase()),c.indexOf(this._options.separator)>0){for(var T=c.split(this._options.separator),C=0,B=0;B<T.length;B++){var O=T[B];C|=I[O].value}return new a.default(c,C)}else return I[c]}else{for(var k in this)if(this.hasOwnProperty(k)&&this[k].value===c)return this[k];var _=null;if(this.isFlaggable)for(var R in this)this.hasOwnProperty(R)&&(c&this[R].value)!==0&&(_?_+=this._options.separator:_="",_+=R);return this.get(_||null)}}set(c,E,x){var I=this.get(x);if(I)return c["writeUInt32"+this._options.endianness](I.value,E||0)}freezeEnums(){function c(){return Object.isFrozen&&Object.isSealed&&Object.getOwnPropertyNames&&Object.getOwnPropertyDescriptor&&Object.defineProperties&&Object.__defineGetter__&&Object.__defineSetter__}function E(T){var C=Object.getOwnPropertyNames(T);return C.forEach(function(B){!Object.getOwnPropertyDescriptor(T,B).configurable||Object.defineProperties(T,B,{writable:!1,configurable:!1})}),T}function x(T){return T}function I(T){if(!(typeof T!="object"||T===null||Object.isFrozen(T)||Object.isSealed(T))){for(var C in T)T.hasOwnProperty(C)&&(T.__defineGetter__(C,x.bind(null,T[C])),T.__defineSetter__(C,function(O){throw TypeError("Cannot redefine property; Enum Type is not extensible.")}),I(T[C]));Object.freeze?Object.freeze(T):E(T)}}return c()&&I(this),this}isDefined(c){let E=x=>x===c;return(Object(f.isString)(c)||Object(f.isNumber)(c))&&(E=x=>x.is(c)),this.enums.some(E)}toJSON(){return this._enumMap}extend(c){if(c.length){var E=c;c={};for(var x=0;x<E.length;x++){var I=this._enumLastIndex+x;c[E[x]]=Math.pow(2,I)}for(var T in c)g(this._options.name,T),this[T]=new a.default(T,c[T],{ignoreCase:this._options.ignoreCase}),this.enums.push(this[T]);for(var C in this._enumMap)c[C]=this._enumMap[C];this._enumLastIndex+=c.length,this._enumMap=c,this._options.freeze&&this.freezeEnums()}}static register(c="Enum"){typeof i<"u"&&!i[c]?i[c]=o:typeof window<"u"&&!window[c]&&(window[c]=o)}[Symbol.iterator](){let c=0;return{next:()=>c<this.enums.length?{done:!1,value:this.enums[c++]}:{done:!0}}}}var p=["_options","get","getKey","getValue","enums","isFlaggable","_enumMap","toJSON","_enumLastIndex"];function g(d,c){if(d&&c==="name"||m.indexOf.call(p,c)>=0)throw new Error(`Enum key ${c} is a reserved word!`)}}.call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/enum/lib/enumItem.js":function(n,r,s){s.r(r),s.d(r,"default",function(){return a});var i=s("./node_modules/enum/lib/isType.js");class a{constructor(m,w,b={}){this.key=m,this.value=w,this._options=b,this._options.ignoreCase=this._options.ignoreCase||!1}has(m){return a.isEnumItem(m)?(this.value&m.value)!==0:Object(i.isString)(m)?this._options.ignoreCase?this.key.toLowerCase().indexOf(m.toLowerCase())>=0:this.key.indexOf(m)>=0:(this.value&m)!==0}is(m){return a.isEnumItem(m)?this.key===m.key:Object(i.isString)(m)?this._options.ignoreCase?this.key.toLowerCase()===m.toLowerCase():this.key===m:this.value===m}toString(){return this.key}toJSON(){return this.key}valueOf(){return this.value}static isEnumItem(m){return m instanceof a||Object(i.isObject)(m)&&m.key!==void 0&&m.value!==void 0}}},"./node_modules/enum/lib/indexOf.js":function(n,r,s){s.r(r),s.d(r,"indexOf",function(){return i});const i=Array.prototype.indexOf||function(a,f){f===void 0&&(f=0),f<0&&(f+=this.length),f<0&&(f=0);for(var m=this.length;f<m;f++)if(f in this&&this[f]===a)return f;return-1}},"./node_modules/enum/lib/isType.js":function(n,r,s){s.r(r),s.d(r,"isType",function(){return i}),s.d(r,"isObject",function(){return a}),s.d(r,"isString",function(){return f}),s.d(r,"isNumber",function(){return m});const i=(w,b)=>typeof b===w,a=w=>i("object",w),f=w=>i("string",w),m=w=>i("number",w)},"./node_modules/events/events.js":function(n,r,s){var i=typeof Reflect=="object"?Reflect:null,a=i&&typeof i.apply=="function"?i.apply:function(R,F,M){return Function.prototype.apply.call(R,F,M)},f;i&&typeof i.ownKeys=="function"?f=i.ownKeys:Object.getOwnPropertySymbols?f=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:f=function(R){return Object.getOwnPropertyNames(R)};function m(_){console&&console.warn&&console.warn(_)}var w=Number.isNaN||function(R){return R!==R};function b(){b.init.call(this)}n.exports=b,n.exports.once=B,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var y=10;function o(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(_){if(typeof _!="number"||_<0||w(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");y=_}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||w(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function p(_){return _._maxListeners===void 0?b.defaultMaxListeners:_._maxListeners}b.prototype.getMaxListeners=function(){return p(this)},b.prototype.emit=function(R){for(var F=[],M=1;M<arguments.length;M++)F.push(arguments[M]);var W=R==="error",J=this._events;if(J!==void 0)W=W&&J.error===void 0;else if(!W)return!1;if(W){var X;if(F.length>0&&(X=F[0]),X instanceof Error)throw X;var V=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw V.context=X,V}var oe=J[R];if(oe===void 0)return!1;if(typeof oe=="function")a(oe,this,F);else for(var Z=oe.length,re=I(oe,Z),M=0;M<Z;++M)a(re[M],this,F);return!0};function g(_,R,F,M){var W,J,X;if(o(F),J=_._events,J===void 0?(J=_._events=Object.create(null),_._eventsCount=0):(J.newListener!==void 0&&(_.emit("newListener",R,F.listener?F.listener:F),J=_._events),X=J[R]),X===void 0)X=J[R]=F,++_._eventsCount;else if(typeof X=="function"?X=J[R]=M?[F,X]:[X,F]:M?X.unshift(F):X.push(F),W=p(_),W>0&&X.length>W&&!X.warned){X.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=_,V.type=R,V.count=X.length,m(V)}return _}b.prototype.addListener=function(R,F){return g(this,R,F,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(R,F){return g(this,R,F,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(_,R,F){var M={fired:!1,wrapFn:void 0,target:_,type:R,listener:F},W=d.bind(M);return W.listener=F,M.wrapFn=W,W}b.prototype.once=function(R,F){return o(F),this.on(R,c(this,R,F)),this},b.prototype.prependOnceListener=function(R,F){return o(F),this.prependListener(R,c(this,R,F)),this},b.prototype.removeListener=function(R,F){var M,W,J,X,V;if(o(F),W=this._events,W===void 0)return this;if(M=W[R],M===void 0)return this;if(M===F||M.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete W[R],W.removeListener&&this.emit("removeListener",R,M.listener||F));else if(typeof M!="function"){for(J=-1,X=M.length-1;X>=0;X--)if(M[X]===F||M[X].listener===F){V=M[X].listener,J=X;break}if(J<0)return this;J===0?M.shift():T(M,J),M.length===1&&(W[R]=M[0]),W.removeListener!==void 0&&this.emit("removeListener",R,V||F)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(R){var F,M,W;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[R]),this;if(arguments.length===0){var J=Object.keys(M),X;for(W=0;W<J.length;++W)X=J[W],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=M[R],typeof F=="function")this.removeListener(R,F);else if(F!==void 0)for(W=F.length-1;W>=0;W--)this.removeListener(R,F[W]);return this};function E(_,R,F){var M=_._events;if(M===void 0)return[];var W=M[R];return W===void 0?[]:typeof W=="function"?F?[W.listener||W]:[W]:F?C(W):I(W,W.length)}b.prototype.listeners=function(R){return E(this,R,!0)},b.prototype.rawListeners=function(R){return E(this,R,!1)},b.listenerCount=function(_,R){return typeof _.listenerCount=="function"?_.listenerCount(R):x.call(_,R)},b.prototype.listenerCount=x;function x(_){var R=this._events;if(R!==void 0){var F=R[_];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function I(_,R){for(var F=new Array(R),M=0;M<R;++M)F[M]=_[M];return F}function T(_,R){for(;R+1<_.length;R++)_[R]=_[R+1];_.pop()}function C(_){for(var R=new Array(_.length),F=0;F<R.length;++F)R[F]=_[F].listener||_[F];return R}function B(_,R){return new Promise(function(F,M){function W(X){_.removeListener(R,J),M(X)}function J(){typeof _.removeListener=="function"&&_.removeListener("error",W),F([].slice.call(arguments))}k(_,R,J,{once:!0}),R!=="error"&&O(_,W,{once:!0})})}function O(_,R,F){typeof _.on=="function"&&k(_,"error",R,F)}function k(_,R,F,M){if(typeof _.on=="function")M.once?_.once(R,F):_.on(R,F);else if(typeof _.addEventListener=="function")_.addEventListener(R,function W(J){M.once&&_.removeEventListener(R,W),F(J)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}},"./node_modules/filter-obj/index.js":function(n,r,s){n.exports=function(i,a){for(var f={},m=Object.keys(i),w=Array.isArray(a),b=0;b<m.length;b++){var y=m[b],o=i[y];(w?a.indexOf(y)!==-1:a(y,o,i))&&(f[y]=o)}return f}},"./node_modules/has-binary2/index.js":function(n,r,s){(function(i){var a=s("./node_modules/isarray/index.js"),f=Object.prototype.toString,m=typeof Blob=="function"||typeof Blob<"u"&&f.call(Blob)==="[object BlobConstructor]",w=typeof File=="function"||typeof File<"u"&&f.call(File)==="[object FileConstructor]";n.exports=b;function b(y){if(!y||typeof y!="object")return!1;if(a(y)){for(var o=0,p=y.length;o<p;o++)if(b(y[o]))return!0;return!1}if(typeof i=="function"&&i.isBuffer&&i.isBuffer(y)||typeof ArrayBuffer=="function"&&y instanceof ArrayBuffer||m&&y instanceof Blob||w&&y instanceof File)return!0;if(y.toJSON&&typeof y.toJSON=="function"&&arguments.length===1)return b(y.toJSON(),!0);for(var g in y)if(Object.prototype.hasOwnProperty.call(y,g)&&b(y[g]))return!0;return!1}}).call(this,s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/has-cors/index.js":function(n,r){try{n.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{n.exports=!1}},"./node_modules/ieee754/index.js":function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(s,i,a,f,m){var w,b,y=m*8-f-1,o=(1<<y)-1,p=o>>1,g=-7,d=a?m-1:0,c=a?-1:1,E=s[i+d];for(d+=c,w=E&(1<<-g)-1,E>>=-g,g+=y;g>0;w=w*256+s[i+d],d+=c,g-=8);for(b=w&(1<<-g)-1,w>>=-g,g+=f;g>0;b=b*256+s[i+d],d+=c,g-=8);if(w===0)w=1-p;else{if(w===o)return b?NaN:(E?-1:1)*(1/0);b=b+Math.pow(2,f),w=w-p}return(E?-1:1)*b*Math.pow(2,w-f)},r.write=function(s,i,a,f,m,w){var b,y,o,p=w*8-m-1,g=(1<<p)-1,d=g>>1,c=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=f?0:w-1,x=f?1:-1,I=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(y=isNaN(i)?1:0,b=g):(b=Math.floor(Math.log(i)/Math.LN2),i*(o=Math.pow(2,-b))<1&&(b--,o*=2),b+d>=1?i+=c/o:i+=c*Math.pow(2,1-d),i*o>=2&&(b++,o/=2),b+d>=g?(y=0,b=g):b+d>=1?(y=(i*o-1)*Math.pow(2,m),b=b+d):(y=i*Math.pow(2,d-1)*Math.pow(2,m),b=0));m>=8;s[a+E]=y&255,E+=x,y/=256,m-=8);for(b=b<<m|y,p+=m;p>0;s[a+E]=b&255,E+=x,b/=256,p-=8);s[a+E-x]|=I*128}},"./node_modules/indexof/index.js":function(n,r){var s=[].indexOf;n.exports=function(i,a){if(s)return i.indexOf(a);for(var f=0;f<i.length;++f)if(i[f]===a)return f;return-1}},"./node_modules/isarray/index.js":function(n,r){var s={}.toString;n.exports=Array.isArray||function(i){return s.call(i)=="[object Array]"}},"./node_modules/js-binarypack/lib/binarypack.js":function(n,r,s){var i=s("./node_modules/js-binarypack/lib/bufferbuilder.js").BufferBuilder,a=s("./node_modules/js-binarypack/lib/bufferbuilder.js").binaryFeatures,f={unpack:function(o){var p=new m(o);return p.unpack()},pack:function(o){var p=new w;p.pack(o);var g=p.getBuffer();return g}};n.exports=f;function m(o){this.index=0,this.dataBuffer=o,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}m.prototype.unpack=function(){var o=this.unpack_uint8();if(o<128){var p=o;return p}else if((o^224)<32){var g=(o^224)-32;return g}var d;if((d=o^160)<=15)return this.unpack_raw(d);if((d=o^176)<=15)return this.unpack_string(d);if((d=o^144)<=15)return this.unpack_array(d);if((d=o^128)<=15)return this.unpack_map(d);switch(o){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return d=this.unpack_uint16(),this.unpack_string(d);case 217:return d=this.unpack_uint32(),this.unpack_string(d);case 218:return d=this.unpack_uint16(),this.unpack_raw(d);case 219:return d=this.unpack_uint32(),this.unpack_raw(d);case 220:return d=this.unpack_uint16(),this.unpack_array(d);case 221:return d=this.unpack_uint32(),this.unpack_array(d);case 222:return d=this.unpack_uint16(),this.unpack_map(d);case 223:return d=this.unpack_uint32(),this.unpack_map(d)}},m.prototype.unpack_uint8=function(){var o=this.dataView[this.index]&255;return this.index++,o},m.prototype.unpack_uint16=function(){var o=this.read(2),p=(o[0]&255)*256+(o[1]&255);return this.index+=2,p},m.prototype.unpack_uint32=function(){var o=this.read(4),p=((o[0]*256+o[1])*256+o[2])*256+o[3];return this.index+=4,p},m.prototype.unpack_uint64=function(){var o=this.read(8),p=((((((o[0]*256+o[1])*256+o[2])*256+o[3])*256+o[4])*256+o[5])*256+o[6])*256+o[7];return this.index+=8,p},m.prototype.unpack_int8=function(){var o=this.unpack_uint8();return o<128?o:o-(1<<8)},m.prototype.unpack_int16=function(){var o=this.unpack_uint16();return o<32768?o:o-(1<<16)},m.prototype.unpack_int32=function(){var o=this.unpack_uint32();return o<Math.pow(2,31)?o:o-Math.pow(2,32)},m.prototype.unpack_int64=function(){var o=this.unpack_uint64();return o<Math.pow(2,63)?o:o-Math.pow(2,64)},m.prototype.unpack_raw=function(o){if(this.length<this.index+o)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+o+" "+this.length);var p=this.dataBuffer.slice(this.index,this.index+o);return this.index+=o,p},m.prototype.unpack_string=function(o){for(var p=this.read(o),g=0,d="",c,E;g<o;)c=p[g],c<128?(d+=String.fromCharCode(c),g++):(c^192)<32?(E=(c^192)<<6|p[g+1]&63,d+=String.fromCharCode(E),g+=2):(E=(c&15)<<12|(p[g+1]&63)<<6|p[g+2]&63,d+=String.fromCharCode(E),g+=3);return this.index+=o,d},m.prototype.unpack_array=function(o){for(var p=new Array(o),g=0;g<o;g++)p[g]=this.unpack();return p},m.prototype.unpack_map=function(o){for(var p={},g=0;g<o;g++){var d=this.unpack(),c=this.unpack();p[d]=c}return p},m.prototype.unpack_float=function(){var o=this.unpack_uint32(),p=o>>31,g=(o>>23&255)-127,d=o&8388607|8388608;return(p==0?1:-1)*d*Math.pow(2,g-23)},m.prototype.unpack_double=function(){var o=this.unpack_uint32(),p=this.unpack_uint32(),g=o>>31,d=(o>>20&2047)-1023,c=o&1048575|1048576,E=c*Math.pow(2,d-20)+p*Math.pow(2,d-52);return(g==0?1:-1)*E},m.prototype.read=function(o){var p=this.index;if(p+o<=this.length)return this.dataView.subarray(p,p+o);throw new Error("BinaryPackFailure: read index out of range")};function w(){this.bufferBuilder=new i}w.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},w.prototype.pack=function(o){var p=typeof o;if(p=="string")this.pack_string(o);else if(p=="number")Math.floor(o)===o?this.pack_integer(o):this.pack_double(o);else if(p=="boolean")o===!0?this.bufferBuilder.append(195):o===!1&&this.bufferBuilder.append(194);else if(p=="undefined")this.bufferBuilder.append(192);else if(p=="object")if(o===null)this.bufferBuilder.append(192);else{var g=o.constructor;if(g==Array)this.pack_array(o);else if(g==Blob||g==File)this.pack_bin(o);else if(g==ArrayBuffer)a.useArrayBufferView?this.pack_bin(new Uint8Array(o)):this.pack_bin(o);else if("BYTES_PER_ELEMENT"in o)a.useArrayBufferView?this.pack_bin(new Uint8Array(o.buffer)):this.pack_bin(o.buffer);else if(g==Object)this.pack_object(o);else if(g==Date)this.pack_string(o.toString());else if(typeof o.toBinaryPack=="function")this.bufferBuilder.append(o.toBinaryPack());else throw new Error('Type "'+g.toString()+'" not yet supported')}else throw new Error('Type "'+p+'" not yet supported');this.bufferBuilder.flush()},w.prototype.pack_bin=function(o){var p=o.length||o.byteLength||o.size;if(p<=15)this.pack_uint8(160+p);else if(p<=65535)this.bufferBuilder.append(218),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(o)},w.prototype.pack_string=function(o){var p=y(o);if(p<=15)this.pack_uint8(176+p);else if(p<=65535)this.bufferBuilder.append(216),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(o)},w.prototype.pack_array=function(o){var p=o.length;if(p<=15)this.pack_uint8(144+p);else if(p<=65535)this.bufferBuilder.append(220),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(p);else throw new Error("Invalid length");for(var g=0;g<p;g++)this.pack(o[g])},w.prototype.pack_integer=function(o){if(-32<=o&&o<=127)this.bufferBuilder.append(o&255);else if(0<=o&&o<=255)this.bufferBuilder.append(204),this.pack_uint8(o);else if(-128<=o&&o<=127)this.bufferBuilder.append(208),this.pack_int8(o);else if(0<=o&&o<=65535)this.bufferBuilder.append(205),this.pack_uint16(o);else if(-32768<=o&&o<=32767)this.bufferBuilder.append(209),this.pack_int16(o);else if(0<=o&&o<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(o);else if(-2147483648<=o&&o<=2147483647)this.bufferBuilder.append(210),this.pack_int32(o);else if(-9223372036854776e3<=o&&o<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(o);else if(0<=o&&o<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(o);else throw new Error("Invalid integer")},w.prototype.pack_double=function(o){var p=0;o<0&&(p=1,o=-o);var g=Math.floor(Math.log(o)/Math.LN2),d=o/Math.pow(2,g)-1,c=Math.floor(d*Math.pow(2,52)),E=Math.pow(2,32),x=p<<31|g+1023<<20|c/E&1048575,I=c%E;this.bufferBuilder.append(203),this.pack_int32(x),this.pack_int32(I)},w.prototype.pack_object=function(o){var p=Object.keys(o),g=p.length;if(g<=15)this.pack_uint8(128+g);else if(g<=65535)this.bufferBuilder.append(222),this.pack_uint16(g);else if(g<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(g);else throw new Error("Invalid length");for(var d in o)o.hasOwnProperty(d)&&(this.pack(d),this.pack(o[d]))},w.prototype.pack_uint8=function(o){this.bufferBuilder.append(o)},w.prototype.pack_uint16=function(o){this.bufferBuilder.append(o>>8),this.bufferBuilder.append(o&255)},w.prototype.pack_uint32=function(o){var p=o&4294967295;this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255)},w.prototype.pack_uint64=function(o){var p=o/Math.pow(2,32),g=o%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((g&4278190080)>>>24),this.bufferBuilder.append((g&16711680)>>>16),this.bufferBuilder.append((g&65280)>>>8),this.bufferBuilder.append(g&255)},w.prototype.pack_int8=function(o){this.bufferBuilder.append(o&255)},w.prototype.pack_int16=function(o){this.bufferBuilder.append((o&65280)>>8),this.bufferBuilder.append(o&255)},w.prototype.pack_int32=function(o){this.bufferBuilder.append(o>>>24&255),this.bufferBuilder.append((o&16711680)>>>16),this.bufferBuilder.append((o&65280)>>>8),this.bufferBuilder.append(o&255)},w.prototype.pack_int64=function(o){var p=Math.floor(o/Math.pow(2,32)),g=o%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((g&4278190080)>>>24),this.bufferBuilder.append((g&16711680)>>>16),this.bufferBuilder.append((g&65280)>>>8),this.bufferBuilder.append(g&255)};function b(o){var p=o.charCodeAt(0);return p<=2047?"00":p<=65535?"000":p<=2097151?"0000":p<=67108863?"00000":"000000"}function y(o){return o.length>600?new Blob([o]).size:o.replace(/[^\u0000-\u007F]/g,b).length}},"./node_modules/js-binarypack/lib/bufferbuilder.js":function(n,r){var s={};s.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),s.useArrayBufferView=!s.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),n.exports.binaryFeatures=s;var i=n.exports.BlobBuilder;typeof window<"u"&&(i=n.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function a(){this._pieces=[],this._parts=[]}a.prototype.append=function(f){typeof f=="number"?this._pieces.push(f):(this.flush(),this._parts.push(f))},a.prototype.flush=function(){if(this._pieces.length>0){var f=new Uint8Array(this._pieces);s.useArrayBufferView||(f=f.buffer),this._parts.push(f),this._pieces=[]}},a.prototype.getBuffer=function(){if(this.flush(),s.useBlobBuilder){for(var f=new i,m=0,w=this._parts.length;m<w;m++)f.append(this._parts[m]);return f.getBlob()}else return new Blob(this._parts)},n.exports.BufferBuilder=a},"./node_modules/ms/index.js":function(n,r){var s=1e3,i=s*60,a=i*60,f=a*24,m=f*365.25;n.exports=function(p,g){g=g||{};var d=typeof p;if(d==="string"&&p.length>0)return w(p);if(d==="number"&&isNaN(p)===!1)return g.long?y(p):b(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function w(p){if(p=String(p),!(p.length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(p);if(!!g){var d=parseFloat(g[1]),c=(g[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return d*m;case"days":case"day":case"d":return d*f;case"hours":case"hour":case"hrs":case"hr":case"h":return d*a;case"minutes":case"minute":case"mins":case"min":case"m":return d*i;case"seconds":case"second":case"secs":case"sec":case"s":return d*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function b(p){return p>=f?Math.round(p/f)+"d":p>=a?Math.round(p/a)+"h":p>=i?Math.round(p/i)+"m":p>=s?Math.round(p/s)+"s":p+"ms"}function y(p){return o(p,f,"day")||o(p,a,"hour")||o(p,i,"minute")||o(p,s,"second")||p+" ms"}function o(p,g,d){if(!(p<g))return p<g*1.5?Math.floor(p/g)+" "+d:Math.ceil(p/g)+" "+d+"s"}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":function(n,r,s){(function(i){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var a=s("./node_modules/base64-js/index.js"),f=s("./node_modules/ieee754/index.js"),m=s("./node_modules/node-libs-browser/node_modules/isarray/index.js");r.Buffer=o,r.SlowBuffer=B,r.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:w(),r.kMaxLength=b();function w(){try{var S=new Uint8Array(1);return S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},S.foo()===42&&typeof S.subarray=="function"&&S.subarray(1,1).byteLength===0}catch{return!1}}function b(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(S,l){if(b()<l)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(l),S.__proto__=o.prototype):(S===null&&(S=new o(l)),S.length=l),S}function o(S,l,u){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(S,l,u);if(typeof S=="number"){if(typeof l=="string")throw new Error("If encoding is specified then the first argument must be a string");return c(this,S)}return p(this,S,l,u)}o.poolSize=8192,o._augment=function(S){return S.__proto__=o.prototype,S};function p(S,l,u,A){if(typeof l=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&l instanceof ArrayBuffer?I(S,l,u,A):typeof l=="string"?E(S,l,u):T(S,l)}o.from=function(S,l,u){return p(null,S,l,u)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0}));function g(S){if(typeof S!="number")throw new TypeError('"size" argument must be a number');if(S<0)throw new RangeError('"size" argument must not be negative')}function d(S,l,u,A){return g(l),l<=0?y(S,l):u!==void 0?typeof A=="string"?y(S,l).fill(u,A):y(S,l).fill(u):y(S,l)}o.alloc=function(S,l,u){return d(null,S,l,u)};function c(S,l){if(g(l),S=y(S,l<0?0:C(l)|0),!o.TYPED_ARRAY_SUPPORT)for(var u=0;u<l;++u)S[u]=0;return S}o.allocUnsafe=function(S){return c(null,S)},o.allocUnsafeSlow=function(S){return c(null,S)};function E(S,l,u){if((typeof u!="string"||u==="")&&(u="utf8"),!o.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');var A=O(l,u)|0;S=y(S,A);var P=S.write(l,u);return P!==A&&(S=S.slice(0,P)),S}function x(S,l){var u=l.length<0?0:C(l.length)|0;S=y(S,u);for(var A=0;A<u;A+=1)S[A]=l[A]&255;return S}function I(S,l,u,A){if(l.byteLength,u<0||l.byteLength<u)throw new RangeError("'offset' is out of bounds");if(l.byteLength<u+(A||0))throw new RangeError("'length' is out of bounds");return u===void 0&&A===void 0?l=new Uint8Array(l):A===void 0?l=new Uint8Array(l,u):l=new Uint8Array(l,u,A),o.TYPED_ARRAY_SUPPORT?(S=l,S.__proto__=o.prototype):S=x(S,l),S}function T(S,l){if(o.isBuffer(l)){var u=C(l.length)|0;return S=y(S,u),S.length===0||l.copy(S,0,0,u),S}if(l){if(typeof ArrayBuffer<"u"&&l.buffer instanceof ArrayBuffer||"length"in l)return typeof l.length!="number"||q(l.length)?y(S,0):x(S,l);if(l.type==="Buffer"&&m(l.data))return x(S,l.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function C(S){if(S>=b())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b().toString(16)+" bytes");return S|0}function B(S){return+S!=S&&(S=0),o.alloc(+S)}o.isBuffer=function(l){return!!(l!=null&&l._isBuffer)},o.compare=function(l,u){if(!o.isBuffer(l)||!o.isBuffer(u))throw new TypeError("Arguments must be Buffers");if(l===u)return 0;for(var A=l.length,P=u.length,U=0,z=Math.min(A,P);U<z;++U)if(l[U]!==u[U]){A=l[U],P=u[U];break}return A<P?-1:P<A?1:0},o.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(l,u){if(!m(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return o.alloc(0);var A;if(u===void 0)for(u=0,A=0;A<l.length;++A)u+=l[A].length;var P=o.allocUnsafe(u),U=0;for(A=0;A<l.length;++A){var z=l[A];if(!o.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(P,U),U+=z.length}return P};function O(S,l){if(o.isBuffer(S))return S.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;typeof S!="string"&&(S=""+S);var u=S.length;if(u===0)return 0;for(var A=!1;;)switch(l){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":case void 0:return H(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return Q(S).length;default:if(A)return H(S).length;l=(""+l).toLowerCase(),A=!0}}o.byteLength=O;function k(S,l,u){var A=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,l>>>=0,u<=l))return"";for(S||(S="utf8");;)switch(S){case"hex":return jt(this,l,u);case"utf8":case"utf-8":return re(this,l,u);case"ascii":return nt(this,l,u);case"latin1":case"binary":return We(this,l,u);case"base64":return Z(this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kt(this,l,u);default:if(A)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),A=!0}}o.prototype._isBuffer=!0;function _(S,l,u){var A=S[l];S[l]=S[u],S[u]=A}o.prototype.swap16=function(){var l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<l;u+=2)_(this,u,u+1);return this},o.prototype.swap32=function(){var l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<l;u+=4)_(this,u,u+3),_(this,u+1,u+2);return this},o.prototype.swap64=function(){var l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<l;u+=8)_(this,u,u+7),_(this,u+1,u+6),_(this,u+2,u+5),_(this,u+3,u+4);return this},o.prototype.toString=function(){var l=this.length|0;return l===0?"":arguments.length===0?re(this,0,l):k.apply(this,arguments)},o.prototype.equals=function(l){if(!o.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:o.compare(this,l)===0},o.prototype.inspect=function(){var l="",u=r.INSPECT_MAX_BYTES;return this.length>0&&(l=this.toString("hex",0,u).match(/.{2}/g).join(" "),this.length>u&&(l+=" ... ")),"<Buffer "+l+">"},o.prototype.compare=function(l,u,A,P,U){if(!o.isBuffer(l))throw new TypeError("Argument must be a Buffer");if(u===void 0&&(u=0),A===void 0&&(A=l?l.length:0),P===void 0&&(P=0),U===void 0&&(U=this.length),u<0||A>l.length||P<0||U>this.length)throw new RangeError("out of range index");if(P>=U&&u>=A)return 0;if(P>=U)return-1;if(u>=A)return 1;if(u>>>=0,A>>>=0,P>>>=0,U>>>=0,this===l)return 0;for(var z=U-P,ie=A-u,ue=Math.min(z,ie),de=this.slice(P,U),Ce=l.slice(u,A),ge=0;ge<ue;++ge)if(de[ge]!==Ce[ge]){z=de[ge],ie=Ce[ge];break}return z<ie?-1:ie<z?1:0};function R(S,l,u,A,P){if(S.length===0)return-1;if(typeof u=="string"?(A=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,isNaN(u)&&(u=P?0:S.length-1),u<0&&(u=S.length+u),u>=S.length){if(P)return-1;u=S.length-1}else if(u<0)if(P)u=0;else return-1;if(typeof l=="string"&&(l=o.from(l,A)),o.isBuffer(l))return l.length===0?-1:F(S,l,u,A,P);if(typeof l=="number")return l=l&255,o.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(S,l,u):Uint8Array.prototype.lastIndexOf.call(S,l,u):F(S,[l],u,A,P);throw new TypeError("val must be string, number or Buffer")}function F(S,l,u,A,P){var U=1,z=S.length,ie=l.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(S.length<2||l.length<2)return-1;U=2,z/=2,ie/=2,u/=2}function ue(Te,Fe){return U===1?Te[Fe]:Te.readUInt16BE(Fe*U)}var de;if(P){var Ce=-1;for(de=u;de<z;de++)if(ue(S,de)===ue(l,Ce===-1?0:de-Ce)){if(Ce===-1&&(Ce=de),de-Ce+1===ie)return Ce*U}else Ce!==-1&&(de-=de-Ce),Ce=-1}else for(u+ie>z&&(u=z-ie),de=u;de>=0;de--){for(var ge=!0,ht=0;ht<ie;ht++)if(ue(S,de+ht)!==ue(l,ht)){ge=!1;break}if(ge)return de}return-1}o.prototype.includes=function(l,u,A){return this.indexOf(l,u,A)!==-1},o.prototype.indexOf=function(l,u,A){return R(this,l,u,A,!0)},o.prototype.lastIndexOf=function(l,u,A){return R(this,l,u,A,!1)};function M(S,l,u,A){u=Number(u)||0;var P=S.length-u;A?(A=Number(A),A>P&&(A=P)):A=P;var U=l.length;if(U%2!==0)throw new TypeError("Invalid hex string");A>U/2&&(A=U/2);for(var z=0;z<A;++z){var ie=parseInt(l.substr(z*2,2),16);if(isNaN(ie))return z;S[u+z]=ie}return z}function W(S,l,u,A){return K(H(l,S.length-u),S,u,A)}function J(S,l,u,A){return K(G(l),S,u,A)}function X(S,l,u,A){return J(S,l,u,A)}function V(S,l,u,A){return K(Q(l),S,u,A)}function oe(S,l,u,A){return K(ne(l,S.length-u),S,u,A)}o.prototype.write=function(l,u,A,P){if(u===void 0)P="utf8",A=this.length,u=0;else if(A===void 0&&typeof u=="string")P=u,A=this.length,u=0;else if(isFinite(u))u=u|0,isFinite(A)?(A=A|0,P===void 0&&(P="utf8")):(P=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var U=this.length-u;if((A===void 0||A>U)&&(A=U),l.length>0&&(A<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var z=!1;;)switch(P){case"hex":return M(this,l,u,A);case"utf8":case"utf-8":return W(this,l,u,A);case"ascii":return J(this,l,u,A);case"latin1":case"binary":return X(this,l,u,A);case"base64":return V(this,l,u,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,l,u,A);default:if(z)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(S,l,u){return l===0&&u===S.length?a.fromByteArray(S):a.fromByteArray(S.slice(l,u))}function re(S,l,u){u=Math.min(S.length,u);for(var A=[],P=l;P<u;){var U=S[P],z=null,ie=U>239?4:U>223?3:U>191?2:1;if(P+ie<=u){var ue,de,Ce,ge;switch(ie){case 1:U<128&&(z=U);break;case 2:ue=S[P+1],(ue&192)===128&&(ge=(U&31)<<6|ue&63,ge>127&&(z=ge));break;case 3:ue=S[P+1],de=S[P+2],(ue&192)===128&&(de&192)===128&&(ge=(U&15)<<12|(ue&63)<<6|de&63,ge>2047&&(ge<55296||ge>57343)&&(z=ge));break;case 4:ue=S[P+1],de=S[P+2],Ce=S[P+3],(ue&192)===128&&(de&192)===128&&(Ce&192)===128&&(ge=(U&15)<<18|(ue&63)<<12|(de&63)<<6|Ce&63,ge>65535&&ge<1114112&&(z=ge))}}z===null?(z=65533,ie=1):z>65535&&(z-=65536,A.push(z>>>10&1023|55296),z=56320|z&1023),A.push(z),P+=ie}return we(A)}var Ee=4096;function we(S){var l=S.length;if(l<=Ee)return String.fromCharCode.apply(String,S);for(var u="",A=0;A<l;)u+=String.fromCharCode.apply(String,S.slice(A,A+=Ee));return u}function nt(S,l,u){var A="";u=Math.min(S.length,u);for(var P=l;P<u;++P)A+=String.fromCharCode(S[P]&127);return A}function We(S,l,u){var A="";u=Math.min(S.length,u);for(var P=l;P<u;++P)A+=String.fromCharCode(S[P]);return A}function jt(S,l,u){var A=S.length;(!l||l<0)&&(l=0),(!u||u<0||u>A)&&(u=A);for(var P="",U=l;U<u;++U)P+=Y(S[U]);return P}function Kt(S,l,u){for(var A=S.slice(l,u),P="",U=0;U<A.length;U+=2)P+=String.fromCharCode(A[U]+A[U+1]*256);return P}o.prototype.slice=function(l,u){var A=this.length;l=~~l,u=u===void 0?A:~~u,l<0?(l+=A,l<0&&(l=0)):l>A&&(l=A),u<0?(u+=A,u<0&&(u=0)):u>A&&(u=A),u<l&&(u=l);var P;if(o.TYPED_ARRAY_SUPPORT)P=this.subarray(l,u),P.__proto__=o.prototype;else{var U=u-l;P=new o(U,void 0);for(var z=0;z<U;++z)P[z]=this[z+l]}return P};function Se(S,l,u){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+l>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(l,u,A){l=l|0,u=u|0,A||Se(l,u,this.length);for(var P=this[l],U=1,z=0;++z<u&&(U*=256);)P+=this[l+z]*U;return P},o.prototype.readUIntBE=function(l,u,A){l=l|0,u=u|0,A||Se(l,u,this.length);for(var P=this[l+--u],U=1;u>0&&(U*=256);)P+=this[l+--u]*U;return P},o.prototype.readUInt8=function(l,u){return u||Se(l,1,this.length),this[l]},o.prototype.readUInt16LE=function(l,u){return u||Se(l,2,this.length),this[l]|this[l+1]<<8},o.prototype.readUInt16BE=function(l,u){return u||Se(l,2,this.length),this[l]<<8|this[l+1]},o.prototype.readUInt32LE=function(l,u){return u||Se(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},o.prototype.readUInt32BE=function(l,u){return u||Se(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},o.prototype.readIntLE=function(l,u,A){l=l|0,u=u|0,A||Se(l,u,this.length);for(var P=this[l],U=1,z=0;++z<u&&(U*=256);)P+=this[l+z]*U;return U*=128,P>=U&&(P-=Math.pow(2,8*u)),P},o.prototype.readIntBE=function(l,u,A){l=l|0,u=u|0,A||Se(l,u,this.length);for(var P=u,U=1,z=this[l+--P];P>0&&(U*=256);)z+=this[l+--P]*U;return U*=128,z>=U&&(z-=Math.pow(2,8*u)),z},o.prototype.readInt8=function(l,u){return u||Se(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},o.prototype.readInt16LE=function(l,u){u||Se(l,2,this.length);var A=this[l]|this[l+1]<<8;return A&32768?A|4294901760:A},o.prototype.readInt16BE=function(l,u){u||Se(l,2,this.length);var A=this[l+1]|this[l]<<8;return A&32768?A|4294901760:A},o.prototype.readInt32LE=function(l,u){return u||Se(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},o.prototype.readInt32BE=function(l,u){return u||Se(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},o.prototype.readFloatLE=function(l,u){return u||Se(l,4,this.length),f.read(this,l,!0,23,4)},o.prototype.readFloatBE=function(l,u){return u||Se(l,4,this.length),f.read(this,l,!1,23,4)},o.prototype.readDoubleLE=function(l,u){return u||Se(l,8,this.length),f.read(this,l,!0,52,8)},o.prototype.readDoubleBE=function(l,u){return u||Se(l,8,this.length),f.read(this,l,!1,52,8)};function he(S,l,u,A,P,U){if(!o.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>P||l<U)throw new RangeError('"value" argument is out of bounds');if(u+A>S.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(l,u,A,P){if(l=+l,u=u|0,A=A|0,!P){var U=Math.pow(2,8*A)-1;he(this,l,u,A,U,0)}var z=1,ie=0;for(this[u]=l&255;++ie<A&&(z*=256);)this[u+ie]=l/z&255;return u+A},o.prototype.writeUIntBE=function(l,u,A,P){if(l=+l,u=u|0,A=A|0,!P){var U=Math.pow(2,8*A)-1;he(this,l,u,A,U,0)}var z=A-1,ie=1;for(this[u+z]=l&255;--z>=0&&(ie*=256);)this[u+z]=l/ie&255;return u+A},o.prototype.writeUInt8=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,1,255,0),o.TYPED_ARRAY_SUPPORT||(l=Math.floor(l)),this[u]=l&255,u+1};function Ge(S,l,u,A){l<0&&(l=65535+l+1);for(var P=0,U=Math.min(S.length-u,2);P<U;++P)S[u+P]=(l&255<<8*(A?P:1-P))>>>(A?P:1-P)*8}o.prototype.writeUInt16LE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[u]=l&255,this[u+1]=l>>>8):Ge(this,l,u,!0),u+2},o.prototype.writeUInt16BE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[u]=l>>>8,this[u+1]=l&255):Ge(this,l,u,!1),u+2};function dt(S,l,u,A){l<0&&(l=4294967295+l+1);for(var P=0,U=Math.min(S.length-u,4);P<U;++P)S[u+P]=l>>>(A?P:3-P)*8&255}o.prototype.writeUInt32LE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[u+3]=l>>>24,this[u+2]=l>>>16,this[u+1]=l>>>8,this[u]=l&255):dt(this,l,u,!0),u+4},o.prototype.writeUInt32BE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[u]=l>>>24,this[u+1]=l>>>16,this[u+2]=l>>>8,this[u+3]=l&255):dt(this,l,u,!1),u+4},o.prototype.writeIntLE=function(l,u,A,P){if(l=+l,u=u|0,!P){var U=Math.pow(2,8*A-1);he(this,l,u,A,U-1,-U)}var z=0,ie=1,ue=0;for(this[u]=l&255;++z<A&&(ie*=256);)l<0&&ue===0&&this[u+z-1]!==0&&(ue=1),this[u+z]=(l/ie>>0)-ue&255;return u+A},o.prototype.writeIntBE=function(l,u,A,P){if(l=+l,u=u|0,!P){var U=Math.pow(2,8*A-1);he(this,l,u,A,U-1,-U)}var z=A-1,ie=1,ue=0;for(this[u+z]=l&255;--z>=0&&(ie*=256);)l<0&&ue===0&&this[u+z+1]!==0&&(ue=1),this[u+z]=(l/ie>>0)-ue&255;return u+A},o.prototype.writeInt8=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,1,127,-128),o.TYPED_ARRAY_SUPPORT||(l=Math.floor(l)),l<0&&(l=255+l+1),this[u]=l&255,u+1},o.prototype.writeInt16LE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[u]=l&255,this[u+1]=l>>>8):Ge(this,l,u,!0),u+2},o.prototype.writeInt16BE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[u]=l>>>8,this[u+1]=l&255):Ge(this,l,u,!1),u+2},o.prototype.writeInt32LE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[u]=l&255,this[u+1]=l>>>8,this[u+2]=l>>>16,this[u+3]=l>>>24):dt(this,l,u,!0),u+4},o.prototype.writeInt32BE=function(l,u,A){return l=+l,u=u|0,A||he(this,l,u,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),o.TYPED_ARRAY_SUPPORT?(this[u]=l>>>24,this[u+1]=l>>>16,this[u+2]=l>>>8,this[u+3]=l&255):dt(this,l,u,!1),u+4};function qe(S,l,u,A,P,U){if(u+A>S.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function vt(S,l,u,A,P){return P||qe(S,l,u,4),f.write(S,l,u,A,23,4),u+4}o.prototype.writeFloatLE=function(l,u,A){return vt(this,l,u,!0,A)},o.prototype.writeFloatBE=function(l,u,A){return vt(this,l,u,!1,A)};function Qe(S,l,u,A,P){return P||qe(S,l,u,8),f.write(S,l,u,A,52,8),u+8}o.prototype.writeDoubleLE=function(l,u,A){return Qe(this,l,u,!0,A)},o.prototype.writeDoubleBE=function(l,u,A){return Qe(this,l,u,!1,A)},o.prototype.copy=function(l,u,A,P){if(A||(A=0),!P&&P!==0&&(P=this.length),u>=l.length&&(u=l.length),u||(u=0),P>0&&P<A&&(P=A),P===A||l.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),l.length-u<P-A&&(P=l.length-u+A);var U=P-A,z;if(this===l&&A<u&&u<P)for(z=U-1;z>=0;--z)l[z+u]=this[z+A];else if(U<1e3||!o.TYPED_ARRAY_SUPPORT)for(z=0;z<U;++z)l[z+u]=this[z+A];else Uint8Array.prototype.set.call(l,this.subarray(A,A+U),u);return U},o.prototype.fill=function(l,u,A,P){if(typeof l=="string"){if(typeof u=="string"?(P=u,u=0,A=this.length):typeof A=="string"&&(P=A,A=this.length),l.length===1){var U=l.charCodeAt(0);U<256&&(l=U)}if(P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P)}else typeof l=="number"&&(l=l&255);if(u<0||this.length<u||this.length<A)throw new RangeError("Out of range index");if(A<=u)return this;u=u>>>0,A=A===void 0?this.length:A>>>0,l||(l=0);var z;if(typeof l=="number")for(z=u;z<A;++z)this[z]=l;else{var ie=o.isBuffer(l)?l:H(new o(l,P).toString()),ue=ie.length;for(z=0;z<A-u;++z)this[z+u]=ie[z%ue]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function j(S){if(S=L(S).replace(N,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function L(S){return S.trim?S.trim():S.replace(/^\s+|\s+$/g,"")}function Y(S){return S<16?"0"+S.toString(16):S.toString(16)}function H(S,l){l=l||1/0;for(var u,A=S.length,P=null,U=[],z=0;z<A;++z){if(u=S.charCodeAt(z),u>55295&&u<57344){if(!P){if(u>56319){(l-=3)>-1&&U.push(239,191,189);continue}else if(z+1===A){(l-=3)>-1&&U.push(239,191,189);continue}P=u;continue}if(u<56320){(l-=3)>-1&&U.push(239,191,189),P=u;continue}u=(P-55296<<10|u-56320)+65536}else P&&(l-=3)>-1&&U.push(239,191,189);if(P=null,u<128){if((l-=1)<0)break;U.push(u)}else if(u<2048){if((l-=2)<0)break;U.push(u>>6|192,u&63|128)}else if(u<65536){if((l-=3)<0)break;U.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((l-=4)<0)break;U.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return U}function G(S){for(var l=[],u=0;u<S.length;++u)l.push(S.charCodeAt(u)&255);return l}function ne(S,l){for(var u,A,P,U=[],z=0;z<S.length&&!((l-=2)<0);++z)u=S.charCodeAt(z),A=u>>8,P=u%256,U.push(P),U.push(A);return U}function Q(S){return a.toByteArray(j(S))}function K(S,l,u,A){for(var P=0;P<A&&!(P+u>=l.length||P>=S.length);++P)l[P+u]=S[P];return P}function q(S){return S!==S}}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/node-libs-browser/node_modules/isarray/index.js":function(n,r){var s={}.toString;n.exports=Array.isArray||function(i){return s.call(i)=="[object Array]"}},"./node_modules/object-sizeof/byte_size.js":function(n,r){n.exports={STRING:2,BOOLEAN:4,NUMBER:8}},"./node_modules/object-sizeof/index.js":function(n,r,s){var i=s("./node_modules/object-sizeof/byte_size.js"),a=s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer;function f(y){const o=[];for(var p in y)o.push(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(y);Array.prototype.push.apply(o,g)}return o}function m(y,o){if(o==null)return 0;for(var p=0,g=f(o),d=0;d<g.length;d++){var c=g[d];if(typeof o[c]=="object"&&o[c]!==null){if(y.has(o[c]))continue;y.add(o[c])}p+=w(y)(c);try{p+=w(y)(o[c])}catch(E){E instanceof RangeError&&(p=0)}}return p}function w(y){return function(p){if(a.isBuffer(p))return p.length;var g=typeof p;switch(g){case"string":return p.length*i.STRING;case"boolean":return i.BOOLEAN;case"number":return i.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(p)?Symbol.keyFor(p).length*i.STRING:(p.toString().length-8)*i.STRING;case"object":return Array.isArray(p)?p.map(w(y)).reduce(function(c,E){return c+E},0):m(y,p);default:return 0}}}function b(y){return w(new WeakSet)(y)}n.exports=b},"./node_modules/parseqs/index.js":function(n,r){r.encode=function(s){var i="";for(var a in s)s.hasOwnProperty(a)&&(i.length&&(i+="&"),i+=encodeURIComponent(a)+"="+encodeURIComponent(s[a]));return i},r.decode=function(s){for(var i={},a=s.split("&"),f=0,m=a.length;f<m;f++){var w=a[f].split("=");i[decodeURIComponent(w[0])]=decodeURIComponent(w[1])}return i}},"./node_modules/parseuri/index.js":function(n,r){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.exports=function(w){var b=w,y=w.indexOf("["),o=w.indexOf("]");y!=-1&&o!=-1&&(w=w.substring(0,y)+w.substring(y,o).replace(/:/g,";")+w.substring(o,w.length));for(var p=s.exec(w||""),g={},d=14;d--;)g[i[d]]=p[d]||"";return y!=-1&&o!=-1&&(g.source=b,g.host=g.host.substring(1,g.host.length-1).replace(/;/g,":"),g.authority=g.authority.replace("[","").replace("]","").replace(/;/g,":"),g.ipv6uri=!0),g.pathNames=a(g,g.path),g.queryKey=f(g,g.query),g};function a(m,w){var b=/\/{2,9}/g,y=w.replace(b,"/").split("/");return(w.substr(0,1)=="/"||w.length===0)&&y.splice(0,1),w.substr(w.length-1,1)=="/"&&y.splice(y.length-1,1),y}function f(m,w){var b={};return w.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(y,o,p){o&&(b[o]=p)}),b}},"./node_modules/process/browser.js":function(n,r){var s=n.exports={},i,a;function f(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=f}catch{i=f}try{typeof clearTimeout=="function"?a=clearTimeout:a=m}catch{a=m}})();function w(I){if(i===setTimeout)return setTimeout(I,0);if((i===f||!i)&&setTimeout)return i=setTimeout,setTimeout(I,0);try{return i(I,0)}catch{try{return i.call(null,I,0)}catch{return i.call(this,I,0)}}}function b(I){if(a===clearTimeout)return clearTimeout(I);if((a===m||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(I);try{return a(I)}catch{try{return a.call(null,I)}catch{return a.call(this,I)}}}var y=[],o=!1,p,g=-1;function d(){!o||!p||(o=!1,p.length?y=p.concat(y):g=-1,y.length&&c())}function c(){if(!o){var I=w(d);o=!0;for(var T=y.length;T;){for(p=y,y=[];++g<T;)p&&p[g].run();g=-1,T=y.length}p=null,o=!1,b(I)}}s.nextTick=function(I){var T=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)T[C-1]=arguments[C];y.push(new E(I,T)),y.length===1&&!o&&w(c)};function E(I,T){this.fun=I,this.array=T}E.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function x(){}s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(I){return[]},s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},"./node_modules/query-string/index.js":function(n,r,s){const i=s("./node_modules/strict-uri-encode/index.js"),a=s("./node_modules/decode-uri-component/index.js"),f=s("./node_modules/split-on-first/index.js"),m=s("./node_modules/filter-obj/index.js"),w=C=>C==null;function b(C){switch(C.arrayFormat){case"index":return B=>(O,k)=>{const _=O.length;return k===void 0||C.skipNull&&k===null||C.skipEmptyString&&k===""?O:k===null?[...O,[p(B,C),"[",_,"]"].join("")]:[...O,[p(B,C),"[",p(_,C),"]=",p(k,C)].join("")]};case"bracket":return B=>(O,k)=>k===void 0||C.skipNull&&k===null||C.skipEmptyString&&k===""?O:k===null?[...O,[p(B,C),"[]"].join("")]:[...O,[p(B,C),"[]=",p(k,C)].join("")];case"comma":case"separator":return B=>(O,k)=>k==null||k.length===0?O:O.length===0?[[p(B,C),"=",p(k,C)].join("")]:[[O,p(k,C)].join(C.arrayFormatSeparator)];default:return B=>(O,k)=>k===void 0||C.skipNull&&k===null||C.skipEmptyString&&k===""?O:k===null?[...O,p(B,C)]:[...O,[p(B,C),"=",p(k,C)].join("")]}}function y(C){let B;switch(C.arrayFormat){case"index":return(O,k,_)=>{if(B=/\[(\d*)\]$/.exec(O),O=O.replace(/\[\d*\]$/,""),!B){_[O]=k;return}_[O]===void 0&&(_[O]={}),_[O][B[1]]=k};case"bracket":return(O,k,_)=>{if(B=/(\[\])$/.exec(O),O=O.replace(/\[\]$/,""),!B){_[O]=k;return}if(_[O]===void 0){_[O]=[k];return}_[O]=[].concat(_[O],k)};case"comma":case"separator":return(O,k,_)=>{const R=typeof k=="string"&&k.includes(C.arrayFormatSeparator),F=typeof k=="string"&&!R&&g(k,C).includes(C.arrayFormatSeparator);k=F?g(k,C):k;const M=R||F?k.split(C.arrayFormatSeparator).map(W=>g(W,C)):k===null?k:g(k,C);_[O]=M};default:return(O,k,_)=>{if(_[O]===void 0){_[O]=k;return}_[O]=[].concat(_[O],k)}}}function o(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(C,B){return B.encode?B.strict?i(C):encodeURIComponent(C):C}function g(C,B){return B.decode?a(C):C}function d(C){return Array.isArray(C)?C.sort():typeof C=="object"?d(Object.keys(C)).sort((B,O)=>Number(B)-Number(O)).map(B=>C[B]):C}function c(C){const B=C.indexOf("#");return B!==-1&&(C=C.slice(0,B)),C}function E(C){let B="";const O=C.indexOf("#");return O!==-1&&(B=C.slice(O)),B}function x(C){C=c(C);const B=C.indexOf("?");return B===-1?"":C.slice(B+1)}function I(C,B){return B.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):B.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function T(C,B){B=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},B),o(B.arrayFormatSeparator);const O=y(B),k=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return k;for(const _ of C.split("&")){if(_==="")continue;let[R,F]=f(B.decode?_.replace(/\+/g," "):_,"=");F=F===void 0?null:["comma","separator"].includes(B.arrayFormat)?F:g(F,B),O(g(R,B),F,k)}for(const _ of Object.keys(k)){const R=k[_];if(typeof R=="object"&&R!==null)for(const F of Object.keys(R))R[F]=I(R[F],B);else k[_]=I(R,B)}return B.sort===!1?k:(B.sort===!0?Object.keys(k).sort():Object.keys(k).sort(B.sort)).reduce((_,R)=>{const F=k[R];return Boolean(F)&&typeof F=="object"&&!Array.isArray(F)?_[R]=d(F):_[R]=F,_},Object.create(null))}r.extract=x,r.parse=T,r.stringify=(C,B)=>{if(!C)return"";B=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},B),o(B.arrayFormatSeparator);const O=F=>B.skipNull&&w(C[F])||B.skipEmptyString&&C[F]==="",k=b(B),_={};for(const F of Object.keys(C))O(F)||(_[F]=C[F]);const R=Object.keys(_);return B.sort!==!1&&R.sort(B.sort),R.map(F=>{const M=C[F];return M===void 0?"":M===null?p(F,B):Array.isArray(M)?M.reduce(k(F),[]).join("&"):p(F,B)+"="+p(M,B)}).filter(F=>F.length>0).join("&")},r.parseUrl=(C,B)=>{B=Object.assign({decode:!0},B);const[O,k]=f(C,"#");return Object.assign({url:O.split("?")[0]||"",query:T(x(C),B)},B&&B.parseFragmentIdentifier&&k?{fragmentIdentifier:g(k,B)}:{})},r.stringifyUrl=(C,B)=>{B=Object.assign({encode:!0,strict:!0},B);const O=c(C.url).split("?")[0]||"",k=r.extract(C.url),_=r.parse(k,{sort:!1}),R=Object.assign(_,C.query);let F=r.stringify(R,B);F&&(F=`?${F}`);let M=E(C.url);return C.fragmentIdentifier&&(M=`#${p(C.fragmentIdentifier,B)}`),`${O}${F}${M}`},r.pick=(C,B,O)=>{O=Object.assign({parseFragmentIdentifier:!0},O);const{url:k,query:_,fragmentIdentifier:R}=r.parseUrl(C,O);return r.stringifyUrl({url:k,query:m(_,B),fragmentIdentifier:R},O)},r.exclude=(C,B,O)=>{const k=Array.isArray(B)?_=>!B.includes(_):(_,R)=>!B(_,R);return r.pick(C,k,O)}},"./node_modules/sdp-transform/lib/grammar.js":function(n,r){var s=n.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(i){return i.encoding?"rtpmap:%d %s/%s/%s":i.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(i){return i.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(i){return i.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(i){return"extmap:%d"+(i.direction?"/%s":"%v")+(i["encrypt-uri"]?" %s":"%v")+" %s"+(i.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(i){return i.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(i){var a="candidate:%s %d %s %d %s %d typ %s";return a+=i.raddr!=null?" raddr %s rport %d":"%v%v",a+=i.tcptype!=null?" tcptype %s":"%v",i.generation!=null&&(a+=" generation %d"),a+=i["network-id"]!=null?" network-id %d":"%v",a+=i["network-cost"]!=null?" network-cost %d":"%v",a}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(i){var a="ssrc:%d";return i.attribute!=null&&(a+=" %s",i.value!=null&&(a+=":%s")),a}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(i){return i.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(i){return i.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(i){return"imageattr:%s %s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(i){return"simulcast:%s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(i){return"ts-refclk:%s"+(i.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(i){var a="mediaclk:";return a+=i.id!=null?"id=%s %s":"%v%s",a+=i.mediaClockValue!=null?"=%s":"",a+=i.rateNumerator!=null?" rate=%s":"",a+=i.rateDenominator!=null?"/%s":"",a}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(s).forEach(function(i){var a=s[i];a.forEach(function(f){f.reg||(f.reg=/(.*)/),f.format||(f.format="%s")})})},"./node_modules/sdp-transform/lib/index.js":function(n,r,s){var i=s("./node_modules/sdp-transform/lib/parser.js"),a=s("./node_modules/sdp-transform/lib/writer.js");r.write=a,r.parse=i.parse,r.parseParams=i.parseParams,r.parseFmtpConfig=i.parseFmtpConfig,r.parsePayloads=i.parsePayloads,r.parseRemoteCandidates=i.parseRemoteCandidates,r.parseImageAttributes=i.parseImageAttributes,r.parseSimulcastStreamList=i.parseSimulcastStreamList},"./node_modules/sdp-transform/lib/parser.js":function(n,r,s){var i=function(y){return String(Number(y))===y?Number(y):y},a=function(y,o,p,g){if(g&&!p)o[g]=i(y[1]);else for(var d=0;d<p.length;d+=1)y[d+1]!=null&&(o[p[d]]=i(y[d+1]))},f=function(y,o,p){var g=y.name&&y.names;y.push&&!o[y.push]?o[y.push]=[]:g&&!o[y.name]&&(o[y.name]={});var d=y.push?{}:g?o[y.name]:o;a(p.match(y.reg),d,y.names,y.name),y.push&&o[y.push].push(d)},m=s("./node_modules/sdp-transform/lib/grammar.js"),w=RegExp.prototype.test.bind(/^([a-z])=(.*)/);r.parse=function(y){var o={},p=[],g=o;return y.split(/(\r\n|\r|\n)/).filter(w).forEach(function(d){var c=d[0],E=d.slice(2);c==="m"&&(p.push({rtp:[],fmtp:[]}),g=p[p.length-1]);for(var x=0;x<(m[c]||[]).length;x+=1){var I=m[c][x];if(I.reg.test(E))return f(I,g,E)}}),o.media=p,o};var b=function(y,o){var p=o.split(/=(.+)/,2);return p.length===2?y[p[0]]=i(p[1]):p.length===1&&o.length>1&&(y[p[0]]=void 0),y};r.parseParams=function(y){return y.split(/;\s?/).reduce(b,{})},r.parseFmtpConfig=r.parseParams,r.parsePayloads=function(y){return y.toString().split(" ").map(Number)},r.parseRemoteCandidates=function(y){for(var o=[],p=y.split(" ").map(i),g=0;g<p.length;g+=3)o.push({component:p[g],ip:p[g+1],port:p[g+2]});return o},r.parseImageAttributes=function(y){return y.split(" ").map(function(o){return o.substring(1,o.length-1).split(",").reduce(b,{})})},r.parseSimulcastStreamList=function(y){return y.split(";").map(function(o){return o.split(",").map(function(p){var g,d=!1;return p[0]!=="~"?g=i(p):(g=i(p.substring(1,p.length)),d=!0),{scid:g,paused:d}})})}},"./node_modules/sdp-transform/lib/writer.js":function(n,r,s){var i=s("./node_modules/sdp-transform/lib/grammar.js"),a=/%[sdv%]/g,f=function(y){var o=1,p=arguments,g=p.length;return y.replace(a,function(d){if(o>=g)return d;var c=p[o];switch(o+=1,d){case"%%":return"%";case"%s":return String(c);case"%d":return Number(c);case"%v":return""}})},m=function(y,o,p){var g=o.format instanceof Function?o.format(o.push?p:p[o.name]):o.format,d=[y+"="+g];if(o.names)for(var c=0;c<o.names.length;c+=1){var E=o.names[c];o.name?d.push(p[o.name][E]):d.push(p[o.names[c]])}else d.push(p[o.name]);return f.apply(null,d)},w=["v","o","s","i","u","e","p","c","b","t","r","z","a"],b=["i","c","b","a"];n.exports=function(y,o){o=o||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(c){c.payloads==null&&(c.payloads="")});var p=o.outerOrder||w,g=o.innerOrder||b,d=[];return p.forEach(function(c){i[c].forEach(function(E){E.name in y&&y[E.name]!=null?d.push(m(c,E,y)):E.push in y&&y[E.push]!=null&&y[E.push].forEach(function(x){d.push(m(c,E,x))})})}),y.media.forEach(function(c){d.push(m("m",i.m[0],c)),g.forEach(function(E){i[E].forEach(function(x){x.name in c&&c[x.name]!=null?d.push(m(E,x,c)):x.push in c&&c[x.push]!=null&&c[x.push].forEach(function(I){d.push(m(E,x,I))})})})}),d.join(`\r
`)+`\r
`}},"./node_modules/socket.io-client/lib/index.js":function(n,r,s){var i=s("./node_modules/socket.io-client/lib/url.js"),a=s("./node_modules/socket.io-parser/index.js"),f=s("./node_modules/socket.io-client/lib/manager.js"),m=s("./node_modules/debug/src/browser.js")("socket.io-client");n.exports=r=b;var w=r.managers={};function b(y,o){typeof y=="object"&&(o=y,y=void 0),o=o||{};var p=i(y),g=p.source,d=p.id,c=p.path,E=w[d]&&c in w[d].nsps,x=o.forceNew||o["force new connection"]||o.multiplex===!1||E,I;return x?(m("ignoring socket cache for %s",g),I=f(g,o)):(w[d]||(m("new io instance for %s",g),w[d]=f(g,o)),I=w[d]),p.query&&!o.query&&(o.query=p.query),I.socket(p.path,o)}r.protocol=a.protocol,r.connect=b,r.Manager=s("./node_modules/socket.io-client/lib/manager.js"),r.Socket=s("./node_modules/socket.io-client/lib/socket.js")},"./node_modules/socket.io-client/lib/manager.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/index.js"),a=s("./node_modules/socket.io-client/lib/socket.js"),f=s("./node_modules/component-emitter/index.js"),m=s("./node_modules/socket.io-parser/index.js"),w=s("./node_modules/socket.io-client/lib/on.js"),b=s("./node_modules/component-bind/index.js"),y=s("./node_modules/debug/src/browser.js")("socket.io-client:manager"),o=s("./node_modules/indexof/index.js"),p=s("./node_modules/backo2/index.js"),g=Object.prototype.hasOwnProperty;n.exports=d;function d(c,E){if(!(this instanceof d))return new d(c,E);c&&typeof c=="object"&&(E=c,c=void 0),E=E||{},E.path=E.path||"/socket.io",this.nsps={},this.subs=[],this.opts=E,this.reconnection(E.reconnection!==!1),this.reconnectionAttempts(E.reconnectionAttempts||1/0),this.reconnectionDelay(E.reconnectionDelay||1e3),this.reconnectionDelayMax(E.reconnectionDelayMax||5e3),this.randomizationFactor(E.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(E.timeout==null?2e4:E.timeout),this.readyState="closed",this.uri=c,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var x=E.parser||m;this.encoder=new x.Encoder,this.decoder=new x.Decoder,this.autoConnect=E.autoConnect!==!1,this.autoConnect&&this.open()}d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var c in this.nsps)g.call(this.nsps,c)&&this.nsps[c].emit.apply(this.nsps[c],arguments)},d.prototype.updateSocketIds=function(){for(var c in this.nsps)g.call(this.nsps,c)&&(this.nsps[c].id=this.generateId(c))},d.prototype.generateId=function(c){return(c==="/"?"":c+"#")+this.engine.id},f(d.prototype),d.prototype.reconnection=function(c){return arguments.length?(this._reconnection=!!c,this):this._reconnection},d.prototype.reconnectionAttempts=function(c){return arguments.length?(this._reconnectionAttempts=c,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(c){return arguments.length?(this._reconnectionDelay=c,this.backoff&&this.backoff.setMin(c),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(c){return arguments.length?(this._randomizationFactor=c,this.backoff&&this.backoff.setJitter(c),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(c){return arguments.length?(this._reconnectionDelayMax=c,this.backoff&&this.backoff.setMax(c),this):this._reconnectionDelayMax},d.prototype.timeout=function(c){return arguments.length?(this._timeout=c,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},d.prototype.open=d.prototype.connect=function(c,E){if(y("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;y("opening %s",this.uri),this.engine=i(this.uri,this.opts);var x=this.engine,I=this;this.readyState="opening",this.skipReconnect=!1;var T=w(x,"open",function(){I.onopen(),c&&c()}),C=w(x,"error",function(k){if(y("connect_error"),I.cleanup(),I.readyState="closed",I.emitAll("connect_error",k),c){var _=new Error("Connection error");_.data=k,c(_)}else I.maybeReconnectOnOpen()});if(this._timeout!==!1){var B=this._timeout;y("connect attempt will timeout after %d",B),B===0&&T.destroy();var O=setTimeout(function(){y("connect attempt timed out after %d",B),T.destroy(),x.close(),x.emit("error","timeout"),I.emitAll("connect_timeout",B)},B);this.subs.push({destroy:function(){clearTimeout(O)}})}return this.subs.push(T),this.subs.push(C),this},d.prototype.onopen=function(){y("open"),this.cleanup(),this.readyState="open",this.emit("open");var c=this.engine;this.subs.push(w(c,"data",b(this,"ondata"))),this.subs.push(w(c,"ping",b(this,"onping"))),this.subs.push(w(c,"pong",b(this,"onpong"))),this.subs.push(w(c,"error",b(this,"onerror"))),this.subs.push(w(c,"close",b(this,"onclose"))),this.subs.push(w(this.decoder,"decoded",b(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(c){this.decoder.add(c)},d.prototype.ondecoded=function(c){this.emit("packet",c)},d.prototype.onerror=function(c){y("error",c),this.emitAll("error",c)},d.prototype.socket=function(c,E){var x=this.nsps[c];if(!x){x=new a(this,c,E),this.nsps[c]=x;var I=this;x.on("connecting",T),x.on("connect",function(){x.id=I.generateId(c)}),this.autoConnect&&T()}function T(){~o(I.connecting,x)||I.connecting.push(x)}return x},d.prototype.destroy=function(c){var E=o(this.connecting,c);~E&&this.connecting.splice(E,1),!this.connecting.length&&this.close()},d.prototype.packet=function(c){y("writing packet %j",c);var E=this;c.query&&c.type===0&&(c.nsp+="?"+c.query),E.encoding?E.packetBuffer.push(c):(E.encoding=!0,this.encoder.encode(c,function(x){for(var I=0;I<x.length;I++)E.engine.write(x[I],c.options);E.encoding=!1,E.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var c=this.packetBuffer.shift();this.packet(c)}},d.prototype.cleanup=function(){y("cleanup");for(var c=this.subs.length,E=0;E<c;E++){var x=this.subs.shift();x.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){y("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(c){y("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",c),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var c=this;if(this.backoff.attempts>=this._reconnectionAttempts)y("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var E=this.backoff.duration();y("will wait %dms before reconnect attempt",E),this.reconnecting=!0;var x=setTimeout(function(){c.skipReconnect||(y("attempting reconnect"),c.emitAll("reconnect_attempt",c.backoff.attempts),c.emitAll("reconnecting",c.backoff.attempts),!c.skipReconnect&&c.open(function(I){I?(y("reconnect attempt error"),c.reconnecting=!1,c.reconnect(),c.emitAll("reconnect_error",I.data)):(y("reconnect success"),c.onreconnect())}))},E);this.subs.push({destroy:function(){clearTimeout(x)}})}},d.prototype.onreconnect=function(){var c=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",c)}},"./node_modules/socket.io-client/lib/on.js":function(n,r){n.exports=s;function s(i,a,f){return i.on(a,f),{destroy:function(){i.removeListener(a,f)}}}},"./node_modules/socket.io-client/lib/socket.js":function(n,r,s){var i=s("./node_modules/socket.io-parser/index.js"),a=s("./node_modules/component-emitter/index.js"),f=s("./node_modules/to-array/index.js"),m=s("./node_modules/socket.io-client/lib/on.js"),w=s("./node_modules/component-bind/index.js"),b=s("./node_modules/debug/src/browser.js")("socket.io-client:socket"),y=s("./node_modules/parseqs/index.js"),o=s("./node_modules/has-binary2/index.js");n.exports=d;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},g=a.prototype.emit;function d(c,E,x){this.io=c,this.nsp=E,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},x&&x.query&&(this.query=x.query),this.io.autoConnect&&this.open()}a(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[m(c,"open",w(this,"onopen")),m(c,"packet",w(this,"onpacket")),m(c,"close",w(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var c=f(arguments);return c.unshift("message"),this.emit.apply(this,c),this},d.prototype.emit=function(c){if(p.hasOwnProperty(c))return g.apply(this,arguments),this;var E=f(arguments),x={type:(this.flags.binary!==void 0?this.flags.binary:o(E))?i.BINARY_EVENT:i.EVENT,data:E};return x.options={},x.options.compress=!this.flags||this.flags.compress!==!1,typeof E[E.length-1]=="function"&&(b("emitting packet with ack id %d",this.ids),this.acks[this.ids]=E.pop(),x.id=this.ids++),this.connected?this.packet(x):this.sendBuffer.push(x),this.flags={},this},d.prototype.packet=function(c){c.nsp=this.nsp,this.io.packet(c)},d.prototype.onopen=function(){if(b("transport is open - connecting"),this.nsp!=="/")if(this.query){var c=typeof this.query=="object"?y.encode(this.query):this.query;b("sending connect packet with query %s",c),this.packet({type:i.CONNECT,query:c})}else this.packet({type:i.CONNECT})},d.prototype.onclose=function(c){b("close (%s)",c),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",c)},d.prototype.onpacket=function(c){var E=c.nsp===this.nsp,x=c.type===i.ERROR&&c.nsp==="/";if(!(!E&&!x))switch(c.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(c);break;case i.BINARY_EVENT:this.onevent(c);break;case i.ACK:this.onack(c);break;case i.BINARY_ACK:this.onack(c);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",c.data);break}},d.prototype.onevent=function(c){var E=c.data||[];b("emitting event %j",E),c.id!=null&&(b("attaching ack callback to event"),E.push(this.ack(c.id))),this.connected?g.apply(this,E):this.receiveBuffer.push(E)},d.prototype.ack=function(c){var E=this,x=!1;return function(){if(!x){x=!0;var I=f(arguments);b("sending ack %j",I),E.packet({type:o(I)?i.BINARY_ACK:i.ACK,id:c,data:I})}}},d.prototype.onack=function(c){var E=this.acks[c.id];typeof E=="function"?(b("calling ack %s with %j",c.id,c.data),E.apply(this,c.data),delete this.acks[c.id]):b("bad ack %s",c.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},d.prototype.emitBuffered=function(){var c;for(c=0;c<this.receiveBuffer.length;c++)g.apply(this,this.receiveBuffer[c]);for(this.receiveBuffer=[],c=0;c<this.sendBuffer.length;c++)this.packet(this.sendBuffer[c]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){b("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var c=0;c<this.subs.length;c++)this.subs[c].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(b("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(c){return this.flags.compress=c,this},d.prototype.binary=function(c){return this.flags.binary=c,this}},"./node_modules/socket.io-client/lib/url.js":function(n,r,s){var i=s("./node_modules/parseuri/index.js"),a=s("./node_modules/debug/src/browser.js")("socket.io-client:url");n.exports=f;function f(m,w){var b=m;w=w||typeof location<"u"&&location,m==null&&(m=w.protocol+"//"+w.host),typeof m=="string"&&(m.charAt(0)==="/"&&(m.charAt(1)==="/"?m=w.protocol+m:m=w.host+m),/^(https?|wss?):\/\//.test(m)||(a("protocol-less url %s",m),typeof w<"u"?m=w.protocol+"//"+m:m="https://"+m),a("parse %s",m),b=i(m)),b.port||(/^(http|ws)$/.test(b.protocol)?b.port="80":/^(http|ws)s$/.test(b.protocol)&&(b.port="443")),b.path=b.path||"/";var y=b.host.indexOf(":")!==-1,o=y?"["+b.host+"]":b.host;return b.id=b.protocol+"://"+o+":"+b.port,b.href=b.protocol+"://"+o+(w&&w.port===b.port?"":":"+b.port),b}},"./node_modules/socket.io-parser/binary.js":function(n,r,s){var i=s("./node_modules/isarray/index.js"),a=s("./node_modules/socket.io-parser/is-buffer.js"),f=Object.prototype.toString,m=typeof Blob=="function"||typeof Blob<"u"&&f.call(Blob)==="[object BlobConstructor]",w=typeof File=="function"||typeof File<"u"&&f.call(File)==="[object FileConstructor]";r.deconstructPacket=function(o){var p=[],g=o.data,d=o;return d.data=b(g,p),d.attachments=p.length,{packet:d,buffers:p}};function b(o,p){if(!o)return o;if(a(o)){var g={_placeholder:!0,num:p.length};return p.push(o),g}else if(i(o)){for(var d=new Array(o.length),c=0;c<o.length;c++)d[c]=b(o[c],p);return d}else if(typeof o=="object"&&!(o instanceof Date)){var d={};for(var E in o)d[E]=b(o[E],p);return d}return o}r.reconstructPacket=function(o,p){return o.data=y(o.data,p),o.attachments=void 0,o};function y(o,p){if(!o)return o;if(o&&o._placeholder)return p[o.num];if(i(o))for(var g=0;g<o.length;g++)o[g]=y(o[g],p);else if(typeof o=="object")for(var d in o)o[d]=y(o[d],p);return o}r.removeBlobs=function(o,p){function g(E,x,I){if(!E)return E;if(m&&E instanceof Blob||w&&E instanceof File){d++;var T=new FileReader;T.onload=function(){I?I[x]=this.result:c=this.result,--d||p(c)},T.readAsArrayBuffer(E)}else if(i(E))for(var C=0;C<E.length;C++)g(E[C],C,E);else if(typeof E=="object"&&!a(E))for(var B in E)g(E[B],B,E)}var d=0,c=o;g(c),d||p(c)}},"./node_modules/socket.io-parser/index.js":function(n,r,s){var i=s("./node_modules/debug/src/browser.js")("socket.io-parser"),a=s("./node_modules/component-emitter/index.js"),f=s("./node_modules/socket.io-parser/binary.js"),m=s("./node_modules/isarray/index.js"),w=s("./node_modules/socket.io-parser/is-buffer.js");r.protocol=4,r.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],r.CONNECT=0,r.DISCONNECT=1,r.EVENT=2,r.ACK=3,r.ERROR=4,r.BINARY_EVENT=5,r.BINARY_ACK=6,r.Encoder=b,r.Decoder=d;function b(){}var y=r.ERROR+'"encode error"';b.prototype.encode=function(T,C){if(i("encoding packet %j",T),r.BINARY_EVENT===T.type||r.BINARY_ACK===T.type)g(T,C);else{var B=o(T);C([B])}};function o(T){var C=""+T.type;if((r.BINARY_EVENT===T.type||r.BINARY_ACK===T.type)&&(C+=T.attachments+"-"),T.nsp&&T.nsp!=="/"&&(C+=T.nsp+","),T.id!=null&&(C+=T.id),T.data!=null){var B=p(T.data);if(B!==!1)C+=B;else return y}return i("encoded %j as %s",T,C),C}function p(T){try{return JSON.stringify(T)}catch{return!1}}function g(T,C){function B(O){var k=f.deconstructPacket(O),_=o(k.packet),R=k.buffers;R.unshift(_),C(R)}f.removeBlobs(T,B)}function d(){this.reconstructor=null}a(d.prototype),d.prototype.add=function(T){var C;if(typeof T=="string")C=c(T),r.BINARY_EVENT===C.type||r.BINARY_ACK===C.type?(this.reconstructor=new x(C),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",C)):this.emit("decoded",C);else if(w(T)||T.base64)if(this.reconstructor)C=this.reconstructor.takeBinaryData(T),C&&(this.reconstructor=null,this.emit("decoded",C));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+T)};function c(T){var C=0,B={type:Number(T.charAt(0))};if(r.types[B.type]==null)return I("unknown packet type "+B.type);if(r.BINARY_EVENT===B.type||r.BINARY_ACK===B.type){for(var O=C+1;T.charAt(++C)!=="-"&&C!=T.length;);var k=T.substring(O,C);if(k!=Number(k)||T.charAt(C)!=="-")throw new Error("Illegal attachments");B.attachments=Number(k)}if(T.charAt(C+1)==="/"){for(var O=C+1;++C;){var _=T.charAt(C);if(_===","||C===T.length)break}B.nsp=T.substring(O,C)}else B.nsp="/";var R=T.charAt(C+1);if(R!==""&&Number(R)==R){for(var O=C+1;++C;){var _=T.charAt(C);if(_==null||Number(_)!=_){--C;break}if(C===T.length)break}B.id=Number(T.substring(O,C+1))}if(T.charAt(++C)){var F=E(T.substr(C)),M=F!==!1&&(B.type===r.ERROR||m(F));if(M)B.data=F;else return I("invalid payload")}return i("decoded %s as %j",T,B),B}function E(T){try{return JSON.parse(T)}catch{return!1}}d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function x(T){this.reconPack=T,this.buffers=[]}x.prototype.takeBinaryData=function(T){if(this.buffers.push(T),this.buffers.length===this.reconPack.attachments){var C=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),C}return null},x.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function I(T){return{type:r.ERROR,data:"parser error: "+T}}},"./node_modules/socket.io-parser/is-buffer.js":function(n,r,s){(function(i){n.exports=w;var a=typeof i=="function"&&typeof i.isBuffer=="function",f=typeof ArrayBuffer=="function",m=function(b){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(b):b.buffer instanceof ArrayBuffer};function w(b){return a&&i.isBuffer(b)||f&&(b instanceof ArrayBuffer||m(b))}}).call(this,s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/split-on-first/index.js":function(n,r,s){n.exports=(i,a)=>{if(!(typeof i=="string"&&typeof a=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(a==="")return[i];const f=i.indexOf(a);return f===-1?[i]:[i.slice(0,f),i.slice(f+a.length)]}},"./node_modules/strict-uri-encode/index.js":function(n,r,s){n.exports=i=>encodeURIComponent(i).replace(/[!'()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`)},"./node_modules/to-array/index.js":function(n,r){n.exports=s;function s(i,a){var f=[];a=a||0;for(var m=a||0;m<i.length;m++)f[m-a]=i[m];return f}},"./node_modules/webpack/buildin/global.js":function(n,r){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}n.exports=s},"./node_modules/yeast/index.js":function(n,r,s){var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,f={},m=0,w=0,b;function y(g){var d="";do d=i[g%a]+d,g=Math.floor(g/a);while(g>0);return d}function o(g){var d=0;for(w=0;w<g.length;w++)d=d*a+f[g.charAt(w)];return d}function p(){var g=y(+new Date);return g!==b?(m=0,b=g):g+"."+y(m++)}for(;w<a;w++)f[i[w]]=w;p.encode=y,p.decode=o,n.exports=p},"./package.json":function(n){n.exports=JSON.parse('{"name":"skyway-js","version":"4.4.5","description":"The official JavaScript SDK for SkyWay","main":"dist/skyway.js","types":"skyway-js.d.ts","scripts":{"test":"karma start ./karma.conf.js","clean":"del ./dist","lint":"eslint .","build":"NODE_ENV=production webpack","dev":"webpack -w"},"repository":{"type":"git","url":"git+https://github.com/skyway/skyway-js-sdk"},"files":["dist/skyway.js","skyway-js.d.ts","LICENSE","CHANGELOG.md","README.md"],"author":"NTT Communications Corp.","license":"Apache-2.0","devDependencies":{"babel-loader":"7.1.5","babel-plugin-espower":"2.4.0","babel-plugin-istanbul":"4.1.6","babel-preset-es2015":"^6.24.1","del-cli":"^2.0.0","eslint":"^6.1.0","eslint-config-prettier":"^6.0.0","eslint-plugin-prettier":"^3.1.0","inject-loader":"^4.0.1","karma":"^4.2.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^1.1.2","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^4.0.2","mocha":"^6.2.0","power-assert":"^1.6.1","prettier":"^1.18.2","sinon":"^7.3.2","webpack":"^4.38.0","webpack-cli":"^3.3.6"},"dependencies":{"@jitsi/sdp-interop":"^0.1.13","@types/node":"^12.6.8","detect-browser":"^4.6.0","enum":"^3.0.4","events":"^3.0.0","js-binarypack":"0.0.9","object-sizeof":"^1.4.0","query-string":"^6.8.2","sdp-transform":"^2.11.0","socket.io-client":"^2.2.0","socket.io-parser":"~3.3.0"}}')},"./src/peer.js":function(n,r,s){s.r(r);var i=s("./node_modules/events/events.js"),a=s.n(i),f=s("./node_modules/enum/lib/enum.js"),m=s("./node_modules/socket.io-client/lib/index.js"),w=s.n(m),b=s("./node_modules/query-string/index.js"),y=s.n(b);const o="dispatcher.webrtc.ecl.ntt.com",p=443,g=!0,d=1e4,c="turn.webrtc.ecl.ntt.com",E=443,x={CLIENT:new f.default(["SEND_OFFER","SEND_ANSWER","SEND_CANDIDATE","SEND_LEAVE","ROOM_JOIN","ROOM_LEAVE","ROOM_GET_LOGS","ROOM_GET_USERS","ROOM_SEND_DATA","SFU_GET_OFFER","SFU_ANSWER","SFU_CANDIDATE","PING","UPDATE_CREDENTIAL","SEND_FORCE_CLOSE"]),SERVER:new f.default(["OPEN","ERROR","OFFER","ANSWER","CANDIDATE","LEAVE","AUTH_EXPIRES_IN","ROOM_LOGS","ROOM_USERS","ROOM_DATA","ROOM_USER_JOIN","ROOM_USER_LEAVE","SFU_OFFER","FORCE_CLOSE"])},I=16300,T=20*1024*1024;var M={DISPATCHER_HOST:o,DISPATCHER_PORT:p,DISPATCHER_SECURE:g,DISPATCHER_TIMEOUT:d,TURN_HOST:c,TURN_PORT:E,MESSAGE_TYPES:x,maxChunkSize:I,maxDataSize:T,minBroadcastIntervalMs:100,maxNumberOfAttempts:10,reconnectionAttempts:2,numberServersToTry:3,sendInterval:1,pingInterval:25e3,defaultConfig:{iceServers:[{urls:"stun:stun.webrtc.ecl.ntt.com:3478",url:"stun:stun.webrtc.ecl.ntt.com:3478"}],iceTransportPolicy:"all"}};const W="SkyWay: ",J=new f.default({NONE:0,ERROR:1,WARN:2,FULL:3});class X{constructor(){this._logLevel=J.NONE.value,this.LOG_LEVELS=J}setLogLevel(h){switch(h.value&&(h=h.value),parseInt(h,10)){case 0:this._logLevel=J.NONE.value;break;case 1:this._logLevel=J.ERROR.value;break;case 2:this._logLevel=J.WARN.value;break;case 3:this._logLevel=J.FULL.value;break;default:this._logLevel=J.NONE.value;break}}warn(...h){this._logLevel>=J.WARN.value&&console.warn(W,...h)}error(...h){this._logLevel>=J.ERROR.value&&console.error(W,...h)}log(...h){this._logLevel>=J.FULL.value&&console.log(W,...h)}}var V=new X,oe=s("./node_modules/detect-browser/index.js");function Z(ke){return!ke||/^[A-Za-z0-9_-]+(?:[ _-][A-Za-z0-9]+)*$/.exec(ke)}function re(ke){return!ke||/^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$/.exec(ke)}function Ee(){return(Math.random().toString(36)+"0000000000000000000").substr(2,16)}function we(){return Math.random().toString(36).substr(2)}function nt(ke){const h=ke.reduce(($,te)=>$+te.byteLength,0),v=new Uint8Array(h);let D=0;for(const $ of ke)v.set(new Uint8Array($),D),D+=$.byteLength;return v.buffer}function We(ke,h){const v=new FileReader;v.onload=D=>{h(D.target.result)},v.readAsArrayBuffer(ke)}function jt(){return location.protocol==="https:"}function Kt(){const{name:ke,version:h}=Object(oe.detect)(),[v,D,$]=h.split(".").map(te=>parseInt(te));return{name:ke,major:v,minor:D,patch:$}}function Se(){const{name:ke}=Object(oe.detect)();return!(!(ke==="safari"||ke==="ios")||RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))}var he={validateId:Z,validateKey:re,randomId:Ee,randomToken:we,joinArrayBuffers:nt,blobToArrayBuffer:We,isSecure:jt,detectBrowser:Kt,isPlanBSafari:Se},Ge=s("./package.json");class dt extends a.a{constructor(h,v){if(super(),this._isOpen=!1,this._isPeerIdSet=!1,this._queue=[],this._io=null,this._key=h,this._reconnectAttempts=0,v.host&&v.port){const D=v.secure?"https://":"http://";this.signalingServerUrl=`${D}${v.host}:${v.port}`}else{const D=v.dispatcherHost||M.DISPATCHER_HOST,$=v.dispatcherPort||M.DISPATCHER_PORT,ve=v.dispatcherSecure||M.DISPATCHER_SECURE?"https://":"http://";this._dispatcherUrl=`${ve}${D}:${$}/signaling`}}get isOpen(){return Boolean(this._io&&this._io.connected&&this._isOpen)}async start(h,v,D){let $=`apiKey=${this._key}&token=${v}&platform=javascript&sdk_version=${Ge.version}`;if(h&&($+=`&peerId=${h}`,this._isPeerIdSet=!0),D&&($+=`&credential=${encodeURIComponent(JSON.stringify(D))}`),this._dispatcherUrl)try{this.signalingServerUrl=await this._fetchSignalingServerUrlWithRetry()}catch(Be){this.emit("error",Be);return}const te=he.detectBrowser(),xe=(te.name==="ios"||te.name==="safari")&&te.major>=15?["polling"]:["polling","websocket"];this._io=w()(this.signalingServerUrl,{"force new connection":!0,query:$,reconnectionAttempts:M.reconnectionAttempts,transports:xe}),this._io.on("reconnect_failed",()=>{this._stopPings(),this._connectToNewServer()}),this._io.on("error",Be=>{V.error(Be)}),this._setupMessageHandlers()}async _connectToNewServer(){if(this._reconnectAttempts>=M.numberServersToTry){this.emit("error","Could not connect to server.");return}try{this.signalingServerUrl=await this._fetchSignalingServerUrlWithRetry()}catch(h){this.emit("error",h);return}this._io.io.uri=this.signalingServerUrl,this._io.connect(),this._reconnectAttempts++}async _fetchSignalingServerUrlWithRetry(){for(let h=0;h<M.maxNumberOfAttempts;h++){const v=await this._fetchSignalingServer().catch(D=>{V.warn(D)});if(v&&v.port&&v.host&&(!this.signalingServerUrl||this.signalingServerUrl.indexOf(v.host)===-1))return`${v.secure?"https://":"http://"}${v.host}:${v.port}`}throw new Error("Could not get signaling server url.")}_fetchSignalingServer(){return new Promise((h,v)=>{const D=new XMLHttpRequest;D.timeout=M.DISPATCHER_TIMEOUT,D.open("GET",this._dispatcherUrl,!0),D.onerror=()=>{v(new Error("There was a problem with the request for the dispatcher. Check your peer options and network connections."))},D.onabort=()=>{v(new Error("The request for the dispatcher was aborted."))},D.ontimeout=()=>{v(new Error("The request for the dispatcher timed out. Check your firewall, network speed, SkyWay failure information"))},D.onload=()=>{if(D.status!==200){v(new Error("Connection failed. Unexpected response: "+D.status));return}try{const $=JSON.parse(D.responseText);if($&&$.domain){h({host:$.domain,port:443,secure:!0});return}v(new Error("The dispatcher server returned an invalid JSON response. have no signaling server domain in JSON."))}catch{v(new Error("The dispatcher server returned an invalid JSON response."))}},D.send(null)})}send(h,v){if(!h){this._io.emit("error","Invalid message");return}if(!this.isOpen){this._queue.push({type:h,message:v});return}this._io.connected===!0&&this._io.emit(h,v)}close(){this.isOpen&&(this._stopPings(),this._io.disconnect(),this._isOpen=!1)}reconnect(){this._io.connect()}updateCredential(h){const v=y.a.parse(this._io.io.opts.query);v.credential?v.credential=encodeURIComponent(JSON.stringify(h)):V.warn("Adding a credential when one wasn't specified before."),this._io.io.opts.query=y.a.stringify(v),this.send(M.MESSAGE_TYPES.CLIENT.UPDATE_CREDENTIAL.key,h)}_setupMessageHandlers(){M.MESSAGE_TYPES.SERVER.enums.forEach(h=>{h.key===M.MESSAGE_TYPES.SERVER.OPEN.key?this._io.on(h.key,v=>{!v||!v.peerId||(this._isPeerIdSet||(this._io.io.opts.query+=`&peerId=${v.peerId}`,this._isPeerIdSet=!0),this._reconnectAttempts=0,this._startPings(),this._sendQueuedMessages(),this._isOpen||(this._isOpen=!0,this.emit(h.key,v)))}):this._io.on(h.key,v=>{this.emit(h.key,v)})})}_sendQueuedMessages(){for(const h of this._queue)this.send(h.type,h.message);this._queue=[]}_startPings(){this._pingIntervalId||(this._pingIntervalId=setInterval(()=>{this.send(M.MESSAGE_TYPES.CLIENT.PING.key)},M.pingInterval))}_stopPings(){clearInterval(this._pingIntervalId),this._pingIntervalId=void 0}}var qe=dt,vt=s("./node_modules/sdp-transform/lib/index.js"),Qe=s.n(vt),N=s("./node_modules/@jitsi/sdp-interop/lib/index.js");class j{unifiedToPlanB(h){const D=new N.Interop().toPlanB(h).sdp,$=new Set,te=/a=ssrc:\d+ msid:(\w+)/g;let ve;for(;ve=te.exec(D);)$.add(ve[1]);const xe=D.replace("a=msid-semantic:WMS *",`a=msid-semantic:WMS ${Array.from($).join(" ")}`);return new RTCSessionDescription({type:"offer",sdp:xe})}addVideoBandwidth(h,v){return this._validateBandwidth(v),this._addBandwidth(h,v,"video")}addAudioBandwidth(h,v){return this._validateBandwidth(v),this._addBandwidth(h,v,"audio")}filterVideoCodec(h,v){return this._filterCodec(h,v,"video")}filterAudioCodec(h,v){return this._filterCodec(h,v,"audio")}ensureUnifiedPlan(h){const v=`\r
`;return h.split(v).map(D=>D.startsWith("a=msid-semantic")?"a=msid-semantic:WMS *":D).join(v)}_filterCodec(h,v,D){if(v===void 0)throw new Error("codec is not passed");const $=Qe.a.parse(h);return $.media=$.media.map(te=>{if(te.type===D){te.rtp=te.rtp.filter(xe=>xe.codec===v);const ve=te.rtp.reduce((xe,Be)=>[...xe,Be.payload],[]);if(te.rtp.length===0)throw new Error(`${v} does not exist`);te.fmtp&&(te.fmtp=te.fmtp.filter(xe=>ve.includes(xe.payload))),te.rtcpFb&&(te.rtcpFb=te.rtcpFb.filter(xe=>ve.includes(xe.payload))),te.payloads=ve.join(" ")}return te}),Qe.a.write($)}_addBandwidth(h,v,D){const $=Qe.a.parse(h);return $.media=$.media.map(te=>(te.type===D&&(te.bandwidth=[{type:"AS",limit:v.toString()},{type:"TIAS",limit:(v*1e3).toString()}]),te)),Qe.a.write($)}_validateBandwidth(h){if(h===void 0)throw new Error("bandwidth is not passed");if(!/^\d+$/.test(h))throw new Error(`${h} is not a number`)}}var L=new j;const Y=new f.default(["addStream","dcCreated","offerCreated","answerCreated","iceCandidate","iceConnectionFailed","negotiationNeeded","error"]);class H extends a.a{constructor(){super(),this._offerQueue=[],this._isExpectingAnswer=!1,this._isNegotiationAllowed=!0,this._isExecutingHandleOffer=!1,this.hasRemoteDescription=!1}async startConnection(h={}){if(this._pc=this._createPeerConnection(h.pcConfig),this._setupPCListeners(),this.originator=h.originator,this._audioBandwidth=h.audioBandwidth,this._videoBandwidth=h.videoBandwidth,this._audioCodec=h.audioCodec,this._videoCodec=h.videoCodec,this._type=h.type,this._type==="media")if(h.stream){const v=h.stream.getVideoTracks(),D=h.stream.getAudioTracks(),$=this._getReceiveOnlyState(h);v.length>0?v.forEach(te=>this._pc.addTrack(te,h.stream)):$.video&&this._pc.addTransceiver("video",{direction:"recvonly"}),D.length>0?D.forEach(te=>this._pc.addTrack(te,h.stream)):$.audio&&this._pc.addTransceiver("audio",{direction:"recvonly"})}else this.originator&&(this._pc.addTransceiver("audio",{direction:"recvonly"}),this._pc.addTransceiver("video",{direction:"recvonly"}));if(this.originator){if(this._type==="data"){const v=h.label||"",D=h.dcInit||{},$=this._pc.createDataChannel(v,D);this.emit(H.EVENTS.dcCreated.key,$)}}else await this.handleOffer(h.offer)}replaceStream(h){if(!this._pc)return;this._isNegotiationAllowed=!0;const v=this,D=h.getVideoTracks(),$=h.getAudioTracks(),te=this._pc.getSenders(),ve=te.find(Ne=>Ne.track&&Ne.track.kind==="video"),xe=te.find(Ne=>Ne.track&&Ne.track.kind==="audio");Be(ve,D[0],h),Be(xe,$[0],h);function Be(Ne,rt,er){if(!(rt===void 0&&Ne===void 0)){if(rt===void 0){v._pc.removeTrack(Ne);return}if(Ne===void 0){v._pc.addTrack(rt,er);return}Ne.track.id!==rt.id&&Ne.replaceTrack(rt)}}}async handleOffer(h){if(this._lastOffer&&h&&this._lastOffer.sdp===h.sdp)return;if(this._isNegotiationAllowed=!0,this._pc.signalingState==="have-remote-offer"||this._isExecutingHandleOffer){this._offerQueue.push(h);return}this._lastOffer=h,this._isExecutingHandleOffer=!0;let v;try{await this._setRemoteDescription(h),v=await this._makeAnswerSdp().catch(D=>V.error(D))}finally{this._isExecutingHandleOffer=!1}if(this._pc.signalingState==="stable"){const D=this._offerQueue.shift();D&&this.handleOffer(D)}this.emit(H.EVENTS.answerCreated.key,v)}async handleAnswer(h){this._isNegotiationAllowed=!0,this._isExpectingAnswer?(await this._setRemoteDescription(h),this._isExpectingAnswer=!1):this._pc.onnegotiationneeded&&this._pc.onnegotiationneeded()}async handleCandidate(h){!this._pc||await this._pc.addIceCandidate(new RTCIceCandidate(h)).then(()=>V.log("Successfully added ICE candidate")).catch(v=>V.error("Failed to add ICE candidate",v))}cleanup(){V.log("Cleaning up PeerConnection"),this._pc&&(this._pc.readyState!=="closed"||this._pc.signalingState!=="closed")&&this._pc.close(),this._pc=null}_createPeerConnection(h={}){return V.log("Creating RTCPeerConnection"),h.sdpSemantics="unified-plan",new RTCPeerConnection(h)}_setupPCListeners(){const h=this._pc;h.ontrack=v=>{V.log("Received remote media stream track"),v.streams.forEach(D=>{this.emit(H.EVENTS.addStream.key,D)})},h.ondatachannel=v=>{V.log("Received data channel");const D=v.channel;this.emit(H.EVENTS.dcCreated.key,D)},h.onicecandidate=v=>{if(!v.candidate||v.candidate.candidate===""){V.log("ICE candidates gathering complete");return}V.log("Generated ICE candidate for:",v.candidate),this.emit(H.EVENTS.iceCandidate.key,v.candidate)},h.oniceconnectionstatechange=()=>{switch(h.iceConnectionState){case"completed":V.log("iceConnectionState is completed"),h.onicecandidate=()=>{};break;case"disconnected":V.log("iceConnectionState is disconnected, trying reconnect by browser");break;case"failed":V.log("iceConnectionState is failed, closing connection"),this.emit(H.EVENTS.iceConnectionFailed.key);break;default:V.log(`iceConnectionState is ${h.iceConnectionState}`);break}},h.onconnectionstatechange=()=>{V.log(`connectionState is ${h.connectionState}`),h.connectionState==="failed"&&h.iceConnectionState==="disconnected"&&(V.log("connectionState is failed, closing connection"),this.emit(H.EVENTS.iceConnectionFailed.key))},h.onnegotiationneeded=async()=>{if(V.log("`negotiationneeded` triggered"),h.signalingState==="stable"&&this._isNegotiationAllowed&&(this._isNegotiationAllowed=!1,this.originator)){const v=await this._makeOfferSdp();this._setLocalDescription(v),this.emit(H.EVENTS.negotiationNeeded.key)}},h.onsignalingstatechange=()=>{if(V.log(`signalingState is ${h.signalingState}`),h.signalingState==="stable"&&!this._isExecutingHandleOffer){const v=this._offerQueue.shift();v&&this.handleOffer(v)}}}async _makeOfferSdp(){let h;try{h=await this._pc.createOffer()}catch(v){throw v.type="webrtc",V.error(v),this.emit(H.EVENTS.error.key,v),V.log("Failed to createOffer, ",v),v}return V.log("Created offer."),this._audioBandwidth&&(h.sdp=L.addAudioBandwidth(h.sdp,this._audioBandwidth)),this._videoBandwidth&&(h.sdp=L.addVideoBandwidth(h.sdp,this._videoBandwidth)),this._audioCodec&&(h.sdp=L.filterAudioCodec(h.sdp,this._audioCodec)),this._videoCodec&&(h.sdp=L.filterVideoCodec(h.sdp,this._videoCodec)),h}async _makeAnswerSdp(){let h;try{h=await this._pc.createAnswer()}catch(v){throw v.type="webrtc",V.error(v),this.emit(H.EVENTS.error.key,v),V.log("Failed to createAnswer, ",v),v}V.log("Created answer."),this._audioBandwidth&&(h.sdp=L.addAudioBandwidth(h.sdp,this._audioBandwidth)),this._videoBandwidth&&(h.sdp=L.addVideoBandwidth(h.sdp,this._videoBandwidth)),this._audioCodec&&(h.sdp=L.filterAudioCodec(h.sdp,this._audioCodec)),this._videoCodec&&(h.sdp=L.filterVideoCodec(h.sdp,this._videoCodec));try{await this._pc.setLocalDescription(h)}catch(v){throw v.type="webrtc",V.error(v),this.emit(H.EVENTS.error.key,v),V.log("Failed to setLocalDescription, ",v),v}return V.log("Set localDescription: answer"),V.log(`Setting local description ${JSON.stringify(h.sdp)}`),h}async _setLocalDescription(h){V.log(`Setting local description ${JSON.stringify(h.sdp)}`);try{await this._pc.setLocalDescription(h)}catch(v){throw v.type="webrtc",V.error(v),this.emit(H.EVENTS.error.key,v),V.log("Failed to setLocalDescription, ",v),v}V.log("Set localDescription: offer"),this._isExpectingAnswer=!0,this.emit(H.EVENTS.offerCreated.key,h)}async _setRemoteDescription(h){V.log(`Setting remote description ${JSON.stringify(h)}`);try{await this._pc.setRemoteDescription(new RTCSessionDescription(h)),this.hasRemoteDescription=!0}catch(v){throw v.type="webrtc",V.error(v),this.emit(H.EVENTS.error.key,v),V.log("Failed to setRemoteDescription: ",v),v}V.log("Set remoteDescription:",h.type)}_getReceiveOnlyState(h={}){const v={audio:!1,video:!1},D=h.stream instanceof MediaStream,$=D?h.stream.getAudioTracks().length!==0:!1,te=D?h.stream.getVideoTracks().length!==0:!1;return D===!1&&h.audioReceiveEnabled===void 0&&h.videoReceiveEnabled===void 0?(v.audio=!0,v.video=!0,v):(h.audioReceiveEnabled&&$===!1&&(v.audio=!0),h.videoReceiveEnabled&&te===!1&&(v.video=!0),h.audioReceiveEnabled===!1&&$&&V.warn("Option audioReceiveEnabled will be treated as true, because passed stream has MediaStreamTrack(kind = audio)"),h.videoReceiveEnabled===!1&&te&&V.warn("Option videoReceiveEnabled will be treated as true, because passed stream has MediaStreamTrack(kind = video)"),v)}static get EVENTS(){return Y}}var G=H;const ne=new f.default(["candidate","offer","answer","close","forceClose"]);class Q extends a.a{constructor(h,v){if(super(),v=v||{},this.constructor===Q)throw new TypeError("Cannot construct Connection instances directly");this._options=v,this.open=!1,this.type=void 0,this.metadata=this._options.metadata,this.remoteId=h,this._negotiator=new G,this._idPrefix="c_",this._randomIdSuffix=he.randomToken(),this._setupNegotiatorMessageHandlers()}get id(){return this._options.connectionId||this._idPrefix+this._randomIdSuffix}async handleAnswer(h){this._pcAvailable?(await this._negotiator.handleAnswer(h.answer),this.open=!0,this._handleQueuedMessages()):(V.log(`Queuing ANSWER message in ${this.id} from ${this.remoteId}`),this._queuedMessages.push({type:M.MESSAGE_TYPES.SERVER.ANSWER.key,payload:h}))}handleCandidate(h){if(this._negotiator.originator&&!this._negotiator.hasRemoteDescription){this._queuedMessages.push({type:M.MESSAGE_TYPES.SERVER.CANDIDATE.key,payload:h});return}this._pcAvailable?this._negotiator.handleCandidate(h.candidate):(V.log(`Queuing CANDIDATE message in ${this.id} from ${this.remoteId}`),this._queuedMessages.push({type:M.MESSAGE_TYPES.SERVER.CANDIDATE.key,payload:h}))}updateOffer(h){this.open?this._negotiator.handleOffer(h.offer):this._options.payload=h}getPeerConnection(){return this.open?this._negotiator._pc:null}_handleQueuedMessages(){for(const h of this._queuedMessages)switch(h.type){case M.MESSAGE_TYPES.SERVER.ANSWER.key:this.handleAnswer(h.payload);break;case M.MESSAGE_TYPES.SERVER.CANDIDATE.key:this.handleCandidate(h.payload);break;default:V.warn("Unrecognized message type:",h.type,"from peer:",this.remoteId);break}this._queuedMessages=[]}close(h=void 0){!this.open||(this.open=!1,this._negotiator.cleanup(),this.emit(Q.EVENTS.close.key),h?this.emit(Q.EVENTS.forceClose.key):h===void 0&&V.warn("Default value of the forceClose parameter will change false to true from future versions."))}_setupNegotiatorMessageHandlers(){this._negotiator.on(G.EVENTS.answerCreated.key,h=>{const v={answer:h,dst:this.remoteId,connectionId:this.id,connectionType:this.type};this.emit(Q.EVENTS.answer.key,v)}),this._negotiator.on(G.EVENTS.offerCreated.key,h=>{const v={offer:h,dst:this.remoteId,connectionId:this.id,connectionType:this.type,metadata:this.metadata};this.serialization&&(v.serialization=this.serialization),this.label&&(v.label=this.label),this.dcInit&&(v.dcInit=this.dcInit),this.emit(Q.EVENTS.offer.key,v)}),this._negotiator.on(G.EVENTS.iceCandidate.key,h=>{const v={candidate:h,dst:this.remoteId,connectionId:this.id,connectionType:this.type};this.emit(Q.EVENTS.candidate.key,v)}),this._negotiator.on(G.EVENTS.iceConnectionFailed.key,()=>{this.close(!1)})}get peer(){return V.warn(`${this.constructor.name}.peer is deprecated and may be removed from a future version. Please use ${this.constructor.name}.remoteId instead.`),this.remoteId}static get EVENTS(){return ne}}var K=Q,q=s("./node_modules/js-binarypack/lib/binarypack.js"),S=s.n(q),l=s("./node_modules/object-sizeof/index.js"),u=s.n(l);const A=new f.default(["open","data","error"]);A.extend(K.EVENTS.enums);const P=new f.default(["binary","binary-utf8","json","none"]);class U extends K{constructor(h,v){if(super(h,v),this._idPrefix="dc_",this.type="data",this._isOnOpenCalled=!1,this.label=this._options.label||this.id,this.dcInit=this._options.dcInit||{},this.serialization=U.SERIALIZATIONS.binary.key,this._options.serialization){if(!U.SERIALIZATIONS.get(this._options.serialization))throw new Error("Invalid serialization");this.serialization=this._options.serialization,this._isUnreliableDCInit(this.dcInit)&&(V.warn("You can not specify serialization with unreliable mode enabled."),this.serialization=U.SERIALIZATIONS.binary.key)}this._sendBuffer=[],this._receivedData={},this._queuedMessages=this._options.queuedMessages||[],this._negotiator.on(G.EVENTS.dcCreated.key,D=>{this._dc=D,this._dc.binaryType="arraybuffer",this._setupMessageHandlers(),!this._isOnOpenCalled&&this._dc.readyState==="open"&&this._dc.onopen()}),this._options.payload&&(this._options.payload.pcConfig=this._options.pcConfig)}async startConnection(){await this._negotiator.startConnection(this._options.payload||{originator:!0,type:"data",label:this.label,dcInit:this.dcInit,pcConfig:this._options.pcConfig}),this._pcAvailable=!0,this._handleQueuedMessages()}_setupMessageHandlers(){this._dc.onopen=()=>{this._isOnOpenCalled||(V.log("Data channel connection success"),this.open=!0,this._isOnOpenCalled=!0,this.emit(U.EVENTS.open.key))},this._dc.onmessage=h=>{this._handleDataMessage(h)},this._dc.onclose=()=>{V.log("DataChannel closed for:",this.id),this.close(!1)},this._dc.onerror=h=>{V.error(h)}}_handleDataMessage(h){if(this.serialization===U.SERIALIZATIONS.none.key){this.emit(U.EVENTS.data.key,h.data);return}else if(this.serialization===U.SERIALIZATIONS.json.key){this.emit(U.EVENTS.data.key,JSON.parse(h.data));return}const v=S.a.unpack(h.data);let D=this._receivedData[v.id];if(D||(D=this._receivedData[v.id]={size:v.size,type:v.type,name:v.name,mimeType:v.mimeType,totalParts:v.totalParts,parts:new Array(v.totalParts),receivedParts:0}),D.receivedParts++,D.parts[v.index]=v.data,D.receivedParts===D.totalParts){delete this._receivedData[v.id];const $=he.joinArrayBuffers(D.parts),te=S.a.unpack($);let ve;switch(D.type){case"Blob":ve=new Blob([new Uint8Array(te)],{type:D.mimeType});break;case"File":ve=new File([new Uint8Array(te)],D.name,{type:D.mimeType});break;default:ve=te}this.emit(U.EVENTS.data.key,ve)}}send(h){if(!this.open){this.emit(U.EVENTS.error.key,new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(h==null)return;if(this.serialization===U.SERIALIZATIONS.none.key){this._sendBuffer.push(h),this._startSendLoop();return}else if(this.serialization===U.SERIALIZATIONS.json.key){this._sendBuffer.push(JSON.stringify(h)),this._startSendLoop();return}const v=S.a.pack(h),D=v.size,$=h.constructor.name,te={id:he.randomId(),type:$,size:D,totalParts:0};$==="File"&&(te.name=h.name),h instanceof Blob&&(te.mimeType=h.type);const ve=M.maxChunkSize-u()(te),xe=Math.ceil(D/ve);te.totalParts=xe;for(let Be=0;Be<xe;Be++){const Ne=v.slice(Be*ve,(Be+1)*ve);te.index=Be,te.data=Ne,he.blobToArrayBuffer(S.a.pack(te),rt=>{this._sendBuffer.push(rt),this._startSendLoop()})}}close(h){const v=D=>{super.close(D),this._isOnOpenCalled=!1};if(!this._dc){v(h);return}this._dc.onclose=()=>{V.log("DataChannel closed for:",this.id),v(h)},this._dc.readyState!=="closing"&&(this._dc.readyState==="closed"?v(h):this._dc.close())}_startSendLoop(){this.sendInterval||(this.sendInterval=setInterval(()=>{const h=this._sendBuffer.shift();try{this._dc.send(h)}catch{this._sendBuffer.push(h)}this._sendBuffer.length===0&&(clearInterval(this.sendInterval),this.sendInterval=void 0)},M.sendInterval))}_isUnreliableDCInit(h){return h?"maxRetransmits"in h||"maxPacketLifeTime"in h:!1}static get SERIALIZATIONS(){return P}static get EVENTS(){return A}}var z=U;const ie=new f.default(["stream"]);ie.extend(K.EVENTS.enums);class ue extends K{constructor(h,v){super(h,v),this._idPrefix="mc_",this.type="media",this.localStream=this._options.stream,this._queuedMessages=this._options.queuedMessages||[],this._pcAvailable=!1}async startConnection(){!this._options.originator||(await this._negotiator.startConnection({type:"media",stream:this.localStream,originator:this._options.originator,pcConfig:this._options.pcConfig,videoBandwidth:this._options.videoBandwidth,audioBandwidth:this._options.audioBandwidth,videoCodec:this._options.videoCodec,audioCodec:this._options.audioCodec,videoReceiveEnabled:this._options.videoReceiveEnabled,audioReceiveEnabled:this._options.audioReceiveEnabled}),this._pcAvailable=!0,this._handleQueuedMessages())}answer(h,v={}){if(this.localStream){V.warn("localStream already exists on this MediaConnection. Are you answering a call twice?");return}this._options.payload.stream=h,this.localStream=h,this._negotiator.startConnection({type:"media",stream:this.localStream,originator:!1,offer:this._options.payload.offer,pcConfig:this._options.pcConfig,audioBandwidth:v.audioBandwidth,videoBandwidth:v.videoBandwidth,videoCodec:v.videoCodec,audioCodec:v.audioCodec}),this._pcAvailable=!0,this._handleQueuedMessages(),this.open=!0}replaceStream(h){this._negotiator.replaceStream(h),this.localStream=h}_setupNegotiatorMessageHandlers(){super._setupNegotiatorMessageHandlers(),this._negotiator.on(G.EVENTS.addStream.key,h=>{V.log("Receiving stream",h),!(this.remoteStream&&this.remoteStream.id===h.id)&&(this.remoteStream=h,this.emit(ue.EVENTS.stream.key,h))})}static get EVENTS(){return ie}}var de=ue,Ce=s("./node_modules/socket.io-parser/index.js"),ge=s.n(Ce),ht=s("./node_modules/has-binary2/index.js"),Te=s.n(ht);const Fe=["stream","open","close","peerJoin","peerLeave","error","data","log"],un=["offer","answer","candidate","leave","close","getLog","broadcast"],to=new f.default(Fe),no=new f.default(un);class Vt extends a.a{constructor(h,v,D={}){if(super(),this.constructor===Vt)throw new TypeError("Cannot construct Room instances directly");this.name=h,this._options=D,this._peerId=v,this._localStream=this._options.stream,this._pcConfig=this._options.pcConfig,this.lastSent=0,this.messageQueue=[],this.sendIntervalID=null}validateSendDataSize(h){const v=Te()([h]),D={type:v?ge.a.BINARY_EVENT:ge.a.EVENT,data:[h]},$=new ge.a.Encoder;let te;$.encode(D,xe=>{te=v?xe[1].byteLength:xe[0].length});const ve=M.maxDataSize;if(te>ve)throw new Error("The size of data to send must be less than 20 MB");return!0}_sendData(h,v){const D=M.minBroadcastIntervalMs,$=Date.now(),te=$-this.lastsend;if(this.messageQueue.length==0&&te>=D){this.lastsend=$,this.emit(v,h);return}this.messageQueue.push({msg:h,key:v}),this.sendIntervalID===null&&(this.sendIntervalID=setInterval(()=>{if(this.messageQueue.length===0){clearInterval(this.sendIntervalID),this.sendIntervalID=null;return}const ve=this.messageQueue.shift();this.lastsend=Date.now(),this.emit(ve.key,ve.msg)},D))}handleData(h){const v={data:h.data,src:h.src};this.emit(Vt.EVENTS.data.key,v)}handleLog(h){this.emit(Vt.EVENTS.log.key,h)}getLog(){const h={roomName:this.name};this.emit(Vt.MESSAGE_EVENTS.getLog.key,h)}static get EVENTS(){return to}static get MESSAGE_EVENTS(){return no}}var Ut=Vt;const ro=["offerRequest","candidate"],ei=new f.default([]);ei.extend(Ut.EVENTS.enums);const ti=new f.default(ro);ti.extend(Ut.MESSAGE_EVENTS.enums);class je extends Ut{constructor(h,v,D){super(h,v,D),this.remoteStreams={},this.members=[],this._open=!1,this._msidMap={},this._unknownStreams={},this._negotiator=new G}call(h){h&&(this._localStream=h);const v={roomName:this.name};this.emit(je.MESSAGE_EVENTS.offerRequest.key,v)}handleOffer(h){let v=h.offer;he.isPlanBSafari()&&(v=L.unifiedToPlanB(v)),this._connectionStarted?this._negotiator.handleOffer(v):(this._negotiator.startConnection({type:"media",stream:this._localStream,pcConfig:this._options.pcConfig,offer:v}),this._setupNegotiatorMessageHandlers(),this._connectionStarted=!0)}_setupNegotiatorMessageHandlers(){this._negotiator.on(G.EVENTS.addStream.key,h=>{const v=h;if(this._msidMap[v.id]){if(v.peerId=this._msidMap[v.id],v.peerId===this._peerId)return;const D=this.remoteStreams[v.id];if(D&&D.id===v.id)return;this.remoteStreams[v.id]=v,this.emit(je.EVENTS.stream.key,v),V.log(`Received remote media stream for ${v.peerId} in ${this.name}`)}else this._unknownStreams[v.id]=v}),this._negotiator.on(G.EVENTS.negotiationNeeded.key,()=>{const h={roomName:this.name};this.emit(je.MESSAGE_EVENTS.offerRequest.key,h)}),this._negotiator.on(G.EVENTS.answerCreated.key,h=>{he.isPlanBSafari()||(h.sdp=L.ensureUnifiedPlan(h.sdp));const v={roomName:this.name,answer:h};this.emit(je.MESSAGE_EVENTS.answer.key,v)}),this._negotiator.on(G.EVENTS.iceConnectionFailed.key,()=>{this.close()}),this._negotiator.on(G.EVENTS.iceCandidate.key,h=>{const v={roomName:this.name,candidate:h};this.emit(je.MESSAGE_EVENTS.candidate.key,v)})}handleJoin(h){const{src:v,roomMembers:D}=h;if(v===this._peerId){this._open=!0,this.members=D.filter($=>$!==v),this.call(this._localStream),this.emit(je.EVENTS.open.key);return}this.members.push(v),this.emit(je.EVENTS.peerJoin.key,v)}handleLeave(h){if(!this._open)return;const v=h.src,D=this.members.indexOf(v);D>=0&&this.members.splice(D,1);for(const $ in this.remoteStreams)this.remoteStreams[$].peerId===v&&(delete this.remoteStreams[$],delete this._msidMap[$],delete this._unknownStreams[$]);this.emit(je.EVENTS.peerLeave.key,v)}send(h){if(!this._open||!this.validateSendDataSize(h))return;const v={roomName:this.name,data:h};this._sendData(v,je.MESSAGE_EVENTS.broadcast.key)}close(){if(!this._open)return;this._negotiator&&this._negotiator.cleanup(),this._open=!1;const h={roomName:this.name};this.emit(je.MESSAGE_EVENTS.leave.key,h),this.emit(je.EVENTS.close.key)}replaceStream(h){this._localStream=h,this._negotiator.replaceStream(h)}updateMsidMap(h={}){this._msidMap=h;for(const v of Object.keys(this._unknownStreams))if(this._msidMap[v]){const D=this._unknownStreams[v];if(D.peerId=this._msidMap[D.id],delete this._unknownStreams[v],D.peerId===this._peerId)return;this.remoteStreams[D.id]=D,this.emit(je.EVENTS.stream.key,D)}}getPeerConnection(){return this._connectionStarted?this._negotiator._pc:null}static get EVENTS(){return ei}static get MESSAGE_EVENTS(){return ti}}var Tt=je;const io=["broadcastByDC","getPeers"],ni=new f.default([]);ni.extend(Ut.EVENTS.enums);const ri=new f.default(io);ri.extend(Ut.MESSAGE_EVENTS.enums);class Ve extends Ut{constructor(h,v,D){super(h,v,D),this.connections={},this._queuedMessages={}}call(h){h&&(this._localStream=h);const v={roomName:this.name,type:"media"};this.emit(Ve.MESSAGE_EVENTS.getPeers.key,v)}connect(){const h={roomName:this.name,type:"data"};this.emit(Ve.MESSAGE_EVENTS.getPeers.key,h)}makeMediaConnections(h){const v={stream:this._localStream,pcConfig:this._pcConfig,originator:!0,videoBandwidth:this._options.videoBandwidth,audioBandwidth:this._options.audioBandwidth,videoCodec:this._options.videoCodec,audioCodec:this._options.audioCodec,videoReceiveEnabled:this._options.videoReceiveEnabled,audioReceiveEnabled:this._options.audioReceiveEnabled};this._makeConnections(h,"media",v)}makeDataConnections(h){const v={pcConfig:this._pcConfig};this._makeConnections(h,"data",v)}handleJoin(h){const v=h.src;if(v===this._peerId){this.call(this._localStream),this.emit(Ve.EVENTS.open.key);return}this.emit(Ve.EVENTS.peerJoin.key,v)}handleLeave(h){const v=h.src;this._deleteConnections(v),this.emit(Ve.EVENTS.peerLeave.key,v)}handleOffer(h){const v=h.connectionId;let D=this._getConnection(h.src,v);if(D){D.updateOffer(h);return}if(h.connectionType==="media"){if(this._hasConnection(h.src)&&this._peerId>h.src)return;D=new de(h.src,{connectionId:v,payload:h,metadata:h.metadata,queuedMessages:this._queuedMessages[v],pcConfig:this._pcConfig}),D.startConnection(),V.log("MediaConnection created in OFFER"),this._addConnection(h.src,D),this._setupMessageHandlers(D),D.answer(this._localStream,{videoBandwidth:this._options.videoBandwidth,audioBandwidth:this._options.audioBandwidth,videoCodec:this._options.videoCodec,audioCodec:this._options.audioCodec,videoReceiveEnabled:this._options.videoReceiveEnabled,audioReceiveEnabled:this._options.audioReceiveEnabled})}else V.warn(`Received malformed connection type: ${h.connectionType}`)}handleAnswer(h){const v=this._getConnection(h.src,h.connectionId);v&&v.handleAnswer(h)}handleCandidate(h){const v=this._getConnection(h.src,h.connectionId);v?v.handleCandidate(h):(this._queuedMessages[h.connectionId]===void 0&&(this._queuedMessages[h.connectionId]=[]),this._queuedMessages[h.connectionId].push({type:M.MESSAGE_TYPES.SERVER.CANDIDATE.key,payload:h}))}send(h){if(!this.validateSendDataSize(h))return;const v={roomName:this.name,data:h};this._sendData(v,Ve.MESSAGE_EVENTS.broadcast.key)}close(){for(const v in this.connections)this.connections.hasOwnProperty(v)&&this.connections[v].forEach(D=>{D.close(!1)});const h={roomName:this.name};this.emit(Ve.MESSAGE_EVENTS.leave.key,h),this.emit(Ve.EVENTS.close.key)}replaceStream(h){this._localStream=h;for(const v in this.connections)this.connections.hasOwnProperty(v)&&this.connections[v].forEach(D=>{D.type==="media"&&D.replaceStream(h)})}getPeerConnections(){const h={};for(const[v,[D]]of Object.entries(this.connections)){const $=D.getPeerConnection();$&&(h[v]=$)}return h}_addConnection(h,v){this.connections[h]||(this.connections[h]=[]),this.connections[h].push(v)}_makeConnections(h,v,D){h.filter($=>$!==this._peerId).filter($=>!this._hasConnection($)).forEach($=>{let te;switch(v){case"data":te=new z($,D);break;case"media":te=new de($,D);break;default:return}te.startConnection(),this._addConnection($,te),this._setupMessageHandlers(te),V.log(`${v} connection to ${$} created in ${this.name}`)})}_deleteConnections(h){this.connections[h]&&(this.connections[h].forEach(v=>{v.close(!1)}),delete this.connections[h])}_getConnection(h,v){return this.connections&&this.connections[h]?this.connections[h].filter($=>$.id===v)[0]:null}_hasConnection(h){return this.connections[h]&&this.connections[h].length>0}_setupMessageHandlers(h){h.on(K.EVENTS.offer.key,v=>{v.roomName=this.name,this.emit(Ve.MESSAGE_EVENTS.offer.key,v)}),h.on(K.EVENTS.answer.key,v=>{v.roomName=this.name,this.emit(Ve.MESSAGE_EVENTS.answer.key,v)}),h.on(K.EVENTS.candidate.key,v=>{v.roomName=this.name,this.emit(Ve.MESSAGE_EVENTS.candidate.key,v)}),h.type==="media"&&h.on(de.EVENTS.stream.key,v=>{v.peerId=h.remoteId,this.emit(Ve.EVENTS.stream.key,v)})}static get EVENTS(){return ni}static get MESSAGE_EVENTS(){return ri}}var Jt=Ve;const so=new f.default(["open","error","call","connection","expiresin","close","disconnected"]);class Ue extends a.a{constructor(h,v){super(),this.connections={},this.rooms={},this._queuedMessages={},h&&h.constructor===Object?(v=h,h=void 0):h&&(h=h.toString());const D={debug:V.LOG_LEVELS.NONE,secure:!0,config:M.defaultConfig,turn:!0,dispatcherSecure:M.DISPATCHER_SECURE,dispatcherHost:M.DISPATCHER_HOST,dispatcherPort:M.DISPATCHER_PORT};if(this.options=Object.assign({},D,v),this.options.token=he.randomToken(),V.setLogLevel(this.options.debug),!he.validateId(h)){this._abort("invalid-id",`ID "${h}" is invalid`);return}if(!he.validateKey(v.key)){this._abort("invalid-key",`API KEY "${this.options.key}" is invalid`);return}this.options.host==="/"&&(this.options.host=window.location.hostname),v.secure===void 0&&this.options.port!==443&&(this.options.secure=void 0),this._initializeServerConnection(h)}call(h,v,D={}){if(!this._checkOpenStatus())return;D.originator=!0,D.stream=v,D.pcConfig=this._pcConfig;const $=new de(h,D);return $.startConnection(),V.log("MediaConnection created in call method"),this._addConnection(h,$),$}connect(h,v={}){if(!this._checkOpenStatus())return;v.pcConfig=this._pcConfig;const D=new z(h,v);return D.startConnection(),V.log("DataConnection created in connect method"),this._addConnection(h,D),D}joinRoom(h,v={}){if(!!this._checkOpenStatus()){if(!h){const D=new Error("Room name must be defined.");return D.type="room-error",V.error(D),this.emit(Ue.EVENTS.error.key,D),null}return v.pcConfig=this._pcConfig,v.peerId=this.id,v.mode==="sfu"?this._initializeSfuRoom(h,v):this._initializeFullMeshRoom(h,v)}}getConnection(h,v){if(!!this._checkOpenStatus()){if(this.connections[h]){for(const D of this.connections[h])if(D.id===v)return D}return null}}get open(){return this.socket&&this.socket.isOpen}destroy(){this._cleanup(),this.disconnect(!0)}disconnect(h=!1){h||V.warn("Use peer's destroy method instead. This method may be removed in future versions."),this.open&&(this.socket.close(),this.emit(Ue.EVENTS.disconnected.key,this.id))}reconnect(){V.warn("Recreate peer instance instead. This method may be removed in future versions."),this.open||this.socket.reconnect()}updateCredential(h){this.socket.updateCredential(h)}listAllPeers(h){if(!this._checkOpenStatus())return;h=h||function(){};const v=this,D=new XMLHttpRequest,$=`${this.socket.signalingServerUrl}/api/apikeys/${this.options.key}/clients/`;D.open("get",$,!0),D.onerror=function(){v._abort("server-error","Could not get peers from the server."),h([])},D.onreadystatechange=function(){if(D.readyState===4)if(D.status===401){h([]);const te=new Error("It doesn't look like you have permission to list peers IDs. Please enable the SkyWay REST API on dashboard");te.type="list-error",V.error(te),v.emit(Ue.EVENTS.error.key,te)}else D.status===200?h(JSON.parse(D.responseText)):h([])},D.send(null)}async fetchPeerExists(h){if(!this.open)throw new Error("Peer is not yet connected to signaling server");const v=new Date().getTime();if(this._lastFetchPeerExistsTime!==void 0&&v-this._lastFetchPeerExistsTime<1e3)throw new Error("fetchPeerExists can only be called once per second");this._lastFetchPeerExistsTime=v;const D=`${this.socket.signalingServerUrl}/api/apikeys/${this.options.key}/peers/${h}/exists`,$=await fetch(D);if($.status===200)return(await $.json()).exists;{const te=await $.text();throw new Error(te)}}_checkOpenStatus(){return this.open||this._emitNotConnectedError(),this.open}_emitNotConnectedError(){V.warn("You cannot connect to a new Peer because you are not connecting to SkyWay server now.You can create a new Peer to reconnect, or call reconnect() on this peer if you believe its ID to still be available.");const h=new Error("Cannot connect to new Peer before connecting to SkyWay server or after disconnecting from the server.");h.type="disconnected",V.error(h),this.emit(Ue.EVENTS.error.key,h)}_initializeServerConnection(h){this.socket=new qe(this.options.key,{secure:this.options.secure,host:this.options.host,port:this.options.port,dispatcherSecure:this.options.dispatcherSecure,dispatcherHost:this.options.dispatcherHost,dispatcherPort:this.options.dispatcherPort}),this._setupMessageHandlers(),this.socket.on("error",v=>{this._abort("socket-error",v)}),this.socket.on("disconnect",()=>{this.disconnect(!0);const v=new Error("Lost connection to server.");v.type="socket-error",V.error(v),this.emit(Ue.EVENTS.error.key,v)}),this.socket.start(h,this.options.token,this.options.credential)}_initializeSfuRoom(h,v={}){if(this.rooms[h])return this.rooms[h];const D=new Tt(h,this.id,v);this.rooms[h]=D,this._setupSFURoomMessageHandlers(D);const $={roomName:h,roomType:"sfu"};return this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_JOIN.key,$),D}_initializeFullMeshRoom(h,v={}){if(this.rooms[h])return this.rooms[h];const D=new Jt(h,this.id,v);this.rooms[h]=D,this._setupMeshRoomMessageHandlers(D);const $={roomName:h,roomType:"mesh"};return this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_JOIN.key,$),D}_setupMessageHandlers(){this.socket.on(M.MESSAGE_TYPES.SERVER.OPEN.key,h=>{this.id=h.peerId,this._pcConfig=Object.assign({},this.options.config);const v=this._pcConfig.iceServers;this._pcConfig.iceServers=v?v.slice():[];const D=h.turnCredential;let $,te;if(typeof D=="object"?($=D.username,te=D.credential):typeof D=="string"&&($=`${this.options.key}$${this.id}`,te=D),this.options.turn===!0&&$&&te){const ve=[{protocol:"turn",transport:"tcp"},{protocol:"turn",transport:"udp"}];he.detectBrowser().name!=="edge"&&ve.push({protocol:"turns",transport:"tcp"});for(const Be of ve){const Ne=Be.protocol,rt=Be.transport,er={urls:`${Ne}:${M.TURN_HOST}:${M.TURN_PORT}?transport=${rt}`,url:`${Ne}:${M.TURN_HOST}:${M.TURN_PORT}?transport=${rt}`,username:$,credential:te};this._pcConfig.iceServers.push(er)}V.log("SkyWay TURN Server is available")}else V.log("SkyWay TURN Server is unavailable");this.emit(Ue.EVENTS.open.key,this.id)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ERROR.key,h=>{const v=new Error(h.message);v.type=h.type,V.error(v),this.emit(Ue.EVENTS.error.key,v)}),this.socket.on(M.MESSAGE_TYPES.SERVER.LEAVE.key,h=>{V.log(`Received leave message from ${h}`),this._cleanupPeer(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.FORCE_CLOSE.key,({src:h,connectionId:v})=>{const D=this.getConnection(h,v);D&&D.close(!1)}),this.socket.on(M.MESSAGE_TYPES.SERVER.AUTH_EXPIRES_IN.key,h=>{V.log(`Credential expires in ${h}`),this.emit(Ue.EVENTS.expiresin.key,h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.OFFER.key,h=>{const v=h.roomName;if(v){const te=this.rooms[v];te&&te.handleOffer(h);return}const D=h.connectionId;let $=this.getConnection(h.src,D);if($){$.updateOffer(h);return}h.connectionType==="media"?($=new de(h.src,{connectionId:D,payload:h,metadata:h.metadata,originator:!1,queuedMessages:this._queuedMessages[D],pcConfig:this._pcConfig}),$.startConnection(),V.log("MediaConnection created in OFFER"),this._addConnection(h.src,$),this.emit(Ue.EVENTS.call.key,$)):h.connectionType==="data"?($=new z(h.src,{connectionId:D,payload:h,metadata:h.metadata,label:h.label,dcInit:h.dcInit,serialization:h.serialization,queuedMessages:this._queuedMessages[D],pcConfig:this._pcConfig}),$.startConnection(),V.log("DataConnection created in OFFER"),this._addConnection(h.src,$),this.emit(Ue.EVENTS.connection.key,$)):V.warn("Received malformed connection type: ",h.connectionType),delete this._queuedMessages[D]}),this.socket.on(M.MESSAGE_TYPES.SERVER.ANSWER.key,h=>{const v=h.roomName;if(v){const $=this.rooms[v];$&&$.handleAnswer(h);return}const D=this.getConnection(h.src,h.connectionId);D?D.handleAnswer(h):this._storeMessage(M.MESSAGE_TYPES.SERVER.ANSWER.key,h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.CANDIDATE.key,h=>{const v=h.roomName;if(v){const $=this.rooms[v];$&&$.handleCandidate(h);return}const D=this.getConnection(h.src,h.connectionId);D?D.handleCandidate(h):this._storeMessage(M.MESSAGE_TYPES.SERVER.CANDIDATE.key,h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_USER_JOIN.key,h=>{const v=this.rooms[h.roomName];v&&v.handleJoin(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_USER_LEAVE.key,h=>{const v=this.rooms[h.roomName];v&&v.handleLeave(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_DATA.key,h=>{const v=this.rooms[h.roomName];v&&v.handleData(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_LOGS.key,h=>{const v=this.rooms[h.roomName];v&&v.handleLog(h.log)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_USERS.key,h=>{const v=this.rooms[h.roomName];v&&(h.type==="media"?v.makeMediaConnections(h.userList):v.makeDataConnections(h.userList))}),this.socket.on(M.MESSAGE_TYPES.SERVER.SFU_OFFER.key,h=>{const v=this.rooms[h.roomName];v&&(v.updateMsidMap(h.msids),v.handleOffer(h))})}_setupConnectionMessageHandlers(h){h.on(K.EVENTS.candidate.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_CANDIDATE.key,v)}),h.on(K.EVENTS.answer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_ANSWER.key,v)}),h.on(K.EVENTS.offer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_OFFER.key,v)}),h.on(K.EVENTS.forceClose.key,()=>{const v={dst:h.remoteId,connectionId:h.id};this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_FORCE_CLOSE.key,v)})}_setupRoomMessageHandlers(h){h.on(Tt.MESSAGE_EVENTS.broadcast.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_SEND_DATA.key,v)}),h.on(Tt.MESSAGE_EVENTS.getLog.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_GET_LOGS.key,v)}),h.on(Tt.MESSAGE_EVENTS.leave.key,v=>{delete this.rooms[h.name],this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_LEAVE.key,v)})}_setupSFURoomMessageHandlers(h){this._setupRoomMessageHandlers(h),h.on(Tt.MESSAGE_EVENTS.offerRequest.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SFU_GET_OFFER.key,v)}),h.on(Tt.MESSAGE_EVENTS.answer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SFU_ANSWER.key,v)}),h.on(Tt.MESSAGE_EVENTS.candidate.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SFU_CANDIDATE.key,v)})}_setupMeshRoomMessageHandlers(h){this._setupRoomMessageHandlers(h),h.on(Jt.MESSAGE_EVENTS.offer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_OFFER.key,v)}),h.on(Jt.MESSAGE_EVENTS.answer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_ANSWER.key,v)}),h.on(Jt.MESSAGE_EVENTS.candidate.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_CANDIDATE.key,v)}),h.on(Jt.MESSAGE_EVENTS.getPeers.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_GET_USERS.key,v)})}_abort(h,v){V.error("Aborting!"),this.disconnect(!0);const D=new Error(v);D.type=h,V.error(D),this.emit(Ue.EVENTS.error.key,D)}_addConnection(h,v){this.connections[h]||(this.connections[h]=[]),this.connections[h].push(v),this._setupConnectionMessageHandlers(v)}_storeMessage(h,v){this._queuedMessages[v.connectionId]||(this._queuedMessages[v.connectionId]=[]),this._queuedMessages[v.connectionId].push({type:h,payload:v})}_cleanup(){if(this.connections)for(const h of Object.keys(this.connections))this._cleanupPeer(h);this.emit(Ue.EVENTS.close.key)}_cleanupPeer(h){if(this.connections[h])for(const v of this.connections[h])v.close(!1)}static get EVENTS(){return so}}r.default=Ue},0:function(n,r){}}).default})})(Xs);const Zs=Xu(Xs.exports),Zu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABmUlEQVQ4ja3UwWoTURTG8f85jQkFl4II7oVYrPgKuuiyM5Pbokg3LhQXvoJ9hkapguBO0TBJ38Bt0bqoUV9BBLeikzrnuJgOjDHNdGjO7h7u/fEduPcyiaJ3WQhdFlRqrdYDyfNXWRStLAIUgN8hXNE8f+Pudzuj0eczgQ6Sr6+vuepPhz7wHJE/J54wc0TG7eFwfyY4ieNnwH3gUOCRw1vgYn0UedhO091qy0EU2DperzrsCGwA32tB9zvV5VGvd/MoST60gOVKv0QTg4HApTkJlwGyJLmq8NjNAoDO2LrqIk9UdbMuaRZFsbh/cvdQ9maB4H7dzfoCicO3E0OqXpg2ZoNlUniqqr156HTNAwvUvRFaBxbjN0DrwRI166v7P1fKzX4A1hws6oar9kU1LpN2RqOhi1wTkUEV/HVqshh/RyFgdj4LodtJ0y/n0nRDVG8h8lEmcfwCuNcgKcABxXN96UtLtzuDwVconp749rbm4/GaweVTUWaO+2F7b+99FkJX8vx1FZWGyf6r6a/vzOA0uhAQ4Hj83b/p9b66cJMW3AAAAABJRU5ErkJggg==",eo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABkklEQVQ4ja3SP4wMYRjH8e/v3VCdRCI6IgoJBZ2r2JmhUUg2kdwfUYiQnJqoRJxCQa7QaFBenJ1tuIJC3MxuqdFxiYKo6bby5/0pHJm7W3u7w9O9z/N7P3mfzMB/LlUPaTFz2uJakO8XSZ7/E5h2p6/auisIQB/rcJk9+TguGNaw81gLaxjABMGP8PoNRgYhXNg0MSfTcnquHhgZuJrFrVqggpcHDSW9rwUWzUNPgTebwB+6WQtE89FwvTowfAV/rgcC3bT9wvD4z+tguwPP0uLcnloggBznDG8rrX3o+8vjvandtcAy6/RDjGdAXyrtg40Yes3u7N5RwIE/blLOHBW8Anb87hk+ybEFjZ2WbwsOIG6UzfYDhIeCAGkxmyIvV1HgG7CtmjNesXypl3Q+DAUBTvSmJmNsPAfvGpYD+pIvFkmeh2GplWbnNdYx4N0W4ISty7DhowyqMltaxXFSaOlvGUOUvABbrLyx0uLsKSveERxZ55krZda+Nzb46/p8SLqrLZmW5f2yH5ZZvji2M2r9BFzciirmK+ZYAAAAAElFTkSuQmCC",ef=`#videoCall{width:75%;height:75%;position:relative;border:solid 1px #000;margin:0 auto;background-color:#ffffff4d;overflow:hidden;border-radius:8px}#videoCall .contact-name{position:absolute;top:0;margin-left:15px;color:#050000;text-shadow:0 1px rgba(0,0,0,.7)}#videoCall .remote-stream{width:100%;height:50%;background:rgba(3,33,52,.7);z-index:-1}#videoCall .local-stream{width:25%;height:25%;position:sticky;z-index:1000;background:#fff;border:solirgb(203,204,200)x rgba(0,0,0,.3);bottom:0;left:0%;border-radius:8px;margin:5px;padding:2px}#videoCall .controls{position:relative;bottom:0;right:0;margin-right:20px;margin-bottom:10px}#videoCall .controls button{border:0 none;padding:11px 12px;border-radius:50%;margin-right:6px}#videoCall .controls button i{color:#f5f5f5}.room>div{display:flex;justify-content:start;margin-bottom:5px;float:left}.video-call{height:250px;width:100%}.video-call>video{height:250px;width:100%;margin-left:2px}input,button{margin:5px}.member{width:250px;padding:0;height:140px;margin:2px}
`,tf={name:"webrtcMultiCall",data:function(){return{Peer:this.Peer,isJoined:!1,peerID:null,roomName:this.roomName,videoList:[],remoteStream:null,roomMode:null,isStreaming:!1,SHButton:!1,localStream:null,konferenzRaum:null,muteBtn:!1,hideCamBtn:!1}},props:{PeerAPIKey:{type:String,default:"39f1fcb4-867e-44d7-ab1e-1bc417d09a54"},roomname:{type:String},isAudio:{type:Boolean,default:!1},videoHeight:{type:[Number,String],default:300},videoWidth:{type:[Number,String],default:500},doScreenShot:{type:Boolean,default:!1},doShareScreen:{type:Boolean,default:!1}},mounted(){this.Peer=new Zs({key:this.PeerAPIKey,debug:3}),this.Peer.on("open",function(){this.peerID=this.Peer.id}.bind(this))},methods:{getRoomHash:function(){location.hash,sfu},startStream:function(){this.isJoined=!0,this.isStreaming=!0,this.localStream=navigator.mediaDevices.getUserMedia({video:{width:this.videoWidth,height:this.videoHeight},audio:!0}).then(function(e){this.$refs.localVideo.srcObject=e,this.$refs.localVideo.play(),this.localStream=e}.bind(this)).catch(function(e){console.log(e)})},stopStream:function(){this.isStreaming=!1,this.isJoined=!1,this.$refs.localVideo.srcObject.srcObject=null,this.Peer=null},joinRoom:function(){if(this.isStreaming=!0,this.roomName==null||this.roomName==""||this.roomName==" ")alert("enter a room name");else{if(this.konferenzRaum=this.Peer.joinRoom(this.roomName,{mode:this.getRoomHash,stream:this.localStream}),!this.Peer.open)return;this.konferenzRaum.once("open",()=>{let e=document.createElement("p");e.setAttribute("ref","peerID"),e.innerHTML=`you are joined at: <b>${this.roomName}</b>`,this.$el.parentNode.getElementById("board").append(e)}),this.konferenzRaum.on("stream",e=>{let t=document.createElement("video");t.setAttribute("id","videoElement"),t.setAttribute("class","member"),console.log("parent node",this.$el.parentNode),this.$el.parentNode.getElementById("remoteVideo").append(t),t.srcObject=e,t.playsInline=!0,this.remoteStream=e,t.play()})}},leaveRoom:function(){this.konferenzRaum.close(),this.konferenzRaum.once("open",()=>{})?(this.$refs.localVideo.srcObject.getTracks().forEach(e=>e.stop()),this.$refs.localVideo.srcObject.srcObject=null,console.log("you left"),this.isJoined=!1,this.isStreaming=!1,this.Peer=null):alert("you are not joined")},screenShot:function(){this.$refs.localVideo.srcObject!=null?(this.SHButton=!0,this.$refs.canvas.width=this.$refs.localVideo.videoWidth,this.$refs.canvas.height=this.$refs.localVideo.videoHeight,this.$refs.canvas.getContext("2d").drawImage(this.$refs.localVideo,0,0,this.videoWidth,this.videoHeight)):alert("there is no streaming")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videoWidth,this.videoHeight),this.SHButton=!1},doMute:function(){this.muteBtn=!0,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!0},shareScreen:function(){navigator.mediaDevices.getDisplayMedia({audio:this.isAudio,video:{width:this.videoWidth,height:this.videoHeight}}).then(function(e){e.getVideoTracks()[0],this.$refs.shareScreen.srcObject=e}.bind(this),function(e){alert("error")})}}},nf={id:"videoCall"},rf={key:0,id:"board"},sf={key:1,ref:"localVideo"},of=ee("hr",null,null,-1),af={class:"remote-streams",ref:"remoteVideo",id:"remoteVideo"},cf={class:"controls"},lf=ee("img",{src:Jr},null,-1),uf=[lf],ff=ee("img",{src:Zu},null,-1),df=[ff],hf=ee("img",{src:Yn},null,-1),pf=[hf],mf=ee("img",{src:Gn},null,-1),gf=[mf],yf=ee("img",{src:qn},null,-1),vf=[yf],bf=ee("img",{src:Qn},null,-1),Ef=[bf],wf=ee("img",{src:Kn},null,-1),Sf=[wf],Af={ref:"canvas"},Cf=ee("img",{src:Jn},null,-1),xf=[Cf],_f={key:8},kf=ee("img",{src:eo},null,-1),Tf=[kf],Bf=ee("img",{src:$n},null,-1),Rf=[Bf],Of={key:2,ref:"canvas"};function Nf(e,t,n,r,s,i){return se(),ae("div",nf,[e.isStreaming?(se(),ae("div",rf,[ee("p",{ref:"peerID"},"Your Peer ID: "+tn(this.peerID),513)])):ce("",!0),e.isStreaming?(se(),ae("video",sf,null,512)):ce("",!0),of,ee("div",af,null,512),ee("div",cf,[e.isStreaming?ce("",!0):(se(),ae("button",{key:0,onClick:t[0]||(t[0]=(...a)=>i.startStream&&i.startStream(...a)),title:"start stream"},uf)),e.isStreaming?(se(),ae("button",{key:1,id:"btn2",onClick:t[1]||(t[1]=(...a)=>i.stopStream&&i.stopStream(...a)),title:"leave"},df)):ce("",!0),e.isStreaming?(se(),ae("button",{key:2,id:"btn3",onClick:t[2]||(t[2]=(...a)=>i.screenShot&&i.screenShot(...a)),title:"selfie"},pf)):ce("",!0),e.isStreaming&&!e.muteBtn?(se(),ae("button",{key:3,id:"muteBtn",onClick:t[3]||(t[3]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},gf)):ce("",!0),e.isStreaming&&e.muteBtn?(se(),ae("button",{key:4,id:"muteBtn",onClick:t[4]||(t[4]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},vf)):ce("",!0),e.isStreaming&&!e.hideCamBtn?(se(),ae("button",{key:5,id:"hideCamBtn",onClick:t[5]||(t[5]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},Ef)):ce("",!0),e.isStreaming&&e.hideCamBtn?(se(),ae("button",{key:6,id:"hideCamBtn",onClick:t[6]||(t[6]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},Sf)):ce("",!0),ee("canvas",Af,null,512),e.SHButton?(se(),ae("button",{key:7,onClick:t[7]||(t[7]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a)),title:"delete img"},xf)):ce("",!0),e.isJoined?(se(),ae("div",_f,[Tn(ee("input",{type:"text",placeholder:"Room Name",ref:"roomName","onUpdate:modelValue":t[8]||(t[8]=a=>e.roomName=a)},null,512),[[On,e.roomName]]),ee("button",{ref:"joinRoom",onClick:t[9]||(t[9]=(...a)=>i.joinRoom&&i.joinRoom(...a))},Tf,512),ee("button",{ref:"leaveRoom",onClick:t[10]||(t[10]=(...a)=>i.leaveRoom&&i.leaveRoom(...a))},Rf,512),n.doScreenShot?(se(),ae("button",{key:0,onClick:t[11]||(t[11]=(...a)=>i.screenShot&&i.screenShot(...a))},"screenshot")):ce("",!0)])):ce("",!0)]),n.doScreenShot&&e.SHButton?(se(),ae("canvas",Of,null,512)):ce("",!0)])}const If=Xn(tf,[["render",Nf],["styles",[ef]]]),Pf=`#videoCall{width:75%;height:75%;position:relative;border:solid 1px #000;margin:0 auto;background-color:#ffffff4d;overflow:hidden;border-radius:8px}#videoCall .contact-name{position:absolute;top:0;margin-left:15px;color:#050000;text-shadow:0 1px rgba(0,0,0,.7)}#videoCall .remote-stream{width:100%;height:50%;background:rgba(255 255 255 / 30%);z-index:-1}#videoCall .local-stream{width:50%;height:25%;position:inherit;z-index:1000;background:rgb(255 255 255 / 30%);bottom:0;left:0%;border-radius:8px}#videoCall .controls{position:absolute;bottom:0;right:0;margin-right:20px;margin-bottom:10px}#videoCall .controls button{border:0 none;padding:6px 9px;border-radius:50%;margin-right:6px;margin-bottom:0}.divInput{margin-bottom:3px}#videoCall .controls button i{color:#f5f5f5}.container{position:relative;width:50%}.container canvas{width:100%;height:auto;border-radius:5px}.container .btn{position:absolute;top:9%;left:95%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);padding:5px 9px;border:black;cursor:pointer;border-radius:23px}.material-icons.md-18{font-size:18px}.material-icons.md-24{font-size:24px}.material-icons.md-36{font-size:36px}.material-icons.md-48{font-size:48px}
`,Ff={name:"webrtc-peercall",data:function(){return{localStream:null,peerID:null,isStreaming:!1,isJoined:!1,SHButton:!1,muteBtn:!1,hideCamBtn:!1,remoteID:"",mediaConnection:null,isaudio:this.isAudio}},props:{peerAPIkey:{type:String,default:"426053f4-1d3a-4030-b78c-0985d60f8f5f"},videoWidth:{type:[String,Number],default:450},videoHeight:{type:[String,Number],default:250},isAudio:{type:Boolean,default:!1},peer_ID:{type:String},remote_ID:{type:String}},methods:{startCall:function(){this.isStreaming=!0,this.localStream=navigator.mediaDevices.getUserMedia({video:{height:this.videoHeight,width:this.videoWidth},audio:!0}).then(function(e){this.$refs.localVideo.srcObject=e,this.$refs.localVideo.play(),this.localStream=e}.bind(this)).catch(function(e){console.log(e)}),console.log(this.localStream)},joinCall:function(){this.isJoined=!0,this.remoteID==null||this.remoteID==""||this.remoteID==" "?alert("enter peer id "):(document.getElementById("remoteVideo"),this.mediaConnection=this.Peer.call(this.remoteID,this.localStream),this.mediaConnection.on("stream",e=>{this.$refs.remoteVideo.srcObject=e,this.$refs.remoteVideo.playsInline=!0,this.$refs.remoteVideo.play()}),this.mediaConnection.once("close",()=>{this.$refs.remoteVideo.srcObject.getTracks().forEach(e=>e.stop()),this.$refs.remoteVideo.srcObject=null,this.$refs.localVideo.srcObject=null}))},leaveCall:function(){this.isStreaming=!1,this.$refs.remoteVideo.srcObject=null,this.$refs.localVideo.srcObject=null,this.Peer=null,this.mediaConnection.close(!0)},screenShot:function(){this.localStream?(this.SHButton=!0,this.$refs.canvas.width=this.$refs.localVideo.videoWidth,this.$refs.canvas.height=this.$refs.localVideo.videoHeight,this.$refs.canvas.getContext("2d").drawImage(this.$refs.localVideo,0,0,this.videoWidth,this.videoHeight)):alert("error")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videoWidth,this.videoHeight),this.SHButton=!1},doMute:function(){this.muteBtn=!0,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!0}},mounted(){this.Peer=new Zs({key:this.peerAPIkey,debug:3}),this.Peer.once("open",function(){this.peerID=this.Peer.id}.bind(this)),this.Peer.on("call",function(e){e.answer(this.localStream),e.on("stream",t=>{this.$refs.remoteVideo.srcObject=t,this.$refs.remoteVideo.playsInline=!0,this.$refs.remoteVideo.play().catch(console.log(error))}),e.once("close",function(){this.$refs.remoteVideo.srcObject.getTracks().forEach(t=>t.stop()),this.$refs.remoteVideo.srcObject=null}.bind(this))}.bind(this))}},Mf={id:"videoCall"},Df=ee("div",{class:"contact-name"},null,-1),jf={key:0,class:"remote-stream",ref:"localVideo",id:"localVideo"},Vf={key:1,class:"local-stream",id:"remoteVideo",ref:"remoteVideo"},Uf={class:"controls"},Lf=ee("img",{src:Jr},null,-1),zf=[Lf],Hf=ee("img",{src:$n},null,-1),Wf=[Hf],$f=ee("img",{src:Gn},null,-1),Yf=[$f],Gf=ee("img",{src:qn},null,-1),qf=[Gf],Qf=ee("img",{src:Qn},null,-1),Kf=[Qf],Jf=ee("img",{src:Kn},null,-1),Xf=[Jf],Zf=ee("img",{src:Yn},null,-1),ed=[Zf],td=ee("img",{src:eo},null,-1),nd=[td],rd=ee("div",{class:""},null,-1),id=zn(),sd={class:"container",id:"container"},od={ref:"canvas"};function ad(e,t,n,r,s,i){return se(),ae("div",null,[ee("div",Mf,[Df,ee("p",{ref:"peerID"},"Your Peer ID: "+tn(this.peerID),513),e.isStreaming?(se(),ae("video",jf,null,512)):ce("",!0),e.isStreaming?(se(),ae("video",Vf,null,512)):ce("",!0),ee("div",Uf,[e.isStreaming?ce("",!0):(se(),ae("button",{key:0,onClick:t[0]||(t[0]=(...a)=>i.startCall&&i.startCall(...a)),title:"start stream"},zf)),e.isStreaming?(se(),ae("button",{key:1,id:"btn2",ref:"",onClick:t[1]||(t[1]=(...a)=>i.leaveCall&&i.leaveCall(...a)),title:"leave call"},Wf,512)):ce("",!0),e.isStreaming&&!e.muteBtn?(se(),ae("button",{key:2,id:"muteBtn",onClick:t[2]||(t[2]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},Yf)):ce("",!0),e.isStreaming&&e.muteBtn?(se(),ae("button",{key:3,id:"muteBtn",onClick:t[3]||(t[3]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},qf)):ce("",!0),e.isStreaming&&!e.hideCamBtn?(se(),ae("button",{key:4,id:"hideCamBtn",onClick:t[4]||(t[4]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},Kf)):ce("",!0),e.isStreaming&&e.hideCamBtn?(se(),ae("button",{key:5,id:"hideCamBtn",onClick:t[5]||(t[5]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},Xf)):ce("",!0),e.isStreaming?(se(),ae("button",{key:6,id:"btn3",onClick:t[6]||(t[6]=(...a)=>i.screenShot&&i.screenShot(...a)),title:"selfie"},ed)):ce("",!0),e.isStreaming?(se(),ae("button",{key:7,onClick:t[7]||(t[7]=(...a)=>i.joinCall&&i.joinCall(...a))},nd)):ce("",!0),ee("div",null,[e.isStreaming?Tn((se(),ae("input",{key:0,ref:"peerid",type:"text","onUpdate:modelValue":t[8]||(t[8]=a=>e.remoteID=a)},null,512)),[[On,e.remoteID]]):ce("",!0)])]),rd,id,ee("div",sd,[ee("canvas",od,null,512),e.SHButton?(se(),ae("button",{key:0,class:"btn",onClick:t[9]||(t[9]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a))}," X ")):ce("",!0)])])])}const cd=Xn(Ff,[["render",ad],["styles",[Pf]]]),ld=Wn(xl),ud=Wn(Ju),fd=Wn(cd),dd=Wn(If);customElements.define("webrtc-stream",ld);customElements.define("webrtc-call",ud);customElements.define("webrtc-peercall",fd);customElements.define("webrtc-roomcall",dd);

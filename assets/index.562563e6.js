(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Tr(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const oo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ao=Tr(oo);function Hi(e){return!!e||e===""}function Br(e){if(le(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ne(r)?uo(r):Br(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ne(e))return e;if(Ee(e))return e}}const co=/;(?![^(]*\))/g,lo=/:(.+)/;function uo(e){const t={};return e.split(co).forEach(n=>{if(n){const r=n.split(lo);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rr(e){let t="";if(Ne(e))t=e;else if(le(e))for(let n=0;n<e.length;n++){const r=Rr(e[n]);r&&(t+=r+" ")}else if(Ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Nt=e=>Ne(e)?e:e==null?"":le(e)||Ee(e)&&(e.toString===Gi||!fe(e.toString))?JSON.stringify(e,Wi,2):String(e),Wi=(e,t)=>t&&t.__v_isRef?Wi(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Yi(t)?{[`Set(${t.size})`]:[...t.values()]}:Ee(t)&&!le(t)&&!qi(t)?String(t):t,be={},Ht=[],tt=()=>{},fo=()=>!1,ho=/^on[^a-z]/,Nn=e=>ho.test(e),Or=e=>e.startsWith("onUpdate:"),Oe=Object.assign,Nr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},po=Object.prototype.hasOwnProperty,pe=(e,t)=>po.call(e,t),le=Array.isArray,Wt=e=>In(e)==="[object Map]",Yi=e=>In(e)==="[object Set]",fe=e=>typeof e=="function",Ne=e=>typeof e=="string",Ir=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",$i=e=>Ee(e)&&fe(e.then)&&fe(e.catch),Gi=Object.prototype.toString,In=e=>Gi.call(e),mo=e=>In(e).slice(8,-1),qi=e=>In(e)==="[object Object]",Fr=e=>Ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=Tr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},go=/-(\w)/g,xt=Fn(e=>e.replace(go,(t,n)=>n?n.toUpperCase():"")),yo=/\B([A-Z])/g,mt=Fn(e=>e.replace(yo,"-$1").toLowerCase()),Qi=Fn(e=>e.charAt(0).toUpperCase()+e.slice(1)),tr=Fn(e=>e?`on${Qi(e)}`:""),kn=(e,t)=>!Object.is(e,t),wn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Tn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},on=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ii;const vo=()=>ii||(ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ot;class bo{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ot&&(this.parent=ot,this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}run(t){if(this.active){const n=ot;try{return ot=this,t()}finally{ot=n}}}on(){ot=this}off(){ot=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Eo(e,t=ot){t&&t.active&&t.effects.push(e)}const Pr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ki=e=>(e.w&_t)>0,Ji=e=>(e.n&_t)>0,wo=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_t},So=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Ki(s)&&!Ji(s)?s.delete(e):t[n++]=s,s.w&=~_t,s.n&=~_t}t.length=n}},cr=new WeakMap;let en=0,_t=1;const lr=30;let Xe;const Dt=Symbol(""),ur=Symbol("");class Mr{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Eo(this,r)}run(){if(!this.active)return this.fn();let t=Xe,n=At;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Xe,Xe=this,At=!0,_t=1<<++en,en<=lr?wo(this):si(this),this.fn()}finally{en<=lr&&So(this),_t=1<<--en,Xe=this.parent,At=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Xe===this?this.deferStop=!0:this.active&&(si(this),this.onStop&&this.onStop(),this.active=!1)}}function si(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let At=!0;const Xi=[];function qt(){Xi.push(At),At=!1}function Qt(){const e=Xi.pop();At=e===void 0?!0:e}function He(e,t,n){if(At&&Xe){let r=cr.get(e);r||cr.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Pr()),Zi(s)}}function Zi(e,t){let n=!1;en<=lr?Ji(e)||(e.n|=_t,n=!Ki(e)):n=!e.has(Xe),n&&(e.add(Xe),Xe.deps.push(e))}function gt(e,t,n,r,s,i){const a=cr.get(e);if(!a)return;let u=[];if(t==="clear")u=[...a.values()];else if(n==="length"&&le(e))a.forEach((m,E)=>{(E==="length"||E>=r)&&u.push(m)});else switch(n!==void 0&&u.push(a.get(n)),t){case"add":le(e)?Fr(n)&&u.push(a.get("length")):(u.push(a.get(Dt)),Wt(e)&&u.push(a.get(ur)));break;case"delete":le(e)||(u.push(a.get(Dt)),Wt(e)&&u.push(a.get(ur)));break;case"set":Wt(e)&&u.push(a.get(Dt));break}if(u.length===1)u[0]&&fr(u[0]);else{const m=[];for(const E of u)E&&m.push(...E);fr(Pr(m))}}function fr(e,t){const n=le(e)?e:[...e];for(const r of n)r.computed&&oi(r);for(const r of n)r.computed||oi(r)}function oi(e,t){(e!==Xe||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ao=Tr("__proto__,__v_isRef,__isVue"),es=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ir)),Co=Dr(),xo=Dr(!1,!0),_o=Dr(!0),ai=ko();function ko(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ye(this);for(let i=0,a=this.length;i<a;i++)He(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ye)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qt();const r=ye(this)[t].apply(this,n);return Qt(),r}}),e}function Dr(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?Ho:ss:t?is:rs).get(r))return r;const a=le(r);if(!e&&a&&pe(ai,s))return Reflect.get(ai,s,i);const u=Reflect.get(r,s,i);return(Ir(s)?es.has(s):Ao(s))||(e||He(r,"get",s),t)?u:De(u)?a&&Fr(s)?u:u.value:Ee(u)?e?os(u):Vr(u):u}}const To=ts(),Bo=ts(!0);function ts(e=!1){return function(n,r,s,i){let a=n[r];if(an(a)&&De(a)&&!De(s))return!1;if(!e&&(!dr(s)&&!an(s)&&(a=ye(a),s=ye(s)),!le(n)&&De(a)&&!De(s)))return a.value=s,!0;const u=le(n)&&Fr(r)?Number(r)<n.length:pe(n,r),m=Reflect.set(n,r,s,i);return n===ye(i)&&(u?kn(s,a)&&gt(n,"set",r,s):gt(n,"add",r,s)),m}}function Ro(e,t){const n=pe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&gt(e,"delete",t,void 0),r}function Oo(e,t){const n=Reflect.has(e,t);return(!Ir(t)||!es.has(t))&&He(e,"has",t),n}function No(e){return He(e,"iterate",le(e)?"length":Dt),Reflect.ownKeys(e)}const ns={get:Co,set:To,deleteProperty:Ro,has:Oo,ownKeys:No},Io={get:_o,set(e,t){return!0},deleteProperty(e,t){return!0}},Fo=Oe({},ns,{get:xo,set:Bo}),jr=e=>e,Pn=e=>Reflect.getPrototypeOf(e);function hn(e,t,n=!1,r=!1){e=e.__v_raw;const s=ye(e),i=ye(t);n||(t!==i&&He(s,"get",t),He(s,"get",i));const{has:a}=Pn(s),u=r?jr:n?Hr:zr;if(a.call(s,t))return u(e.get(t));if(a.call(s,i))return u(e.get(i));e!==s&&e.get(t)}function pn(e,t=!1){const n=this.__v_raw,r=ye(n),s=ye(e);return t||(e!==s&&He(r,"has",e),He(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function mn(e,t=!1){return e=e.__v_raw,!t&&He(ye(e),"iterate",Dt),Reflect.get(e,"size",e)}function ci(e){e=ye(e);const t=ye(this);return Pn(t).has.call(t,e)||(t.add(e),gt(t,"add",e,e)),this}function li(e,t){t=ye(t);const n=ye(this),{has:r,get:s}=Pn(n);let i=r.call(n,e);i||(e=ye(e),i=r.call(n,e));const a=s.call(n,e);return n.set(e,t),i?kn(t,a)&&gt(n,"set",e,t):gt(n,"add",e,t),this}function ui(e){const t=ye(this),{has:n,get:r}=Pn(t);let s=n.call(t,e);s||(e=ye(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&gt(t,"delete",e,void 0),i}function fi(){const e=ye(this),t=e.size!==0,n=e.clear();return t&&gt(e,"clear",void 0,void 0),n}function gn(e,t){return function(r,s){const i=this,a=i.__v_raw,u=ye(a),m=t?jr:e?Hr:zr;return!e&&He(u,"iterate",Dt),a.forEach((E,b)=>r.call(s,m(E),m(b),i))}}function yn(e,t,n){return function(...r){const s=this.__v_raw,i=ye(s),a=Wt(i),u=e==="entries"||e===Symbol.iterator&&a,m=e==="keys"&&a,E=s[e](...r),b=n?jr:t?Hr:zr;return!t&&He(i,"iterate",m?ur:Dt),{next(){const{value:y,done:o}=E.next();return o?{value:y,done:o}:{value:u?[b(y[0]),b(y[1])]:b(y),done:o}},[Symbol.iterator](){return this}}}}function bt(e){return function(...t){return e==="delete"?!1:this}}function Po(){const e={get(i){return hn(this,i)},get size(){return mn(this)},has:pn,add:ci,set:li,delete:ui,clear:fi,forEach:gn(!1,!1)},t={get(i){return hn(this,i,!1,!0)},get size(){return mn(this)},has:pn,add:ci,set:li,delete:ui,clear:fi,forEach:gn(!1,!0)},n={get(i){return hn(this,i,!0)},get size(){return mn(this,!0)},has(i){return pn.call(this,i,!0)},add:bt("add"),set:bt("set"),delete:bt("delete"),clear:bt("clear"),forEach:gn(!0,!1)},r={get(i){return hn(this,i,!0,!0)},get size(){return mn(this,!0)},has(i){return pn.call(this,i,!0)},add:bt("add"),set:bt("set"),delete:bt("delete"),clear:bt("clear"),forEach:gn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=yn(i,!1,!1),n[i]=yn(i,!0,!1),t[i]=yn(i,!1,!0),r[i]=yn(i,!0,!0)}),[e,n,t,r]}const[Mo,Do,jo,Uo]=Po();function Ur(e,t){const n=t?e?Uo:jo:e?Do:Mo;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(pe(n,s)&&s in r?n:r,s,i)}const Vo={get:Ur(!1,!1)},Lo={get:Ur(!1,!0)},zo={get:Ur(!0,!1)},rs=new WeakMap,is=new WeakMap,ss=new WeakMap,Ho=new WeakMap;function Wo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yo(e){return e.__v_skip||!Object.isExtensible(e)?0:Wo(mo(e))}function Vr(e){return an(e)?e:Lr(e,!1,ns,Vo,rs)}function $o(e){return Lr(e,!1,Fo,Lo,is)}function os(e){return Lr(e,!0,Io,zo,ss)}function Lr(e,t,n,r,s){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=Yo(e);if(a===0)return e;const u=new Proxy(e,a===2?r:n);return s.set(e,u),u}function Yt(e){return an(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function an(e){return!!(e&&e.__v_isReadonly)}function dr(e){return!!(e&&e.__v_isShallow)}function as(e){return Yt(e)||an(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function cs(e){return Tn(e,"__v_skip",!0),e}const zr=e=>Ee(e)?Vr(e):e,Hr=e=>Ee(e)?os(e):e;function Go(e){At&&Xe&&(e=ye(e),Zi(e.dep||(e.dep=Pr())))}function qo(e,t){e=ye(e),e.dep&&fr(e.dep)}function De(e){return!!(e&&e.__v_isRef===!0)}function Qo(e){return De(e)?e.value:e}const Ko={get:(e,t,n)=>Qo(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return De(s)&&!De(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ls(e){return Yt(e)?e:new Proxy(e,Ko)}var us;class Jo{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[us]=!1,this._dirty=!0,this.effect=new Mr(t,()=>{this._dirty||(this._dirty=!0,qo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ye(this);return Go(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}us="__v_isReadonly";function Xo(e,t,n=!1){let r,s;const i=fe(e);return i?(r=e,s=tt):(r=e.get,s=e.set),new Jo(r,s,i||!s,n)}function Ct(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Mn(i,t,n)}return s}function Ge(e,t,n,r){if(fe(e)){const i=Ct(e,t,n,r);return i&&$i(i)&&i.catch(a=>{Mn(a,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Ge(e[i],t,n,r));return s}function Mn(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,u=n;for(;i;){const E=i.ec;if(E){for(let b=0;b<E.length;b++)if(E[b](e,a,u)===!1)return}i=i.parent}const m=t.appContext.config.errorHandler;if(m){Ct(m,null,10,[e,a,u]);return}}Zo(e,n,s,r)}function Zo(e,t,n,r=!0){console.error(e)}let cn=!1,hr=!1;const Fe=[];let ct=0;const $t=[];let pt=null,It=0;const fs=Promise.resolve();let Wr=null;function ds(e){const t=Wr||fs;return e?t.then(this?e.bind(this):e):t}function ea(e){let t=ct+1,n=Fe.length;for(;t<n;){const r=t+n>>>1;ln(Fe[r])<e?t=r+1:n=r}return t}function Yr(e){(!Fe.length||!Fe.includes(e,cn&&e.allowRecurse?ct+1:ct))&&(e.id==null?Fe.push(e):Fe.splice(ea(e.id),0,e),hs())}function hs(){!cn&&!hr&&(hr=!0,Wr=fs.then(ms))}function ta(e){const t=Fe.indexOf(e);t>ct&&Fe.splice(t,1)}function na(e){le(e)?$t.push(...e):(!pt||!pt.includes(e,e.allowRecurse?It+1:It))&&$t.push(e),hs()}function di(e,t=cn?ct+1:0){for(;t<Fe.length;t++){const n=Fe[t];n&&n.pre&&(Fe.splice(t,1),t--,n())}}function ps(e){if($t.length){const t=[...new Set($t)];if($t.length=0,pt){pt.push(...t);return}for(pt=t,pt.sort((n,r)=>ln(n)-ln(r)),It=0;It<pt.length;It++)pt[It]();pt=null,It=0}}const ln=e=>e.id==null?1/0:e.id,ra=(e,t)=>{const n=ln(e)-ln(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ms(e){hr=!1,cn=!0,Fe.sort(ra);const t=tt;try{for(ct=0;ct<Fe.length;ct++){const n=Fe[ct];n&&n.active!==!1&&Ct(n,null,14)}}finally{ct=0,Fe.length=0,ps(),cn=!1,Wr=null,(Fe.length||$t.length)&&ms()}}function ia(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||be;let s=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const b=`${a==="modelValue"?"model":a}Modifiers`,{number:y,trim:o}=r[b]||be;o&&(s=n.map(p=>p.trim())),y&&(s=n.map(on))}let u,m=r[u=tr(t)]||r[u=tr(xt(t))];!m&&i&&(m=r[u=tr(mt(t))]),m&&Ge(m,e,6,s);const E=r[u+"Once"];if(E){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ge(E,e,6,s)}}function gs(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},u=!1;if(!fe(e)){const m=E=>{const b=gs(E,t,!0);b&&(u=!0,Oe(a,b))};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!i&&!u?(Ee(e)&&r.set(e,null),null):(le(i)?i.forEach(m=>a[m]=null):Oe(a,i),Ee(e)&&r.set(e,a),a)}function Dn(e,t){return!e||!Nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),pe(e,t[0].toLowerCase()+t.slice(1))||pe(e,mt(t))||pe(e,t))}let Ze=null,jn=null;function Bn(e){const t=Ze;return Ze=e,jn=e&&e.type.__scopeId||null,t}function sa(e){jn=e}function oa(){jn=null}function aa(e,t=Ze,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Si(-1);const i=Bn(t),a=e(...s);return Bn(i),r._d&&Si(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function nr(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[a],slots:u,attrs:m,emit:E,render:b,renderCache:y,data:o,setupState:p,ctx:g,inheritAttrs:d}=e;let c,w;const x=Bn(e);try{if(n.shapeFlag&4){const T=s||r;c=at(b.call(T,T,y,i,p,o,g)),w=m}else{const T=t;c=at(T.length>1?T(i,{attrs:m,slots:u,emit:E}):T(i,null)),w=t.props?m:ca(m)}}catch(T){rn.length=0,Mn(T,e,1),c=lt(nt)}let I=c;if(w&&d!==!1){const T=Object.keys(w),{shapeFlag:C}=I;T.length&&C&7&&(a&&T.some(Or)&&(w=la(w,a)),I=kt(I,w))}return n.dirs&&(I=kt(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),c=I,Bn(x),c}const ca=e=>{let t;for(const n in e)(n==="class"||n==="style"||Nn(n))&&((t||(t={}))[n]=e[n]);return t},la=(e,t)=>{const n={};for(const r in e)(!Or(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ua(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:u,patchFlag:m}=t,E=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&m>=0){if(m&1024)return!0;if(m&16)return r?hi(r,a,E):!!a;if(m&8){const b=t.dynamicProps;for(let y=0;y<b.length;y++){const o=b[y];if(a[o]!==r[o]&&!Dn(E,o))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:r===a?!1:r?a?hi(r,a,E):!0:!!a;return!1}function hi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Dn(n,i))return!0}return!1}function fa({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const da=e=>e.__isSuspense;function ha(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):na(e)}function pa(e,t){if(Re){let n=Re.provides;const r=Re.parent&&Re.parent.provides;r===n&&(n=Re.provides=Object.create(r)),n[e]=t}}function rr(e,t,n=!1){const r=Re||Ze;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&fe(t)?t.call(r.proxy):t}}const pi={};function ir(e,t,n){return ys(e,t,n)}function ys(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:a}=be){const u=Re;let m,E=!1,b=!1;if(De(e)?(m=()=>e.value,E=dr(e)):Yt(e)?(m=()=>e,r=!0):le(e)?(b=!0,E=e.some(w=>Yt(w)||dr(w)),m=()=>e.map(w=>{if(De(w))return w.value;if(Yt(w))return Mt(w);if(fe(w))return Ct(w,u,2)})):fe(e)?t?m=()=>Ct(e,u,2):m=()=>{if(!(u&&u.isUnmounted))return y&&y(),Ge(e,u,3,[o])}:m=tt,t&&r){const w=m;m=()=>Mt(w())}let y,o=w=>{y=c.onStop=()=>{Ct(w,u,4)}};if(fn)return o=tt,t?n&&Ge(t,u,3,[m(),b?[]:void 0,o]):m(),tt;let p=b?[]:pi;const g=()=>{if(!!c.active)if(t){const w=c.run();(r||E||(b?w.some((x,I)=>kn(x,p[I])):kn(w,p)))&&(y&&y(),Ge(t,u,3,[w,p===pi?void 0:p,o]),p=w)}else c.run()};g.allowRecurse=!!t;let d;s==="sync"?d=g:s==="post"?d=()=>Le(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),d=()=>Yr(g));const c=new Mr(m,d);return t?n?g():p=c.run():s==="post"?Le(c.run.bind(c),u&&u.suspense):c.run(),()=>{c.stop(),u&&u.scope&&Nr(u.scope.effects,c)}}function ma(e,t,n){const r=this.proxy,s=Ne(e)?e.includes(".")?vs(r,e):()=>r[e]:e.bind(r,r);let i;fe(t)?i=t:(i=t.handler,n=t);const a=Re;Gt(this);const u=ys(s,i.bind(r),n);return a?Gt(a):jt(),u}function vs(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Mt(e,t){if(!Ee(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),De(e))Mt(e.value,t);else if(le(e))for(let n=0;n<e.length;n++)Mt(e[n],t);else if(Yi(e)||Wt(e))e.forEach(n=>{Mt(n,t)});else if(qi(e))for(const n in e)Mt(e[n],t);return e}function ga(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ss(()=>{e.isMounted=!0}),As(()=>{e.isUnmounting=!0}),e}const Ye=[Function,Array],ya={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},setup(e,{slots:t}){const n=ic(),r=ga();let s;return()=>{const i=t.default&&Es(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const d of i)if(d.type!==nt){a=d;break}}const u=ye(e),{mode:m}=u;if(r.isLeaving)return sr(a);const E=mi(a);if(!E)return sr(a);const b=pr(E,u,r,n);mr(E,b);const y=n.subTree,o=y&&mi(y);let p=!1;const{getTransitionKey:g}=E.type;if(g){const d=g();s===void 0?s=d:d!==s&&(s=d,p=!0)}if(o&&o.type!==nt&&(!Ft(E,o)||p)){const d=pr(o,u,r,n);if(mr(o,d),m==="out-in")return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update()},sr(a);m==="in-out"&&E.type!==nt&&(d.delayLeave=(c,w,x)=>{const I=bs(r,o);I[String(o.key)]=o,c._leaveCb=()=>{w(),c._leaveCb=void 0,delete b.delayedLeave},b.delayedLeave=x})}return a}}},va=ya;function bs(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function pr(e,t,n,r){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:u,onEnter:m,onAfterEnter:E,onEnterCancelled:b,onBeforeLeave:y,onLeave:o,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:d,onAppear:c,onAfterAppear:w,onAppearCancelled:x}=t,I=String(e.key),T=bs(n,e),C=(k,_)=>{k&&Ge(k,r,9,_)},B=(k,_)=>{const R=_[1];C(k,_),le(k)?k.every(P=>P.length<=1)&&R():k.length<=1&&R()},O={mode:i,persisted:a,beforeEnter(k){let _=u;if(!n.isMounted)if(s)_=d||u;else return;k._leaveCb&&k._leaveCb(!0);const R=T[I];R&&Ft(e,R)&&R.el._leaveCb&&R.el._leaveCb(),C(_,[k])},enter(k){let _=m,R=E,P=b;if(!n.isMounted)if(s)_=c||m,R=w||E,P=x||b;else return;let M=!1;const W=k._enterCb=J=>{M||(M=!0,J?C(P,[k]):C(R,[k]),O.delayedLeave&&O.delayedLeave(),k._enterCb=void 0)};_?B(_,[k,W]):W()},leave(k,_){const R=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return _();C(y,[k]);let P=!1;const M=k._leaveCb=W=>{P||(P=!0,_(),W?C(g,[k]):C(p,[k]),k._leaveCb=void 0,T[R]===e&&delete T[R])};T[R]=e,o?B(o,[k,M]):M()},clone(k){return pr(k,t,n,r)}};return O}function sr(e){if(Un(e))return e=kt(e),e.children=null,e}function mi(e){return Un(e)?e.children?e.children[0]:void 0:e}function mr(e,t){e.shapeFlag&6&&e.component?mr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Es(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const u=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===$e?(a.patchFlag&128&&s++,r=r.concat(Es(a.children,t,u))):(t||a.type!==nt)&&r.push(u!=null?kt(a,{key:u}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ba(e){return fe(e)?{setup:e,name:e.name}:e}const Sn=e=>!!e.type.__asyncLoader,Un=e=>e.type.__isKeepAlive;function Ea(e,t){ws(e,"a",t)}function wa(e,t){ws(e,"da",t)}function ws(e,t,n=Re){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Vn(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Un(s.parent.vnode)&&Sa(r,t,n,s),s=s.parent}}function Sa(e,t,n,r){const s=Vn(t,e,r,!0);Cs(()=>{Nr(r[t],s)},n)}function Vn(e,t,n=Re,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;qt(),Gt(n);const u=Ge(t,n,e,a);return jt(),Qt(),u});return r?s.unshift(i):s.push(i),i}}const yt=e=>(t,n=Re)=>(!fn||e==="sp")&&Vn(e,t,n),Aa=yt("bm"),Ss=yt("m"),Ca=yt("bu"),xa=yt("u"),As=yt("bum"),Cs=yt("um"),_a=yt("sp"),ka=yt("rtg"),Ta=yt("rtc");function Ba(e,t=Re){Vn("ec",e,t)}function nn(e,t){const n=Ze;if(n===null)return e;const r=Hn(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,u,m,E=be]=t[i];fe(a)&&(a={mounted:a,updated:a}),a.deep&&Mt(u),s.push({dir:a,instance:r,value:u,oldValue:void 0,arg:m,modifiers:E})}return e}function Bt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const u=s[a];i&&(u.oldValue=i[a].value);let m=u.dir[r];m&&(qt(),Ge(m,n,8,[e.el,u,e,t]),Qt())}}const Ra=Symbol();function Oa(e,t,n,r){let s;const i=n&&n[r];if(le(e)||Ne(e)){s=new Array(e.length);for(let a=0,u=e.length;a<u;a++)s[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i&&i[a])}else if(Ee(e))if(e[Symbol.iterator])s=Array.from(e,(a,u)=>t(a,u,void 0,i&&i[u]));else{const a=Object.keys(e);s=new Array(a.length);for(let u=0,m=a.length;u<m;u++){const E=a[u];s[u]=t(e[E],E,u,i&&i[u])}}else s=[];return n&&(n[r]=s),s}const gr=e=>e?Ps(e)?Hn(e)||e.proxy:gr(e.parent):null,Rn=Oe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gr(e.parent),$root:e=>gr(e.root),$emit:e=>e.emit,$options:e=>$r(e),$forceUpdate:e=>e.f||(e.f=()=>Yr(e.update)),$nextTick:e=>e.n||(e.n=ds.bind(e.proxy)),$watch:e=>ma.bind(e)}),Na={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:u,appContext:m}=e;let E;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==be&&pe(r,t))return a[t]=1,r[t];if(s!==be&&pe(s,t))return a[t]=2,s[t];if((E=e.propsOptions[0])&&pe(E,t))return a[t]=3,i[t];if(n!==be&&pe(n,t))return a[t]=4,n[t];yr&&(a[t]=0)}}const b=Rn[t];let y,o;if(b)return t==="$attrs"&&He(e,"get",t),b(e);if((y=u.__cssModules)&&(y=y[t]))return y;if(n!==be&&pe(n,t))return a[t]=4,n[t];if(o=m.config.globalProperties,pe(o,t))return o[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==be&&pe(s,t)?(s[t]=n,!0):r!==be&&pe(r,t)?(r[t]=n,!0):pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let u;return!!n[a]||e!==be&&pe(e,a)||t!==be&&pe(t,a)||(u=i[0])&&pe(u,a)||pe(r,a)||pe(Rn,a)||pe(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let yr=!0;function Ia(e){const t=$r(e),n=e.proxy,r=e.ctx;yr=!1,t.beforeCreate&&gi(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:u,provide:m,inject:E,created:b,beforeMount:y,mounted:o,beforeUpdate:p,updated:g,activated:d,deactivated:c,beforeDestroy:w,beforeUnmount:x,destroyed:I,unmounted:T,render:C,renderTracked:B,renderTriggered:O,errorCaptured:k,serverPrefetch:_,expose:R,inheritAttrs:P,components:M,directives:W,filters:J}=t;if(E&&Fa(E,r,null,e.appContext.config.unwrapInjectedRef),a)for(const ae in a){const Z=a[ae];fe(Z)&&(r[ae]=Z.bind(n))}if(s){const ae=s.call(n,n);Ee(ae)&&(e.data=Vr(ae))}if(yr=!0,i)for(const ae in i){const Z=i[ae],se=fe(Z)?Z.bind(n,n):fe(Z.get)?Z.get.bind(n,n):tt,we=!fe(Z)&&fe(Z.set)?Z.set.bind(n):tt,Se=uc({get:se,set:we});Object.defineProperty(r,ae,{enumerable:!0,configurable:!0,get:()=>Se.value,set:rt=>Se.value=rt})}if(u)for(const ae in u)xs(u[ae],r,n,ae);if(m){const ae=fe(m)?m.call(n):m;Reflect.ownKeys(ae).forEach(Z=>{pa(Z,ae[Z])})}b&&gi(b,e,"c");function U(ae,Z){le(Z)?Z.forEach(se=>ae(se.bind(n))):Z&&ae(Z.bind(n))}if(U(Aa,y),U(Ss,o),U(Ca,p),U(xa,g),U(Ea,d),U(wa,c),U(Ba,k),U(Ta,B),U(ka,O),U(As,x),U(Cs,T),U(_a,_),le(R))if(R.length){const ae=e.exposed||(e.exposed={});R.forEach(Z=>{Object.defineProperty(ae,Z,{get:()=>n[Z],set:se=>n[Z]=se})})}else e.exposed||(e.exposed={});C&&e.render===tt&&(e.render=C),P!=null&&(e.inheritAttrs=P),M&&(e.components=M),W&&(e.directives=W)}function Fa(e,t,n=tt,r=!1){le(e)&&(e=vr(e));for(const s in e){const i=e[s];let a;Ee(i)?"default"in i?a=rr(i.from||s,i.default,!0):a=rr(i.from||s):a=rr(i),De(a)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):t[s]=a}}function gi(e,t,n){Ge(le(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function xs(e,t,n,r){const s=r.includes(".")?vs(n,r):()=>n[r];if(Ne(e)){const i=t[e];fe(i)&&ir(s,i)}else if(fe(e))ir(s,e.bind(n));else if(Ee(e))if(le(e))e.forEach(i=>xs(i,t,n,r));else{const i=fe(e.handler)?e.handler.bind(n):t[e.handler];fe(i)&&ir(s,i,e)}}function $r(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,u=i.get(t);let m;return u?m=u:!s.length&&!n&&!r?m=t:(m={},s.length&&s.forEach(E=>On(m,E,a,!0)),On(m,t,a)),Ee(t)&&i.set(t,m),m}function On(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&On(e,i,n,!0),s&&s.forEach(a=>On(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const u=Pa[a]||n&&n[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const Pa={data:yi,props:Ot,emits:Ot,methods:Ot,computed:Ot,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Ot,directives:Ot,watch:Da,provide:yi,inject:Ma};function yi(e,t){return t?e?function(){return Oe(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function Ma(e,t){return Ot(vr(e),vr(t))}function vr(e){if(le(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Ot(e,t){return e?Oe(Oe(Object.create(null),e),t):t}function Da(e,t){if(!e)return t;if(!t)return e;const n=Oe(Object.create(null),e);for(const r in t)n[r]=Me(e[r],t[r]);return n}function ja(e,t,n,r=!1){const s={},i={};Tn(i,Ln,1),e.propsDefaults=Object.create(null),_s(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:$o(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Ua(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,u=ye(s),[m]=e.propsOptions;let E=!1;if((r||a>0)&&!(a&16)){if(a&8){const b=e.vnode.dynamicProps;for(let y=0;y<b.length;y++){let o=b[y];if(Dn(e.emitsOptions,o))continue;const p=t[o];if(m)if(pe(i,o))p!==i[o]&&(i[o]=p,E=!0);else{const g=xt(o);s[g]=br(m,u,g,p,e,!1)}else p!==i[o]&&(i[o]=p,E=!0)}}}else{_s(e,t,s,i)&&(E=!0);let b;for(const y in u)(!t||!pe(t,y)&&((b=mt(y))===y||!pe(t,b)))&&(m?n&&(n[y]!==void 0||n[b]!==void 0)&&(s[y]=br(m,u,y,void 0,e,!0)):delete s[y]);if(i!==u)for(const y in i)(!t||!pe(t,y)&&!0)&&(delete i[y],E=!0)}E&&gt(e,"set","$attrs")}function _s(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,u;if(t)for(let m in t){if(En(m))continue;const E=t[m];let b;s&&pe(s,b=xt(m))?!i||!i.includes(b)?n[b]=E:(u||(u={}))[b]=E:Dn(e.emitsOptions,m)||(!(m in r)||E!==r[m])&&(r[m]=E,a=!0)}if(i){const m=ye(n),E=u||be;for(let b=0;b<i.length;b++){const y=i[b];n[y]=br(s,m,y,E[y],e,!pe(E,y))}}return a}function br(e,t,n,r,s,i){const a=e[n];if(a!=null){const u=pe(a,"default");if(u&&r===void 0){const m=a.default;if(a.type!==Function&&fe(m)){const{propsDefaults:E}=s;n in E?r=E[n]:(Gt(s),r=E[n]=m.call(null,t),jt())}else r=m}a[0]&&(i&&!u?r=!1:a[1]&&(r===""||r===mt(n))&&(r=!0))}return r}function ks(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},u=[];let m=!1;if(!fe(e)){const b=y=>{m=!0;const[o,p]=ks(y,t,!0);Oe(a,o),p&&u.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!i&&!m)return Ee(e)&&r.set(e,Ht),Ht;if(le(i))for(let b=0;b<i.length;b++){const y=xt(i[b]);vi(y)&&(a[y]=be)}else if(i)for(const b in i){const y=xt(b);if(vi(y)){const o=i[b],p=a[y]=le(o)||fe(o)?{type:o}:o;if(p){const g=wi(Boolean,p.type),d=wi(String,p.type);p[0]=g>-1,p[1]=d<0||g<d,(g>-1||pe(p,"default"))&&u.push(y)}}}const E=[a,u];return Ee(e)&&r.set(e,E),E}function vi(e){return e[0]!=="$"}function bi(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Ei(e,t){return bi(e)===bi(t)}function wi(e,t){return le(t)?t.findIndex(n=>Ei(n,e)):fe(t)&&Ei(t,e)?0:-1}const Ts=e=>e[0]==="_"||e==="$stable",Gr=e=>le(e)?e.map(at):[at(e)],Va=(e,t,n)=>{if(t._n)return t;const r=aa((...s)=>Gr(t(...s)),n);return r._c=!1,r},Bs=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ts(s))continue;const i=e[s];if(fe(i))t[s]=Va(s,i,r);else if(i!=null){const a=Gr(i);t[s]=()=>a}}},Rs=(e,t)=>{const n=Gr(t);e.slots.default=()=>n},La=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ye(t),Tn(t,"_",n)):Bs(t,e.slots={})}else e.slots={},t&&Rs(e,t);Tn(e.slots,Ln,1)},za=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=be;if(r.shapeFlag&32){const u=t._;u?n&&u===1?i=!1:(Oe(s,t),!n&&u===1&&delete s._):(i=!t.$stable,Bs(t,s)),a=t}else t&&(Rs(e,t),a={default:1});if(i)for(const u in s)!Ts(u)&&!(u in a)&&delete s[u]};function Os(){return{app:null,config:{isNativeTag:fo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ha=0;function Wa(e,t){return function(r,s=null){fe(r)||(r=Object.assign({},r)),s!=null&&!Ee(s)&&(s=null);const i=Os(),a=new Set;let u=!1;const m=i.app={_uid:Ha++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:fc,get config(){return i.config},set config(E){},use(E,...b){return a.has(E)||(E&&fe(E.install)?(a.add(E),E.install(m,...b)):fe(E)&&(a.add(E),E(m,...b))),m},mixin(E){return i.mixins.includes(E)||i.mixins.push(E),m},component(E,b){return b?(i.components[E]=b,m):i.components[E]},directive(E,b){return b?(i.directives[E]=b,m):i.directives[E]},mount(E,b,y){if(!u){const o=lt(r,s);return o.appContext=i,b&&t?t(o,E):e(o,E,y),u=!0,m._container=E,E.__vue_app__=m,Hn(o.component)||o.component.proxy}},unmount(){u&&(e(null,m._container),delete m._container.__vue_app__)},provide(E,b){return i.provides[E]=b,m}};return m}}function Er(e,t,n,r,s=!1){if(le(e)){e.forEach((o,p)=>Er(o,t&&(le(t)?t[p]:t),n,r,s));return}if(Sn(r)&&!s)return;const i=r.shapeFlag&4?Hn(r.component)||r.component.proxy:r.el,a=s?null:i,{i:u,r:m}=e,E=t&&t.r,b=u.refs===be?u.refs={}:u.refs,y=u.setupState;if(E!=null&&E!==m&&(Ne(E)?(b[E]=null,pe(y,E)&&(y[E]=null)):De(E)&&(E.value=null)),fe(m))Ct(m,u,12,[a,b]);else{const o=Ne(m),p=De(m);if(o||p){const g=()=>{if(e.f){const d=o?b[m]:m.value;s?le(d)&&Nr(d,i):le(d)?d.includes(i)||d.push(i):o?(b[m]=[i],pe(y,m)&&(y[m]=b[m])):(m.value=[i],e.k&&(b[e.k]=m.value))}else o?(b[m]=a,pe(y,m)&&(y[m]=a)):p&&(m.value=a,e.k&&(b[e.k]=a))};a?(g.id=-1,Le(g,n)):g()}}}const Le=ha;function Ya(e){return $a(e)}function $a(e,t){const n=vo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:u,createComment:m,setText:E,setElementText:b,parentNode:y,nextSibling:o,setScopeId:p=tt,cloneNode:g,insertStaticContent:d}=e,c=(N,j,L,$=null,H=null,G=null,te=!1,Q=null,K=!!j.dynamicChildren)=>{if(N===j)return;N&&!Ft(N,j)&&($=qe(N),We(N,H,G,!0),N=null),j.patchFlag===-2&&(K=!1,j.dynamicChildren=null);const{type:q,ref:S,shapeFlag:l}=j;switch(q){case qr:w(N,j,L,$);break;case nt:x(N,j,L,$);break;case or:N==null&&I(j,L,$,te);break;case $e:W(N,j,L,$,H,G,te,Q,K);break;default:l&1?B(N,j,L,$,H,G,te,Q,K):l&6?J(N,j,L,$,H,G,te,Q,K):(l&64||l&128)&&q.process(N,j,L,$,H,G,te,Q,K,Qe)}S!=null&&H&&Er(S,N&&N.ref,G,j||N,!j)},w=(N,j,L,$)=>{if(N==null)r(j.el=u(j.children),L,$);else{const H=j.el=N.el;j.children!==N.children&&E(H,j.children)}},x=(N,j,L,$)=>{N==null?r(j.el=m(j.children||""),L,$):j.el=N.el},I=(N,j,L,$)=>{[N.el,N.anchor]=d(N.children,j,L,$,N.el,N.anchor)},T=({el:N,anchor:j},L,$)=>{let H;for(;N&&N!==j;)H=o(N),r(N,L,$),N=H;r(j,L,$)},C=({el:N,anchor:j})=>{let L;for(;N&&N!==j;)L=o(N),s(N),N=L;s(j)},B=(N,j,L,$,H,G,te,Q,K)=>{te=te||j.type==="svg",N==null?O(j,L,$,H,G,te,Q,K):R(N,j,H,G,te,Q,K)},O=(N,j,L,$,H,G,te,Q)=>{let K,q;const{type:S,props:l,shapeFlag:f,transition:A,patchFlag:F,dirs:V}=N;if(N.el&&g!==void 0&&F===-1)K=N.el=g(N.el);else{if(K=N.el=a(N.type,G,l&&l.is,l),f&8?b(K,N.children):f&16&&_(N.children,K,null,$,H,G&&S!=="foreignObject",te,Q),V&&Bt(N,null,$,"created"),l){for(const oe in l)oe!=="value"&&!En(oe)&&i(K,oe,null,l[oe],G,N.children,$,H,he);"value"in l&&i(K,"value",null,l.value),(q=l.onVnodeBeforeMount)&&st(q,$,N)}k(K,N,N.scopeId,te,$)}V&&Bt(N,null,$,"beforeMount");const z=(!H||H&&!H.pendingBranch)&&A&&!A.persisted;z&&A.beforeEnter(K),r(K,j,L),((q=l&&l.onVnodeMounted)||z||V)&&Le(()=>{q&&st(q,$,N),z&&A.enter(K),V&&Bt(N,null,$,"mounted")},H)},k=(N,j,L,$,H)=>{if(L&&p(N,L),$)for(let G=0;G<$.length;G++)p(N,$[G]);if(H){let G=H.subTree;if(j===G){const te=H.vnode;k(N,te,te.scopeId,te.slotScopeIds,H.parent)}}},_=(N,j,L,$,H,G,te,Q,K=0)=>{for(let q=K;q<N.length;q++){const S=N[q]=Q?Et(N[q]):at(N[q]);c(null,S,j,L,$,H,G,te,Q)}},R=(N,j,L,$,H,G,te)=>{const Q=j.el=N.el;let{patchFlag:K,dynamicChildren:q,dirs:S}=j;K|=N.patchFlag&16;const l=N.props||be,f=j.props||be;let A;L&&Rt(L,!1),(A=f.onVnodeBeforeUpdate)&&st(A,L,j,N),S&&Bt(j,N,L,"beforeUpdate"),L&&Rt(L,!0);const F=H&&j.type!=="foreignObject";if(q?P(N.dynamicChildren,q,Q,L,$,F,G):te||se(N,j,Q,null,L,$,F,G,!1),K>0){if(K&16)M(Q,j,l,f,L,$,H);else if(K&2&&l.class!==f.class&&i(Q,"class",null,f.class,H),K&4&&i(Q,"style",l.style,f.style,H),K&8){const V=j.dynamicProps;for(let z=0;z<V.length;z++){const oe=V[z],ue=l[oe],de=f[oe];(de!==ue||oe==="value")&&i(Q,oe,ue,de,H,N.children,L,$,he)}}K&1&&N.children!==j.children&&b(Q,j.children)}else!te&&q==null&&M(Q,j,l,f,L,$,H);((A=f.onVnodeUpdated)||S)&&Le(()=>{A&&st(A,L,j,N),S&&Bt(j,N,L,"updated")},$)},P=(N,j,L,$,H,G,te)=>{for(let Q=0;Q<j.length;Q++){const K=N[Q],q=j[Q],S=K.el&&(K.type===$e||!Ft(K,q)||K.shapeFlag&70)?y(K.el):L;c(K,q,S,null,$,H,G,te,!0)}},M=(N,j,L,$,H,G,te)=>{if(L!==$){for(const Q in $){if(En(Q))continue;const K=$[Q],q=L[Q];K!==q&&Q!=="value"&&i(N,Q,q,K,te,j.children,H,G,he)}if(L!==be)for(const Q in L)!En(Q)&&!(Q in $)&&i(N,Q,L[Q],null,te,j.children,H,G,he);"value"in $&&i(N,"value",L.value,$.value)}},W=(N,j,L,$,H,G,te,Q,K)=>{const q=j.el=N?N.el:u(""),S=j.anchor=N?N.anchor:u("");let{patchFlag:l,dynamicChildren:f,slotScopeIds:A}=j;A&&(Q=Q?Q.concat(A):A),N==null?(r(q,L,$),r(S,L,$),_(j.children,L,S,H,G,te,Q,K)):l>0&&l&64&&f&&N.dynamicChildren?(P(N.dynamicChildren,f,L,H,G,te,Q),(j.key!=null||H&&j===H.subTree)&&Ns(N,j,!0)):se(N,j,L,S,H,G,te,Q,K)},J=(N,j,L,$,H,G,te,Q,K)=>{j.slotScopeIds=Q,N==null?j.shapeFlag&512?H.ctx.activate(j,L,$,te,K):X(j,L,$,H,G,te,K):U(N,j,K)},X=(N,j,L,$,H,G,te)=>{const Q=N.component=rc(N,$,H);if(Un(N)&&(Q.ctx.renderer=Qe),sc(Q),Q.asyncDep){if(H&&H.registerDep(Q,ae),!N.el){const K=Q.subTree=lt(nt);x(null,K,j,L)}return}ae(Q,N,j,L,H,G,te)},U=(N,j,L)=>{const $=j.component=N.component;if(ua(N,j,L))if($.asyncDep&&!$.asyncResolved){Z($,j,L);return}else $.next=j,ta($.update),$.update();else j.el=N.el,$.vnode=j},ae=(N,j,L,$,H,G,te)=>{const Q=()=>{if(N.isMounted){let{next:S,bu:l,u:f,parent:A,vnode:F}=N,V=S,z;Rt(N,!1),S?(S.el=F.el,Z(N,S,te)):S=F,l&&wn(l),(z=S.props&&S.props.onVnodeBeforeUpdate)&&st(z,A,S,F),Rt(N,!0);const oe=nr(N),ue=N.subTree;N.subTree=oe,c(ue,oe,y(ue.el),qe(ue),N,H,G),S.el=oe.el,V===null&&fa(N,oe.el),f&&Le(f,H),(z=S.props&&S.props.onVnodeUpdated)&&Le(()=>st(z,A,S,F),H)}else{let S;const{el:l,props:f}=j,{bm:A,m:F,parent:V}=N,z=Sn(j);if(Rt(N,!1),A&&wn(A),!z&&(S=f&&f.onVnodeBeforeMount)&&st(S,V,j),Rt(N,!0),l&&Ke){const oe=()=>{N.subTree=nr(N),Ke(l,N.subTree,N,H,null)};z?j.type.__asyncLoader().then(()=>!N.isUnmounted&&oe()):oe()}else{const oe=N.subTree=nr(N);c(null,oe,L,$,N,H,G),j.el=oe.el}if(F&&Le(F,H),!z&&(S=f&&f.onVnodeMounted)){const oe=j;Le(()=>st(S,V,oe),H)}(j.shapeFlag&256||V&&Sn(V.vnode)&&V.vnode.shapeFlag&256)&&N.a&&Le(N.a,H),N.isMounted=!0,j=L=$=null}},K=N.effect=new Mr(Q,()=>Yr(q),N.scope),q=N.update=()=>K.run();q.id=N.uid,Rt(N,!0),q()},Z=(N,j,L)=>{j.component=N;const $=N.vnode.props;N.vnode=j,N.next=null,Ua(N,j.props,$,L),za(N,j.children,L),qt(),di(),Qt()},se=(N,j,L,$,H,G,te,Q,K=!1)=>{const q=N&&N.children,S=N?N.shapeFlag:0,l=j.children,{patchFlag:f,shapeFlag:A}=j;if(f>0){if(f&128){Se(q,l,L,$,H,G,te,Q,K);return}else if(f&256){we(q,l,L,$,H,G,te,Q,K);return}}A&8?(S&16&&he(q,H,G),l!==q&&b(L,l)):S&16?A&16?Se(q,l,L,$,H,G,te,Q,K):he(q,H,G,!0):(S&8&&b(L,""),A&16&&_(l,L,$,H,G,te,Q,K))},we=(N,j,L,$,H,G,te,Q,K)=>{N=N||Ht,j=j||Ht;const q=N.length,S=j.length,l=Math.min(q,S);let f;for(f=0;f<l;f++){const A=j[f]=K?Et(j[f]):at(j[f]);c(N[f],A,L,null,H,G,te,Q,K)}q>S?he(N,H,G,!0,!1,l):_(j,L,$,H,G,te,Q,K,l)},Se=(N,j,L,$,H,G,te,Q,K)=>{let q=0;const S=j.length;let l=N.length-1,f=S-1;for(;q<=l&&q<=f;){const A=N[q],F=j[q]=K?Et(j[q]):at(j[q]);if(Ft(A,F))c(A,F,L,null,H,G,te,Q,K);else break;q++}for(;q<=l&&q<=f;){const A=N[l],F=j[f]=K?Et(j[f]):at(j[f]);if(Ft(A,F))c(A,F,L,null,H,G,te,Q,K);else break;l--,f--}if(q>l){if(q<=f){const A=f+1,F=A<S?j[A].el:$;for(;q<=f;)c(null,j[q]=K?Et(j[q]):at(j[q]),L,F,H,G,te,Q,K),q++}}else if(q>f)for(;q<=l;)We(N[q],H,G,!0),q++;else{const A=q,F=q,V=new Map;for(q=F;q<=f;q++){const Te=j[q]=K?Et(j[q]):at(j[q]);Te.key!=null&&V.set(Te.key,q)}let z,oe=0;const ue=f-F+1;let de=!1,Ce=0;const ge=new Array(ue);for(q=0;q<ue;q++)ge[q]=0;for(q=A;q<=l;q++){const Te=N[q];if(oe>=ue){We(Te,H,G,!0);continue}let Pe;if(Te.key!=null)Pe=V.get(Te.key);else for(z=F;z<=f;z++)if(ge[z-F]===0&&Ft(Te,j[z])){Pe=z;break}Pe===void 0?We(Te,H,G,!0):(ge[Pe-F]=q+1,Pe>=Ce?Ce=Pe:de=!0,c(Te,j[Pe],L,null,H,G,te,Q,K),oe++)}const ht=de?Ga(ge):Ht;for(z=ht.length-1,q=ue-1;q>=0;q--){const Te=F+q,Pe=j[Te],dn=Te+1<S?j[Te+1].el:$;ge[q]===0?c(null,Pe,L,dn,H,G,te,Q,K):de&&(z<0||q!==ht[z]?rt(Pe,L,dn,2):z--)}}},rt=(N,j,L,$,H=null)=>{const{el:G,type:te,transition:Q,children:K,shapeFlag:q}=N;if(q&6){rt(N.component.subTree,j,L,$);return}if(q&128){N.suspense.move(j,L,$);return}if(q&64){te.move(N,j,L,Qe);return}if(te===$e){r(G,j,L);for(let l=0;l<K.length;l++)rt(K[l],j,L,$);r(N.anchor,j,L);return}if(te===or){T(N,j,L);return}if($!==2&&q&1&&Q)if($===0)Q.beforeEnter(G),r(G,j,L),Le(()=>Q.enter(G),H);else{const{leave:l,delayLeave:f,afterLeave:A}=Q,F=()=>r(G,j,L),V=()=>{l(G,()=>{F(),A&&A()})};f?f(G,F,V):V()}else r(G,j,L)},We=(N,j,L,$=!1,H=!1)=>{const{type:G,props:te,ref:Q,children:K,dynamicChildren:q,shapeFlag:S,patchFlag:l,dirs:f}=N;if(Q!=null&&Er(Q,null,L,N,!0),S&256){j.ctx.deactivate(N);return}const A=S&1&&f,F=!Sn(N);let V;if(F&&(V=te&&te.onVnodeBeforeUnmount)&&st(V,j,N),S&6)Ae(N.component,L,$);else{if(S&128){N.suspense.unmount(L,$);return}A&&Bt(N,null,j,"beforeUnmount"),S&64?N.type.remove(N,j,L,H,Qe,$):q&&(G!==$e||l>0&&l&64)?he(q,j,L,!1,!0):(G===$e&&l&384||!H&&S&16)&&he(K,j,L),$&&Ut(N)}(F&&(V=te&&te.onVnodeUnmounted)||A)&&Le(()=>{V&&st(V,j,N),A&&Bt(N,null,j,"unmounted")},L)},Ut=N=>{const{type:j,el:L,anchor:$,transition:H}=N;if(j===$e){Jt(L,$);return}if(j===or){C(N);return}const G=()=>{s(L),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(N.shapeFlag&1&&H&&!H.persisted){const{leave:te,delayLeave:Q}=H,K=()=>te(L,G);Q?Q(N.el,G,K):K()}else G()},Jt=(N,j)=>{let L;for(;N!==j;)L=o(N),s(N),N=L;s(j)},Ae=(N,j,L)=>{const{bum:$,scope:H,update:G,subTree:te,um:Q}=N;$&&wn($),H.stop(),G&&(G.active=!1,We(te,N,j,L)),Q&&Le(Q,j),Le(()=>{N.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},he=(N,j,L,$=!1,H=!1,G=0)=>{for(let te=G;te<N.length;te++)We(N[te],j,L,$,H)},qe=N=>N.shapeFlag&6?qe(N.component.subTree):N.shapeFlag&128?N.suspense.next():o(N.anchor||N.el),dt=(N,j,L)=>{N==null?j._vnode&&We(j._vnode,null,null,!0):c(j._vnode||null,N,j,null,null,null,L),di(),ps(),j._vnode=N},Qe={p:c,um:We,m:rt,r:Ut,mt:X,mc:_,pc:se,pbc:P,n:qe,o:e};let vt,Ke;return t&&([vt,Ke]=t(Qe)),{render:dt,hydrate:vt,createApp:Wa(dt,vt)}}function Rt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ns(e,t,n=!1){const r=e.children,s=t.children;if(le(r)&&le(s))for(let i=0;i<r.length;i++){const a=r[i];let u=s[i];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[i]=Et(s[i]),u.el=a.el),n||Ns(a,u))}}function Ga(e){const t=e.slice(),n=[0];let r,s,i,a,u;const m=e.length;for(r=0;r<m;r++){const E=e[r];if(E!==0){if(s=n[n.length-1],e[s]<E){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)u=i+a>>1,e[n[u]]<E?i=u+1:a=u;E<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}const qa=e=>e.__isTeleport,$e=Symbol(void 0),qr=Symbol(void 0),nt=Symbol(void 0),or=Symbol(void 0),rn=[];let et=null;function re(e=!1){rn.push(et=e?null:[])}function Qa(){rn.pop(),et=rn[rn.length-1]||null}let un=1;function Si(e){un+=e}function Is(e){return e.dynamicChildren=un>0?et||Ht:null,Qa(),un>0&&et&&et.push(e),e}function ie(e,t,n,r,s,i){return Is(ne(e,t,n,r,s,i,!0))}function Ka(e,t,n,r,s){return Is(lt(e,t,n,r,s,!0))}function Ja(e){return e?e.__v_isVNode===!0:!1}function Ft(e,t){return e.type===t.type&&e.key===t.key}const Ln="__vInternal",Fs=({key:e})=>e!=null?e:null,An=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ne(e)||De(e)||fe(e)?{i:Ze,r:e,k:t,f:!!n}:e:null;function ne(e,t=null,n=null,r=0,s=null,i=e===$e?0:1,a=!1,u=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fs(t),ref:t&&An(t),scopeId:jn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return u?(Qr(m,n),i&128&&e.normalize(m)):n&&(m.shapeFlag|=Ne(n)?8:16),un>0&&!a&&et&&(m.patchFlag>0||i&6)&&m.patchFlag!==32&&et.push(m),m}const lt=Xa;function Xa(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Ra)&&(e=nt),Ja(e)){const u=kt(e,t,!0);return n&&Qr(u,n),un>0&&!i&&et&&(u.shapeFlag&6?et[et.indexOf(e)]=u:et.push(u)),u.patchFlag|=-2,u}if(lc(e)&&(e=e.__vccOpts),t){t=Za(t);let{class:u,style:m}=t;u&&!Ne(u)&&(t.class=Rr(u)),Ee(m)&&(as(m)&&!le(m)&&(m=Oe({},m)),t.style=Br(m))}const a=Ne(e)?1:da(e)?128:qa(e)?64:Ee(e)?4:fe(e)?2:0;return ne(e,t,n,r,s,a,i,!0)}function Za(e){return e?as(e)||Ln in e?Oe({},e):e:null}function kt(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:a}=e,u=t?ec(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Fs(u),ref:t&&t.ref?n&&s?le(s)?s.concat(An(t)):[s,An(t)]:An(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kt(e.ssContent),ssFallback:e.ssFallback&&kt(e.ssFallback),el:e.el,anchor:e.anchor}}function zn(e=" ",t=0){return lt(qr,null,e,t)}function ce(e="",t=!1){return t?(re(),Ka(nt,null,e)):lt(nt,null,e)}function at(e){return e==null||typeof e=="boolean"?lt(nt):le(e)?lt($e,null,e.slice()):typeof e=="object"?Et(e):lt(qr,null,String(e))}function Et(e){return e.el===null||e.memo?e:kt(e)}function Qr(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(le(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Qr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ln in t)?t._ctx=Ze:s===3&&Ze&&(Ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:Ze},n=32):(t=String(t),r&64?(n=16,t=[zn(t)]):n=8);e.children=t,e.shapeFlag|=n}function ec(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rr([t.class,r.class]));else if(s==="style")t.style=Br([t.style,r.style]);else if(Nn(s)){const i=t[s],a=r[s];a&&i!==a&&!(le(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function st(e,t,n,r=null){Ge(e,t,7,[n,r])}const tc=Os();let nc=0;function rc(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||tc,i={uid:nc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new bo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ks(r,s),emitsOptions:gs(r,s),emit:null,emitted:null,propsDefaults:be,inheritAttrs:r.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ia.bind(null,i),e.ce&&e.ce(i),i}let Re=null;const ic=()=>Re||Ze,Gt=e=>{Re=e,e.scope.on()},jt=()=>{Re&&Re.scope.off(),Re=null};function Ps(e){return e.vnode.shapeFlag&4}let fn=!1;function sc(e,t=!1){fn=t;const{props:n,children:r}=e.vnode,s=Ps(e);ja(e,n,s,t),La(e,r);const i=s?oc(e,t):void 0;return fn=!1,i}function oc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=cs(new Proxy(e.ctx,Na));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?cc(e):null;Gt(e),qt();const i=Ct(r,e,0,[e.props,s]);if(Qt(),jt(),$i(i)){if(i.then(jt,jt),t)return i.then(a=>{Ai(e,a,t)}).catch(a=>{Mn(a,e,0)});e.asyncDep=i}else Ai(e,i,t)}else Ms(e,t)}function Ai(e,t,n){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=ls(t)),Ms(e,n)}let Ci;function Ms(e,t,n){const r=e.type;if(!e.render){if(!t&&Ci&&!r.render){const s=r.template||$r(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:u,compilerOptions:m}=r,E=Oe(Oe({isCustomElement:i,delimiters:u},a),m);r.render=Ci(s,E)}}e.render=r.render||tt}Gt(e),qt(),Ia(e),Qt(),jt()}function ac(e){return new Proxy(e.attrs,{get(t,n){return He(e,"get","$attrs"),t[n]}})}function cc(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=ac(e))},slots:e.slots,emit:e.emit,expose:t}}function Hn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ls(cs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Rn)return Rn[n](e)}}))}function lc(e){return fe(e)&&"__vccOpts"in e}const uc=(e,t)=>Xo(e,t,fn),fc="3.2.39",dc="http://www.w3.org/2000/svg",Pt=typeof document<"u"?document:null,xi=Pt&&Pt.createElement("template"),hc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Pt.createElementNS(dc,e):Pt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{xi.innerHTML=r?`<svg>${e}</svg>`:e;const u=xi.content;if(r){const m=u.firstChild;for(;m.firstChild;)u.appendChild(m.firstChild);u.removeChild(m)}t.insertBefore(u,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function pc(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function mc(e,t,n){const r=e.style,s=Ne(n);if(n&&!s){for(const i in n)wr(r,i,n[i]);if(t&&!Ne(t))for(const i in t)n[i]==null&&wr(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const _i=/\s*!important$/;function wr(e,t,n){if(le(n))n.forEach(r=>wr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=gc(e,t);_i.test(n)?e.setProperty(mt(r),n.replace(_i,""),"important"):e[r]=n}}const ki=["Webkit","Moz","ms"],ar={};function gc(e,t){const n=ar[t];if(n)return n;let r=xt(t);if(r!=="filter"&&r in e)return ar[t]=r;r=Qi(r);for(let s=0;s<ki.length;s++){const i=ki[s]+r;if(i in e)return ar[t]=i}return t}const Ti="http://www.w3.org/1999/xlink";function yc(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ti,t.slice(6,t.length)):e.setAttributeNS(Ti,t,n);else{const i=ao(t);n==null||i&&!Hi(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function vc(e,t,n,r,s,i,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const m=n==null?"":n;(e.value!==m||e.tagName==="OPTION")&&(e.value=m),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const m=typeof e[t];m==="boolean"?n=Hi(n):n==null&&m==="string"?(n="",u=!0):m==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}const[Ds,bc]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Sr=0;const Ec=Promise.resolve(),wc=()=>{Sr=0},Sc=()=>Sr||(Ec.then(wc),Sr=Ds());function zt(e,t,n,r){e.addEventListener(t,n,r)}function Ac(e,t,n,r){e.removeEventListener(t,n,r)}function Cc(e,t,n,r,s=null){const i=e._vei||(e._vei={}),a=i[t];if(r&&a)a.value=r;else{const[u,m]=xc(t);if(r){const E=i[t]=_c(r,s);zt(e,u,E,m)}else a&&(Ac(e,u,a,m),i[t]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function xc(e){let t;if(Bi.test(e)){t={};let r;for(;r=e.match(Bi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mt(e.slice(2)),t]}function _c(e,t){const n=r=>{const s=r.timeStamp||Ds();(bc||s>=n.attached-1)&&Ge(kc(r,n.value),t,5,[r])};return n.value=e,n.attached=Sc(),n}function kc(e,t){if(le(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ri=/^on[a-z]/,Tc=(e,t,n,r,s=!1,i,a,u,m)=>{t==="class"?pc(e,r,s):t==="style"?mc(e,n,r):Nn(t)?Or(t)||Cc(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bc(e,t,r,s))?vc(e,t,r,i,a,u,m):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),yc(e,t,r,s))};function Bc(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Ri.test(t)&&fe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ri.test(t)&&Ne(n)?!1:t in e}function Wn(e,t){const n=ba(e);class r extends Kr{constructor(i){super(n,i,t)}}return r.def=n,r}const Rc=typeof HTMLElement<"u"?HTMLElement:class{};class Kr extends Rc{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,ds(()=>{this._connected||(Fi(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const t=r=>{const{props:s,styles:i}=r,a=!le(s),u=s?a?Object.keys(s):s:[];let m;if(a)for(const E in this._props){const b=s[E];(b===Number||b&&b.type===Number)&&(this._props[E]=on(this._props[E]),(m||(m=Object.create(null)))[E]=!0)}this._numberProps=m;for(const E of Object.keys(this))E[0]!=="_"&&this._setProp(E,this[E],!0,!1);for(const E of u.map(xt))Object.defineProperty(this,E,{get(){return this._getProp(E)},set(b){this._setProp(E,b)}});this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=on(n)),this._setProp(xt(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,s=!0){n!==this._props[t]&&(this._props[t]=n,s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(mt(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(mt(t),n+""):n||this.removeAttribute(mt(t))))}_update(){Fi(this._createVNode(),this.shadowRoot)}_createVNode(){const t=lt(this._def,Oe({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(s,...i)=>{this.dispatchEvent(new CustomEvent(s,{detail:i}))};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Kr){n.parent=r._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}const Oc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};va.props;const Oi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?n=>wn(t,n):t};function Nc(e){e.target.composing=!0}function Ni(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sn={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=Oi(s);const i=r||s.props&&s.props.type==="number";zt(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;n&&(u=u.trim()),i&&(u=on(u)),e._assign(u)}),n&&zt(e,"change",()=>{e.value=e.value.trim()}),t||(zt(e,"compositionstart",Nc),zt(e,"compositionend",Ni),zt(e,"change",Ni))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=Oi(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&on(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},Ic=Oe({patchProp:Tc},hc);let Ii;function Fc(){return Ii||(Ii=Ya(Ic))}const Fi=(...e)=>{Fc().render(...e)},Jr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABFElEQVQ4je2TTUrDUBRGz5ek065AN+ECTFId2KEgVhBEHFTBbbgFJ0WLCEKLOFRHNq0L6CL82YBTm3cdaEsbEmzTac/s3cc977twH6xYFkVJ4wpxDPhz9qRC7STqNPMugwVlAL5hJ8CMsPba2HCm3WBB2UQ6fYiS/e3U8SCs6pWQzRAPGkdIT4IqQL5Q9uilbg0L1oHnIlk0ODg34waojGv5Qlc5623df/bjuw8nnRYJZRYCmq4tPXKWIP/pUStKDpvOS+WZa2VCTDBpgNnedMqihHU0evfM3kA7RWn6YedSv2v3/Z9wbpKweyunusHXWJiW8Mz0JLXOi+8RI10EQu2/zZ/76xlcZ4u9ze4QGJYItyLDD9x1UbGriRMcAAAAAElFTkSuQmCC",Yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACD0lEQVQ4jbWTPWsUURiFn/fO7C5CLETslCgSSKN2AUFUEEFB3NmZrGAKBQ1qrWClEAsLwcLCShFEJAHX2Q+FWMQUWopNImjAJv4AuxDNTnaOhWyc7G42GvB089wz575n7h34n1otlc40w/DdShSd28iTlErHOtnPINi/XCzuAXBrxjC8kZo1gKMmPfkRBHt7BQrGkzC82X5eiaJh53kvne/nAAygGUUXkZ6uf1OzuVrtpIHW4XLZS1qtZwZzqdkrgynB+UIcL/yZULrUNYrZiSQMr3ThSqWV87wLwGEnzWTDspUXe9UD7vSCzTQdEgwCH510Nrvmfg+oxgaBXzvBShQNmzQpszHf80YFh7Lf1AHkfb+B2aeuetKtLpamD2U2VojjhXZ9SQfap29t42oQnE6dm842QxrJ12pzG0zfU2vXxq/X3wCTmbU8Zo3lMNy9pUCAnOddRfqcQYM+zKhc3rWlQKtUluRcBHzP4OGk1Xrf/hM2k/WCzSAYwbm3wPYM/oZUNM/boTS9CwwBt3PV6qPs5e8ZCJCMjh5Xmr4GBrJ7Afl1Rmm2JY1vq9cX+wZmJp0GdvbzAUsyu1yI4xeunytfr3+Q2RHgyyaBAyZdg45D6aVCHC/kPG8EaaqPLXVm92GTyp1KSqVTMrsHHMxgAdfz1eqDfw4E0MSEa87PF00qYrZPZo8Lcfz8X3P+Wr8ABB/HFBvq4VkAAAAASUVORK5CYII=",$n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABx0lEQVQ4ja2UsWsTURzHP79312tS6JjapVOnLjrUTcSL7f0BDqkVLG4ddBZBQTo5+CcUJ4XWkqVzSMkVBSlUEMFRnRMHU7CNMXfv53BJCLF3zRW/03vfd98P3/ce9+A/SwYDv1GZV3ECIxTzAKzScSOpHazuNodAv1GZR8xnoHSZVoq23Mi5erC62zQAKk5wWVjSSuZiJw4AXAAjFFVTv/+E6H5SRe4A186FGjMzBKZJYUe0+SD0wwhg+Xjzxeyvk9fAelrGZPAi0e6jsJzAAD5e3+5FjvMQiNJCqUCFb2F5vz3uv7+58xP4nhsosLB8vDk17le+VDxgITcQKM6etp+Om60f5hlQSAtlXgoqW+Xw7qJFq0lrswZ6PyuSDQQUNgTZGM4u0IVAoAd87Y8XgX/OdVRZZ9hB5bHbs6XQ31sK/b0lt2dLgj4BOnkbnoqVlcbtt0ejZj2ongAvb4WVd2DqAjMTNRR4Pg4b1aFf/QBsnbdmIHmCRrxuoeC+SoMNNNWz2wp/BnO19gz6W3YjqUWubQkyB7R/d+P18mHq7wpAnFDaJJmm503X+rtLtFK/dyV24mDwakwqtfbM86ZrtRtvWnlyE+svrTqU8LdDK/8AAAAASUVORK5CYII=",Gn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABjUlEQVQ4ja3UvU4bQRDA8f/s3dknYsq8BwVSBCZFFIlA3GCv3eRR6KGjdkOZIhL+KCInllwgmkgpoiChPEBaN0hACOfV7VCALWTHPux4utXM/rQ7s3ew5JCsgoG1r/D+QOE4325/yqoPZyVdtfpavf+CSEFgBcgEzVSsUimq9x2gAIBILgubCrpKpajwFVh9DjITdOXy1qIYQJhYa0V1G7j1qnUV6QIvFsEAQlH9CMSInBv4lYUN9vbWIud+S6dzCeDK5Y0wDC/k5OQGHqYcP9amiBhUZ55ARF66fL6utVop8b6oqvskyfbohPNeKWq3e3fWxi5NTw3cRkFQklbrepif+mwWjblBZ+07o7ofBcEbL3Lo0rSjtVphmA+BOx76GKDqs0CFfpQk7x+H8nlgbZ84HjU+VPggsAP88SJnRvWG4dfxj8g1mz/H1t+frid+Dq5a3VTvu4w/bJEfuWZzPesGEz2MGo1vYswOqldZm58FjtAg2F0EnTrlCVT173+BQxRj3gI9FTma56RLi3t9VZbFYnefggAAAABJRU5ErkJggg==",qn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABmUlEQVQ4ja2TTU/UUBSGn3N7Z2x0XPo/XJgYZySdQgIoS9Nmwk9hDzvXbFwSKHEn4SMhaTvGkLgwmhh/gFs2JIowDNweF6aEANMyI+/u5Jz75L3nA+5ZUlcQpr3n6ukyBe/ycDOpq7dVySDvTSm6g9JC5CFQCzSjncUdQbeBFgBCsw42EhimcUeN7AKP7wKpBHaz6OWkMAAbpvGbwsisCCeeYdU59oBHk8AArBpZE/BRvrkLfiDVsG4WPb2wjZ+fptaPAII8eiHK9zx8fwz/puwDIOJEMKpa6UDFPrHOrc4dRAuDoXQEWTpvnM5eOhz3S/3uxn6Qx/5gaDKBkwfNYiFvf/hd5keuzaQaGxim8ZwgS36zCBVdORua7W4Wtcq8BQaAj6qnSlF3jM4zh4Uxr/P25hGwFaa9w8a5f9l4q8gi6LxB/zhj+0bdMeV13KKPQfL1apxNJ5+vxjf8TPd77UJ1j+uLLfIlD5Jn1f5v6WEaJAdGZF7hV93jOwFLqCfyahLoyCnfgCqn/wUsoaIyA7qPFm/Hsnpf+gvLXZRbns8R7AAAAABJRU5ErkJggg==",Qn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABYElEQVQ4jdXUz0pVURQG8J//oEapVwQnDRqk4wTJuTNFpIGIPkHQAxQoBjXQsc+gIggqKBgoPoBWzoyQomGz2+yCSg72Em+3vW8qTVyw4Jz9fevb+9tnrcN/jpYm2AReobNhvYolbN1moyEcoCuDdQc2VDphBe/xDG2x3osRfC1s2I89/Iz3C3zCLGxivE6sMTowENle4LRJV7QBRwXSQyziM5axEs8LeFCoOWptIraDb5L11RAcwY/AsqIlwbdYw3fsYjDyA06xjvlC7V+WOyRrPTjEozqsM/iV4DTeadbyE5zgObbxqw6rxtowvgT3j8gJ/s4byXKy3JLlSmD1k9Ll2vKxjOVcX51Jlz+JN1IDbwc2hteYkr70+U1OSGqJfbyM04xFVqT53pNvm2If1jCKx1E8jZnYpC/Ea4Vam9LYlEavXZrdp5qP3gtsXP0c3kmNWxL9V1zgI+buWH+f4xKFC0baKicJqAAAAABJRU5ErkJggg==",Kn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAB3klEQVQ4jd2UMWsUURSFv/NmJOkSENJIigQRtNQQgm2iLLoDLoJFKn+A4B9QiETQ3j9go2AhKLsKgbVVESLYJCAkjRZiYzoNmXnHwqcsu2/AwspTXe5957xz77sz8I+htkJVVVeAG5JmR/O2D4AH/X7/+V8LdrvdZUmvgaLlvsb2+cFg8G5CsNfrHW+a5q7ts5KK5GIemGtzn/BV0qd0vpH0viiKW2Vd1w+BbirkiEfAXopPAmWK52z/udT2cl3XJ0rgQouD75I2Yoxbks4k0o6kDrABTGc4FwMw1SJ2GViQNATWgXVJQ0nzki4BPzK8qZCzJmkDuGZ7McbYkbQtaTvG2LF9CrgK3Mlxy0zuKLU5jDF2QgivbM8AhBBuxhjXQghbtlclbY5r5Bzup5m9LYqiAmZGarOSusCbEMJpSfvj5AlBSa3LPnoMwPbE2QlB2wu2d4CVpmn6wMFI+ZvtAbASY9wFFsb5uRkek9SR9CSEcC/GuJbaxPZA0n3gcdqCCX72lfm1Z08lfQwhbElakrSU4l3gGXA7RwzAYSY/bful7c+2V5OjRyn+Arwgv9iHqqqqT/r0WlADe5JkezHX5gj6ZVmW1+u63gTO/f45tEHSh1zedgNsl2WZHcN/jp+VGrv3WV2zAQAAAABJRU5ErkJggg==",Pc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACoUlEQVQ4ja2TwYtTVxTGf+cmLwEFKxoXtmqgdNmOFFopFtOC2gFhCHmZzLIttAzIoH9LXagQkILQxTC8lwk6ShCpMyuVlkLTTaEba+tG6zAbJXne+3UxL0HHmTYLv+0593e/79x74A3Ldipks7PH5f0cZjXBwbz5EbAGLJbS9O5EwOdxXHVml036AumOOdcLITwEcGZHBNPA54Kb3vuzu7rdhzsCh3H8MXAN+F3SQrnT+W07F4Nmc8qki4L3zGymlCQ/vQZ8HsfVAtwDelGl8q2125kajf2Zc02k9wGQ+lGxmNjS0lPNz0fZkydXBKe998dGTu2lW2+YtDuqVE5Zu50N4/hr4DvgrS0GN5DOlzqdq5qfj7LHj2/LuY1yksyMgdns7HGFsCbvPyx3u/0c9v12cceSvip1Olfz+L8An5bS9K4DkPdzSHfK3W5fjcb+3Nl/y+yCWq195ST5FVjFbA7A5cUT5lwPIHOuuU3M7bQ38z4GMKkH1ACKefFQgAd5lA8mgI00BRDgAdI7Y4eCgDR6IE2MkwIAztnonIPNDXBQzZv6EwPN+jmkavD3GAis5RtAVCwmwMYEsPVoMEgBFMI00trLwEXgs0GzOWVLS0+Rzv8fTyGcs5WV9WGjcRSzGtJinnZTgzi+btKe6MCBk9ZuZ8NG40vMLgB7tzpTCOfKnc4P+bb8aPBPlKb1V4DP6vXDhULhvsGtqFL5xtrtTK3Wvsz7GLPNl5f60WCQ2MrKulqtUvbixRWZnfRwbFea/vUKEGDYbH4k6ZrBHzJbyD/ta8pjXhS8ayHMlJaXfx4H2Nr8rF4/XCgWL5l0Blg1qRec+zMfeFUhTGNWM7iewcLI2Y7AsYs4/iRfp5qktzfHZ48IYRVpsbS8fH+ns29U/wIA+TUeGvfQwAAAAABJRU5ErkJggg==",Mc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACYElEQVQ4jZWUvWuTURSHn3OTt2lT6gcitBVxsFDEQXfJH+DQj6RRWxxFlKKLS0EXBxcpuKiLuKktko+XZskqfswWRFpBHBSs0upQtS9p0vfnktS0edPWM13uOee559z7u8fYxXT27L71ZLIfoCOZ/GJPnvzZKd4AKpnMbaTnCd9fANC5c/trGxvXBVng1NYMmzcpFw+CB1Yur0YD0+kTZjYraQKzk2b2COngLsWvSJpM+H6uBdgEnQMGmvd3MZnZlFcoTDc23ObCrBe4KPi+RxiASbpbyWSyWypUOn2oavYBWCQMb8i5OYPe/wAve0EwYOXyqgOoOXcVOAScwbl7FoYjgm9NCZ8FSzsAD9e6uq5BvWVJ403OrVCzSx3F4rFEsdhvUgr4EkWsKwLT6OiBqnM/aX2INzK7YtIzSRMNSVWz2ZTC8GUU0+vu7nHrZn0RMATHE4XC+zAWu2DOzVTGxk4CePn8qzbtW+X37yNOsLHD3dCZy30InRs3eNqAunY5zsk0PNxTjcdbFA9gUsrz/dfwT/zAfeBxZMu12n5npdIvzOajgDKbqWazKYCE7y/I7KLgTptm5q1U+hWvV5ITnI4IOqowfFnJZJbqcZ8Iw5EonRrkoC6beBA8AFbanIxBn0Ef7XX6Ix4EDzeBVi6vSpoE1A7aZNuhElxuTJ7Nv5zw/ZyZTf0XFIaBj0iLDYdrjvIKhWnBeWB5D9BBc65b0oiZzVbS6RMtQIBEsZj3gmDA4BbwdptbmL0zuOnFYoNePv8i4fsLkiaAcdjD3NPQULLS2XnUwtA61ta+Rk3pZvsLe9YIjA9iThoAAAAASUVORK5CYII=",Dc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABOElEQVQ4jc2UMUtCYRSGn/PdCiQpKMKgaK6hlghBoisYNAeZ9AOE/kZ7Q2PUL5A7NAcFXQcposnFORAyKChMpfA7LSUkdb12hXrG8x2e7z3DOfDfkZ8eMmebk9aMzKrolKiMAqjoi+M497y2qufrJw+BwjU/uyhqdkVYRpkHxnuEeUKoqHKjYg+LrlfuCDPFnaW2tZdArM8JP2lascmi65UNQFttPoIMIOaoyQMYAFESAc0aUjrdEQahkFQohZT2FvrpwrXvFlYVthVuIwsBENRPF7yxeGMBlT2gFU3YB0OhuhRx/dzWc519EZ2LJHQvciv4HAikBpJQ4IqAFe3GAKhQC3aG4q4jtNgjhUbYFN0oNNpij7/8PtDj8B0bpexE840ZYyUBxD/KdWu0FhumepryHn870d/yDu+TcMMbTDGzAAAAAElFTkSuQmCC",jc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVQ4jdWTK04DURiFv3On04SHGV6WBZCQGkxNKwmTVNRj2AIKVNkBC8AhEE1QjEF1CYTQDWAbMggegWn/iyidtEAHSjAcee5/vvzn5l5RIF+vl7Io2sD7EgBSP0zTrjqd/rRMqQiYRdEJUoj08G4tZktLL8DetIzybVotl11dbQJBfurcKWa7E4nP3iCsVK7VatkkMI6jrFw+R6oXbf1J3nfC19emkiQFcPmqSZLi3NlMsOHGZyPYBPCv9L+BPUENKb8fpFRQA3q/Aa4aHOD9DnAH3MusAewDq9NChQ9bsO1h4JxrAJjZoSAuyhQCASRVfb//BKAgqOJ94fx3wGFN544MyhrWvwCWfwN8lHPxqKaAUX1vdgkszAqUNzsWbOUGxN5sjbEvOwtwnjHYmL7ycv2znyLvu8BghvxA0s0E4+PEc7O5Hpit/IgWhr25dvt23HsDxO9yGjfOZdYAAAAASUVORK5CYII=",Uc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACUUlEQVQ4jc2Uv4vdRRTFP3PunSe6u+zGH2kE9xGzBC38E0SwVrfSTlKIVlZaWGzxQO1sLRaJSkCEQDRiJRIClmIdQSWJEkSMrPmx2d2Z+c58Ld7b56LfJbCFeJp778zh3MMtDvzfEXpejbuLi+s1hGNVRkEUm1VFGlAsUjCqRMEoNqsSbTZ3+J/HVsefh92lN94qcAH4oyks3ZzvWubWfrsCN/ebGeZ/wHZ56I5i90iJ9rwniVpdaRQ2Gna533eJCDZ1WbIhRLFAm7kEUW3qsvf6ZNZoM/UKnuWUYM9G843jNybbR7nbmVNfLNWWT1cFlHCy3O4u0B1FDEBpq2TJshwV85Lkg8SePnz12PvPfX1ic/leokWRZBFV4nediWsDpIuPfrBWg6/u9Pb6+fFHpydMNCT2M2OyRJbQ3kglKQ5u3Tb3Iv/lhauvvLPr8dsTJ9feO/vU2YVBhzhJjlLV0wkBq/8iZWAHm/d7h5wGIFkk43g2pwvDxObWFfPxh2ufbnTY9V9/uPzmhEkbFJSoQXhSpJMxJPnSlZd/PHPy3KnawjevXXnx1gBlijHk25EuCO/kJDQoGAg9P/HloUIzXAMWEAXHs0QJXm88sHD4ge4BlRizj2rphSc5ne672KW9tz9+/JPvi0WaoBDnQVBnQXAwGNqBuWZ7ojQ2k2vdM5EcWu93/d07D3dLUIEV/g6JBjRuszwfE0Cbvu8srtCpfNbt3n+8t74Pl5655Fev/7ZeZA8WGRXN42rfVTsQV/Uf8VWYRlw229oa/X7hqGf77/AXgQ384L65jNkAAAAASUVORK5CYII=",Jn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABmJLR0QA/wD/AP+gvaeTAAABBElEQVQokbWPsU4CQRRFz93diRU22PgPJPyA32AC4QtMrOwlWllqorUmJtLYYSD+gm5rRaMJFPbEQitZdp4FsGtwxaXwVvfOvDPvjiiQNRrVBHYJAof3iYuie3W7b8tzQRGcSEeCZ9L0SWH4kqTpcdGcFuaz2TwTtGarbQtpnFfJs8HdRq/XBoiyeymW2eHsSQFs5ivybFK8snZZ/Qt8AIzmfjTPPxQVHQKnBvuY7SHdCK7XgSuCtptOdxLnYqCyTu1Xg/OJc0MzuwCGpWFBR3Al2JZ0KbgtXdvg5PsXlvKftUspg0PpowwQev++8FntqFZ7mAwGLUH1N9C8H7t6/ZF+H4AvBnpOIAEHayQAAAAASUVORK5CYII=",Vc=`.videoStream video[data-v-3c86f7ba]{width:100%;height:100%;position:relative;border:none;margin:0 auto;overflow:visible;border-radius:8px}.videoStream .controls[data-v-3c86f7ba]{position:initial;bottom:0;right:0;margin-right:20px;margin-bottom:10px}.videoStream .controls button[data-v-3c86f7ba]{border:0 none;padding:11px 12px;margin-right:6px}.container[data-v-3c86f7ba]{position:relative;width:50%}.container canvas[data-v-3c86f7ba]{width:100%;height:auto;border-radius:5px}.material-icons.md-18[data-v-3c86f7ba]{font-size:18px}.material-icons.md-24[data-v-3c86f7ba]{font-size:24px}.material-icons.md-36[data-v-3c86f7ba]{font-size:36px}.material-icons.md-48[data-v-3c86f7ba]{font-size:48px}
`,Xn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Lc={name:"webrtcstream",inheritAttrs:!1,data:function(){return{localStream:null,isStreaming:!1,isJoined:!1,SHButton:!1,recordedVideo:[],isrecordedVideo:!1,recording:!1,mediaRecorder:null,webcamVideo:null,SHButton:!1,isShare:!1,stream:null,muteBtn:!1,hideCamBtn:!1}},props:{videowidth:{type:[String,Number],default:450},videoheight:{type:[String,Number],default:250},isaudio:{type:Boolean,default:!0},audiobitspersecond:{type:[String,Number],default:128e3},videobitspersecond:{type:[String,Number],default:25e5},mimetype:{type:String,default:"video/webm;codecs=vp8,opus"},isStartStream:{type:Boolean,default:!0},isStoptStream:{type:Boolean,default:!0},doscreenshot:{type:Boolean,default:!1},dorecording:{type:Boolean,default:!1},dosharescreen:{type:Boolean,default:!1}},methods:{startCall:function(){this.isStreaming=!0,this.localStream=navigator.mediaDevices.getUserMedia({video:{height:this.videoheight,width:this.videowidth},audio:!0}).then(function(e){this.$refs.localVideo.srcObject=e,this.$refs.localVideo.play(),this.localStream=e}.bind(this)).catch(function(e){console.log(e)})},stopStreaming:function(){this.isStreaming=!1,this.$refs.localVideo.srcObject?(this.$refs.localVideo.srcObject.getTracks().forEach(e=>{e.stop()}),this.$refs.localVideo.srcObject=null,this.noSrc=!1):alert("there is no streaming")},screenShot:function(){this.localStream?(this.SHButton=!0,this.$refs.canvas.width=this.videowidth,this.$refs.canvas.height=this.videoheight,this.$refs.canvas.getContext("2d").drawImage(this.$refs.localVideo,0,0,this.videowidth,this.videoheight)):alert("error")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videowidth,this.videoheight),this.SHButton=!1},startRecording:function(){this.recordedVideo=[];let e=[];e=this.recordedVideo;var t={audioBitsPerSecond:this.audiobitspersecond,videoBitsPerSecond:this.videobitspersecond,mimeType:this.mimetype};let n=this.$refs.localVideo.srcObject;this.localStream?(this.mediaRecorder=new MediaRecorder(n,t),console.log("the mediarecorder"+this.mediaRecorder),this.recording=!0,this.isrecordedVideo=!0,this.mediaRecorder.ondataavailable=function(r){if(r.data&&r.data.size>0){e.push(r.data);return}},this.mediaRecorder.start()):alert("there is no streaming pls start streaming first")},playStream:function(){if(this.mediaRecorder!=null){const e=new Blob(this.recordedVideo);this.$refs.webcamVideo.src=URL.createObjectURL(e),this.$refs.webcamVideo.controls=!0,this.SRButton=!0,this.$refs.webcamVideo.play()}else alert("there is no recorded video to be displayed")},playStreamDelete:function(){this.$refs.webcamVideo.src!=null?(this.$refs.webcamVideo.src=null,this.$refs.webcamVideo=null,this.SRButton=!1):console.log("error")},stopRecording:function(){this.mediaRecorder!=null?(this.mediaRecorder.stop(),this.recording=!1):alert("it is not recording")},ShareScreen:function(){this.joined=!0,this.isShare=!0,this.stream=navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:this.videowidth,height:this.videoheight}}).then(function(e){this.$refs.shareScreen.srcObject=e,this.stream.getVideoTracks()[0],this.$refs.shareScreen.srcObject=e}.bind(this)).catch(function(e){alert(e)})},stopShareScreen:function(){this.isShare=!1,this.$refs.shareScreen.srcObject&&(this.$refs.shareScreen.srcObject=null,this.stream=null)},doMute:function(){this.muteBtn=!0,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!0}},mounted(){}},ze=e=>(sa("data-v-3c86f7ba"),e=e(),oa(),e),zc={class:"videoStream"},Hc={key:0,class:"remote-stream",ref:"localVideo",id:"localVideo"},Wc={class:"controls"},Yc=ze(()=>ne("img",{src:Jr},null,-1)),$c=[Yc],Gc=ze(()=>ne("img",{src:Yn},null,-1)),qc=[Gc],Qc=ze(()=>ne("img",{src:$n},null,-1)),Kc=[Qc],Jc=ze(()=>ne("img",{src:Gn},null,-1)),Xc=[Jc],Zc=ze(()=>ne("img",{src:qn},null,-1)),el=[Zc],tl=ze(()=>ne("img",{src:Qn},null,-1)),nl=[tl],rl=ze(()=>ne("img",{src:Kn},null,-1)),il=[rl],sl=ze(()=>ne("img",{src:Pc},null,-1)),ol=[sl],al=ze(()=>ne("img",{src:Mc},null,-1)),cl=[al],ll=ze(()=>ne("img",{src:Dc},null,-1)),ul=[ll],fl=ze(()=>ne("img",{src:jc},null,-1)),dl=[fl],hl=ze(()=>ne("img",{src:Uc},null,-1)),pl=[hl],ml={class:""},gl={key:0,class:"container",id:"container"},yl={ref:"canvas"},vl=ze(()=>ne("img",{src:Jn},null,-1)),bl=[vl],El={key:1,class:"media_v",ref:"webcamVideo",autoplay:"",playsinline:"",style:{"border-radius":"8px"}},wl={key:2,class:"media_v",ref:"shareScreen",autoplay:"",playsinline:""},Sl=ze(()=>ne("img",{src:Jn},null,-1)),Al=[Sl];function Cl(e,t,n,r,s,i){return re(),ie("div",zc,[e.isStreaming?(re(),ie("video",Hc," thier video ",512)):ce("",!0),ne("div",Wc,[e.isStreaming?ce("",!0):(re(),ie("button",{key:0,onClick:t[0]||(t[0]=(...a)=>i.startCall&&i.startCall(...a)),title:"start stream"},$c)),e.isStreaming?(re(),ie("button",{key:1,onClick:t[1]||(t[1]=(...a)=>i.stopStreaming&&i.stopStreaming(...a)),title:"start stream"},qc)):ce("",!0),e.isStreaming&&n.doscreenshot?(re(),ie("button",{key:2,onClick:t[2]||(t[2]=(...a)=>i.screenShot&&i.screenShot(...a)),title:"selfie"},Kc)):ce("",!0),e.isStreaming&&!e.muteBtn?(re(),ie("button",{key:3,id:"muteBtn",onClick:t[3]||(t[3]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},Xc)):ce("",!0),e.isStreaming&&e.muteBtn?(re(),ie("button",{key:4,id:"muteBtn",onClick:t[4]||(t[4]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},el)):ce("",!0),e.isStreaming&&!e.hideCamBtn?(re(),ie("button",{key:5,id:"hideCamBtn",onClick:t[5]||(t[5]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},nl)):ce("",!0),e.isStreaming&&e.hideCamBtn?(re(),ie("button",{key:6,id:"hideCamBtn",onClick:t[6]||(t[6]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},il)):ce("",!0),this.isStreaming&&n.dorecording?(re(),ie("button",{key:7,onClick:t[7]||(t[7]=(...a)=>i.startRecording&&i.startRecording(...a)),title:"start recording"},ol)):ce("",!0),this.isStreaming&&this.mediaRecorder?(re(),ie("button",{key:8,onClick:t[8]||(t[8]=(...a)=>i.stopRecording&&i.stopRecording(...a)),title:"stop recording"},cl)):ce("",!0),this.isStreaming&&this.mediaRecorder?(re(),ie("button",{key:9,onClick:t[9]||(t[9]=(...a)=>i.playStream&&i.playStream(...a)),title:"play record"},ul)):ce("",!0),this.isStreaming&&this.mediaRecorder?(re(),ie("button",{key:10,onClick:t[10]||(t[10]=(...a)=>i.playStreamDelete&&i.playStreamDelete(...a)),title:"delete record"},dl)):ce("",!0),this.isStreaming&&n.dosharescreen?(re(),ie("button",{key:11,onClick:t[11]||(t[11]=(...a)=>i.ShareScreen&&i.ShareScreen(...a)),title:"sharescreen"},pl)):ce("",!0)]),ne("div",ml,[e.isStreaming?(re(),ie("div",gl,[ne("canvas",yl,null,512),e.isStreaming&&this.SHButton?(re(),ie("button",{key:0,class:"btn",onClick:t[12]||(t[12]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a))},bl)):ce("",!0)])):ce("",!0)]),e.isStreaming?(re(),ie("video",El,null,512)):ce("",!0),e.isStreaming?(re(),ie("video",wl,null,512)):ce("",!0),this.isStreaming&&this.isShare?(re(),ie("button",{key:3,onClick:t[13]||(t[13]=(...a)=>i.stopShareScreen&&i.stopShareScreen(...a))},Al)):ce("",!0)])}const xl=Xn(Lc,[["render",Cl],["styles",[Vc]],["__scopeId","data-v-3c86f7ba"]]),ft=Object.create(null);ft.open="0";ft.close="1";ft.ping="2";ft.pong="3";ft.message="4";ft.upgrade="5";ft.noop="6";const Cn=Object.create(null);Object.keys(ft).forEach(e=>{Cn[ft[e]]=e});const _l={type:"error",data:"parser error"},kl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tl=typeof ArrayBuffer=="function",Bl=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,js=({type:e,data:t},n,r)=>kl&&t instanceof Blob?n?r(t):Pi(t,r):Tl&&(t instanceof ArrayBuffer||Bl(t))?n?r(t):Pi(new Blob([t]),r):r(ft[e]+(t||"")),Pi=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+r)},n.readAsDataURL(e)},Mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Mi.length;e++)tn[Mi.charCodeAt(e)]=e;const Rl=e=>{let t=e.length*.75,n=e.length,r,s=0,i,a,u,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const E=new ArrayBuffer(t),b=new Uint8Array(E);for(r=0;r<n;r+=4)i=tn[e.charCodeAt(r)],a=tn[e.charCodeAt(r+1)],u=tn[e.charCodeAt(r+2)],m=tn[e.charCodeAt(r+3)],b[s++]=i<<2|a>>4,b[s++]=(a&15)<<4|u>>2,b[s++]=(u&3)<<6|m&63;return E},Ol=typeof ArrayBuffer=="function",Us=(e,t)=>{if(typeof e!="string")return{type:"message",data:Vs(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Nl(e.substring(1),t)}:Cn[n]?e.length>1?{type:Cn[n],data:e.substring(1)}:{type:Cn[n]}:_l},Nl=(e,t)=>{if(Ol){const n=Rl(e);return Vs(n,t)}else return{base64:!0,data:e}},Vs=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},Ls=String.fromCharCode(30),Il=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,a)=>{js(i,!1,u=>{r[a]=u,++s===n&&t(r.join(Ls))})})},Fl=(e,t)=>{const n=e.split(Ls),r=[];for(let s=0;s<n.length;s++){const i=Us(n[s],t);if(r.push(i),i.type==="error")break}return r},zs=4;function _e(e){if(e)return Pl(e)}function Pl(e){for(var t in _e.prototype)e[t]=_e.prototype[t];return e}_e.prototype.on=_e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_e.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};_e.prototype.off=_e.prototype.removeListener=_e.prototype.removeAllListeners=_e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};_e.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};_e.prototype.emitReserved=_e.prototype.emit;_e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_e.prototype.hasListeners=function(e){return!!this.listeners(e).length};const St=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Hs(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Ml=setTimeout,Dl=clearTimeout;function Zn(e,t){t.useNativeTimers?(e.setTimeoutFn=Ml.bind(St),e.clearTimeoutFn=Dl.bind(St)):(e.setTimeoutFn=setTimeout.bind(St),e.clearTimeoutFn=clearTimeout.bind(St))}const jl=1.33;function Ul(e){return typeof e=="string"?Vl(e):Math.ceil((e.byteLength||e.size)*jl)}function Vl(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Ll extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ws extends _e{constructor(t){super(),this.writable=!1,Zn(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Ll(t,n,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Us(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const Ys="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ar=64,zl={};let Di=0,vn=0,ji;function Ui(e){let t="";do t=Ys[e%Ar]+t,e=Math.floor(e/Ar);while(e>0);return t}function $s(){const e=Ui(+new Date);return e!==ji?(Di=0,ji=e):e+"."+Ui(Di++)}for(;vn<Ar;vn++)zl[Ys[vn]]=vn;function Gs(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Hl(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}let qs=!1;try{qs=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wl=qs;function Qs(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Wl))return new XMLHttpRequest}catch{}if(!t)try{return new St[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Yl(){}const $l=function(){return new Qs({xdomain:!1}).responseType!=null}();class Gl extends Ws{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=$l&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Fl(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Il(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=$s()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const s=Gs(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new ut(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ut extends _e{constructor(t,n){super(),Zn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=Hs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new Qs(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=ut.requestsCount++,ut.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Yl,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ut.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ut.requestsCount=0;ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Vi);else if(typeof addEventListener=="function"){const e="onpagehide"in St?"pagehide":"unload";addEventListener(e,Vi,!1)}}function Vi(){for(let e in ut.requests)ut.requests.hasOwnProperty(e)&&ut.requests[e].abort()}const ql=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),bn=St.WebSocket||St.MozWebSocket,Li=!0,Ql="arraybuffer",zi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Kl extends Ws{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=zi?{}:Hs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Li&&!zi?n?new bn(t,n):new bn(t):new bn(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||Ql,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;js(r,this.supportsBinary,i=>{const a={};try{Li&&this.ws.send(i)}catch{}s&&ql(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=$s()),this.supportsBinary||(t.b64=1);const s=Gs(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}check(){return!!bn}}const Jl={websocket:Kl,polling:Gl},Xl=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cr(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Xl.exec(e||""),i={},a=14;for(;a--;)i[Zl[a]]=s[a]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=eu(i,i.path),i.queryKey=tu(i,i.query),i}function eu(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&r.splice(0,1),t.substr(t.length-1,1)=="/"&&r.splice(r.length-1,1),r}function tu(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}class wt extends _e{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=Cr(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Cr(n.host).host),Zn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Hl(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=zs,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Jl[t](r)}open(){let t;if(this.opts.rememberUpgrade&&wt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;wt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!r)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;wt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(b(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const o=new Error("probe error");o.transport=n.name,this.emitReserved("upgradeError",o)}}))};function i(){r||(r=!0,b(),n.close(),n=null)}const a=y=>{const o=new Error("probe error: "+y);o.transport=n.name,i(),this.emitReserved("upgradeError",o)};function u(){a("transport closed")}function m(){a("socket closed")}function E(y){n&&y.name!==n.name&&i()}const b=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",u),this.off("close",m),this.off("upgrading",E)};n.once("open",s),n.once("error",a),n.once("close",u),this.once("close",m),this.once("upgrading",E),n.open()}onOpen(){if(this.readyState="open",wt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Ul(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){wt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}wt.protocol=zs;function nu(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Cr(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const ru=typeof ArrayBuffer=="function",iu=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Ks=Object.prototype.toString,su=typeof Blob=="function"||typeof Blob<"u"&&Ks.call(Blob)==="[object BlobConstructor]",ou=typeof File=="function"||typeof File<"u"&&Ks.call(File)==="[object FileConstructor]";function Xr(e){return ru&&(e instanceof ArrayBuffer||iu(e))||su&&e instanceof Blob||ou&&e instanceof File}function xn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(xn(e[n]))return!0;return!1}if(Xr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return xn(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&xn(e[n]))return!0;return!1}function au(e){const t=[],n=e.data,r=e;return r.data=xr(n,t),r.attachments=t.length,{packet:r,buffers:t}}function xr(e,t){if(!e)return e;if(Xr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=xr(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=xr(e[r],t));return n}return e}function cu(e,t){return e.data=_r(e.data,t),e.attachments=void 0,e}function _r(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_r(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_r(e[n],t));return e}const lu=5;var me;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(me||(me={}));class uu{constructor(t){this.replacer=t}encode(t){return(t.type===me.EVENT||t.type===me.ACK)&&xn(t)?(t.type=t.type===me.EVENT?me.BINARY_EVENT:me.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===me.BINARY_EVENT||t.type===me.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=au(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class Zr extends _e{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t),n.type===me.BINARY_EVENT||n.type===me.BINARY_ACK?(this.reconstructor=new fu(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Xr(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(me[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===me.BINARY_EVENT||r.type===me.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(i,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Zr.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case me.CONNECT:return typeof n=="object";case me.DISCONNECT:return n===void 0;case me.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case me.EVENT:case me.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case me.ACK:case me.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class fu{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=cu(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const du=Object.freeze(Object.defineProperty({__proto__:null,protocol:lu,get PacketType(){return me},Encoder:uu,Decoder:Zr},Symbol.toStringTag,{value:"Module"}));function Je(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const hu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Js extends _e{constructor(t,n,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Je(t,"open",this.onopen.bind(this)),Je(t,"packet",this.onpacket.bind(this)),Je(t,"error",this.onerror.bind(this)),Je(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(hu.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');n.unshift(t);const r={type:me.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,u=n.pop();this._registerAckCallback(a,u),r.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){const r=this.flags.timeout;if(r===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...i])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:me.CONNECT,data:t})}):this.packet({type:me.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case me.CONNECT:if(t.data&&t.data.sid){const s=t.data.sid;this.onconnect(s)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case me.EVENT:case me.BINARY_EVENT:this.onevent(t);break;case me.ACK:case me.BINARY_ACK:this.onack(t);break;case me.DISCONNECT:this.ondisconnect();break;case me.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:me.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:me.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Kt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Kt.prototype.reset=function(){this.attempts=0};Kt.prototype.setMin=function(e){this.ms=e};Kt.prototype.setMax=function(e){this.max=e};Kt.prototype.setJitter=function(e){this.jitter=e};class kr extends _e{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Kt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||du;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new wt(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Je(n,"open",function(){r.onopen(),t&&t()}),i=Je(n,"error",a=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",a),t?t(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&s();const u=this.setTimeoutFn(()=>{s(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Je(t,"ping",this.onping.bind(this)),Je(t,"data",this.ondata.bind(this)),Je(t,"error",this.onerror.bind(this)),Je(t,"close",this.onclose.bind(this)),Je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch{this.onclose("parse error")}}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new Js(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Zt={};function _n(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=nu(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,a=Zt[s]&&i in Zt[s].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let m;return u?m=new kr(r,t):(Zt[s]||(Zt[s]=new kr(r,t)),m=Zt[s]),n.query&&!t.query&&(t.query=n.queryKey),m.socket(n.path,t)}Object.assign(_n,{Manager:kr,Socket:Js,io:_n,connect:_n});const pu=`.video-call{display:grid}*{box-sizing:border-box}.grid-container{display:grid;grid-template-columns:auto auto auto auto;grid-gap:5px;padding:0}.grid-container>div{text-align:center;padding:0;font-size:18px;overflow:scroll}.item1{grid-column:1 / 5;height:120px}.item2{height:430px}.item3{grid-area:2/2/2/4;height:430px;min-width:-webkit-fill-available}.item4{height:430px;text-align:left}.chatMsg{width:100%;border-radius:8px}.chat-box{text-align:left;background-color:#d9eaeb;border-radius:8px}.form{padding:10px;margin-left:35%;margin-right:35%}input[type=text]{width:100%;display:inline-block;border-radius:4px;font-size:15px}.label{font-size:20px}.btn{width:100%;margin-top:10px}.uname{color:#830e0e;font-size:15px}.txtmsg{color:#000}@media screen and (max-width: 600px){.item1{width:100%}.item3{width:100%;grid-area:2/2/2/5}.item4{width:100%;height:5rem;margin-top:0;grid-area:3/1/3/5}}.videoStream{position:relative;margin:0 auto;background-color:#ffffff4d;overflow:visible;border-radius:8px}.videoStream .local-stream{width:100%;height:50%;border-radius:8px}.videoStream .remote-stream{width:50%;height:25%;position:inherit;bottom:0;left:0%;border-radius:8px}.videoStream .controls{position:relative;bottom:0;right:0;margin-right:20px;margin-bottom:10px}.videoStream .controls button{border:0 none;padding:6px 9px;border-radius:50%;margin-right:6px;margin-bottom:0}.container{position:relative;width:100%}.container canvas{width:100%;height:auto;border-radius:5px}.material-icons.md-18{font-size:18px}.material-icons.md-24{font-size:24px}.material-icons.md-36{font-size:36px}.material-icons.md-48{font-size:48px}
`,mu={name:"webrtcComponent",inheritAttrs:!1,data:function(){return{joined:!1,creator:!1,joinedChat:!1,roomName:"",userName:"",socketInsance:null,userStream:null,remoteStream:null,userVideo:null,peerVideo:null,userAudio:null,peerAudio:null,rtcPeerConnection:null,rtcDataChannel:null,canvas:null,SHButton:!1,isAudio:this.isAudio,senders:[],iceServers:{iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"}]},msg:"",messages:[],muteBtn:!1,hideCamBtn:!1}},props:{socketurl:{type:String,default:"http://localhost:4000"},isAudio:{type:Boolean,default:!1},roomnamelabel:{type:String,default:"Room Name"},usernamelabel:{type:String,default:"User Name"},videoheight:{type:[String,Number],default:420},videowidth:{type:[String,Number],default:420},doselfie:{type:Boolean,default:!1},isShareScreen:{type:Boolean,default:!1},dochat:{type:Boolean,default:!1}},methods:{call:function(){this.roomName==""||this.roomName==" "||this.roomName==null||this.userName==""||this.userName==" "||this.userName==null?alert("enter a vailed username and room name !"):(this.joined=!0,this.socketInsance.emit("call",this.roomName))},createRoom:function(){this.creator=!0,this.joined=!0,this.userStream=navigator.mediaDevices.getUserMedia({video:{width:this.videowidth,height:this.videoheight},audio:!0}).then(function(e){let t=this.$el.parentNode.getElementById("peerVideo");this.userStream=e,t.srcObject=e,t.onloadedmetadata=function(n){t.play()}}.bind(this)).catch(function(e){console.log(e)})},joinRoom:function(){this.creator=!1,this.joined=!0,this.userStream=navigator.mediaDevices.getUserMedia({audio:!0,video:{width:this.videowidth,height:this.videoheight}}).then(function(e){this.userStream=e;let t=this.$el.parentNode.getElementById("peerVideo");t.srcObject=e,t.onloadedmetadata=n=>{t.play()},this.socketInsance.emit("ready",this.roomName)}.bind(this))},leave:function(){this.socketInsance.emit("leave",this.roomName),this.isAudio?this.isAudio&&this.userStream.getTracks().forEach(e=>{e.stop()}):this.userStream.getTracks().forEach(e=>{e.stop()}),this.isAudio?this.isAudio&&this.userStream.getTracks().forEach(e=>{e.stop()}):this.userStream.getTracks().forEach(e=>{e.stop()}),this.rtcPeerConnection&&(this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.close(),this.rtcPeerConnection=null),this.joined=!1,this.joinedChat=!1,this.roomName="",this.userName=""},ready:function(){if(this.creator){let e=this.$el.parentNode.getElementById("userVideo");this.rtcPeerConnection=new RTCPeerConnection(this.iceServers),this.rtcPeerConnection.onicecandidate=t=>{console.log("candidate"),console.log(t.candidate),t.candidate&&(console.log("from on track function"),this.socketInsance.emit("candidate",t.candidate,this.roomName))},this.rtcPeerConnection.ontrack=t=>{e.srcObject=t.streams[0],e.onloadedmetadata=function(n){e.play()}},this.rtcPeerConnection.addTrack(this.userStream.getTracks()[0],this.userStream),this.rtcPeerConnection.addTrack(this.userStream.getTracks()[1],this.userStream),this.rtcPeerConnection.createOffer().then(function(t){this.rtcPeerConnection.setLocalDescription(t),this.socketInsance.emit("offer",t,this.roomName)}.bind(this)).catch(t=>{console.log(t)})}},offer:function(e){if(!this.creator){let t=this.$el.parentNode.getElementById("userVideo");this.rtcPeerConnection=new RTCPeerConnection(this.iceServers),this.rtcPeerConnection.onicecandidate=n=>{console.log("candidate"),console.log(n.candidate),n.candidate&&(console.log("from on track function"),this.socketInsance.emit("candidate",n.candidate,this.roomName))},this.rtcPeerConnection.ontrack=n=>{t.srcObject=n.streams[0],console.log("from on track function"),t.onloadedmetadata=function(r){t.play()}},this.rtcPeerConnection.addTrack(this.userStream.getTracks()[1],this.userStream),this.rtcPeerConnection.setRemoteDescription(e),console.log("offer okay"),this.rtcPeerConnection.createAnswer().then(function(n){this.rtcPeerConnection.setLocalDescription(n),this.socketInsance.emit("answer",n,this.roomName)}.bind(this)).catch(n=>{console.log(n)})}},candidate:function(e){let t=new RTCIceCandidate(e);this.rtcPeerConnection.addIceCandidate(t),console.log(e)},sendMsg:function(){this.addMsg(),this.$refs.msg.focus(),this.msg=""},addMsg:function(){this.$refs.msg.focus(),document.getElementById("msg");const e={msgText:this.msg,user:this.userName};this.msg==null||this.msg==""||this.msg==" "?alert("enter a message text"):(this.messages=this.messages.concat(e),this.socketInsance.emit("message",e))},startChat:function(e){this.joinedChat=!0,this.messages=this.messages.concat(e)},screenShot:function(){this.$refs.peerVideo?(this.$refs.canvas.width=this.videowidth,this.$refs.canvas.height=this.videoheight,this.SHButton=!0,this.$refs.canvas.getContext("2d").drawImage(this.$refs.peerVideo,0,0,this.$refs.peerVideo.videowidth,this.$refs.peerVideo.videoheight)):alert("error")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videowidth,this.videoheight),this.SHButton=!1},doMute:function(){this.muteBtn=!0,this.$refs.peerVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.peerVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.peerVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.peerVideo.srcObject.getTracks()[1].enabled=!0},ShareScreen:function(){this.joined=!0,this.rtcPeerConnection=new RTCPeerConnection(this.iceServers);let e=this.userStream;this.senders=[];let t=[];t=this.senders,e.getTracks().forEach(function(n){this.senders.push(this.rtcPeerConnection.addTrack(n,e))}.bind(this)),console.log("the senders:",this.senders),navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:this.videowidth,height:this.videoheight}}).then(function(n){const r=n.getTracks()[0];this.isShare=!0,t.find(s=>s.track.kind==="video").replaceTrack(r),r.onended=function(){t.find(s=>s.track.kind==="video").replaceTrack(e.getTracks()[1])}}.bind(this),function(n){alert("error")})}},created:function(){},mounted(){this.socketInsance=_n(this.socketurl),this.rtcPeerConnection=new RTCPeerConnection(this.iceServers),this.rtcDataChannel=this.rtcPeerConnection.createDataChannel("channel"),this.userVideo=document.getElementById("userVideo"),this.peerVideo=document.getElementById("peerVideo"),this.peerAudio=document.getElementById("peerAudio"),this.userAudio=document.getElementById("userAudio"),this.canvas=document.getElementById("canvas"),this.socketInsance.on("leave",function(){this.rtcPeerConnection&&(this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.close(),this.rtcPeerConnection=null),peerVideo.srcObject&&(peerVideo.srcObject.getTracks()[0].stop(),peerVideo.srcObject.getTracks()[1].stop())}),this.socketInsance.on("create-room",function(){this.createRoom()}.bind(this)),this.socketInsance.on("join-room",function(){this.joinRoom()}.bind(this)),this.socketInsance.on("ready",function(){this.ready()}.bind(this)),this.socketInsance.on("candidate",function(e){this.candidate(e)}.bind(this)),this.socketInsance.on("offer",function(e){this.offer(e)}.bind(this)),this.socketInsance.on("answer",function(e){this.rtcPeerConnection.setRemoteDescription(e)}.bind(this)),this.socketInsance.on("message:received",function(e){this.startChat(e)}.bind(this))}},gu={key:0,class:""},yu={class:"form"},vu={for:"fname"},bu={for:"lname"},Eu={key:1,class:"videoStream"},wu=zn("Welcome to "),Su=zn("!"),Au={key:0,class:"local-stream",ref:"peerVideo",id:"peerVideo"},Cu={key:1,class:"remote-stream",ref:"userVideo",id:"userVideo"},xu={class:"controls"},_u=ne("img",{src:Yn},null,-1),ku=[_u],Tu=ne("img",{src:$n},null,-1),Bu=[Tu],Ru=ne("img",{src:qn},null,-1),Ou=[Ru],Nu=ne("img",{src:Gn},null,-1),Iu=[Nu],Fu=ne("img",{src:Qn},null,-1),Pu=[Fu],Mu=ne("img",{src:Kn},null,-1),Du=[Mu],ju=ne("img",{src:Jn},null,-1),Uu=[ju],Vu={class:"container",id:"container"},Lu={ref:"canvas",id:"canvas"},zu={class:"grid-container"},Hu={key:0,class:"item4"},Wu={class:"uname"},Yu=zn(),$u={class:"txtmsg",id:"textmsg"};function Gu(e,t,n,r,s,i){return re(),ie($e,null,[ne("div",null,[e.joined?ce("",!0):(re(),ie("div",gu,[ne("div",yu,[ne("label",vu,Nt(n.roomnamelabel),1),nn(ne("input",{class:"lable",type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>e.roomName=a)},null,512),[[sn,e.roomName]]),ne("label",bu,Nt(n.usernamelabel),1),nn(ne("input",{class:"lable",type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>e.userName=a)},null,512),[[sn,e.userName]]),ne("button",{class:"btn",onClick:t[2]||(t[2]=(...a)=>i.call&&i.call(...a))},"Call")])])),e.joined?(re(),ie("div",Eu,[ne("h3",null,[wu,ne("b",null,Nt(e.roomName),1),Su]),n.isAudio?ce("",!0):(re(),ie("video",Au,null,512)),n.isAudio?ce("",!0):(re(),ie("video",Cu,null,512)),ne("div",xu,[ne("button",{onClick:t[3]||(t[3]=(...a)=>i.leave&&i.leave(...a))},ku),this.doselfie?(re(),ie("button",{key:0,onClick:t[4]||(t[4]=(...a)=>i.screenShot&&i.screenShot(...a))},Bu)):ce("",!0),e.muteBtn?ce("",!0):(re(),ie("button",{key:1,id:"muteBtn",onClick:t[5]||(t[5]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},Ou)),e.muteBtn?(re(),ie("button",{key:2,id:"muteBtn",onClick:t[6]||(t[6]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},Iu)):ce("",!0),e.hideCamBtn?ce("",!0):(re(),ie("button",{key:3,id:"hideCamBtn",onClick:t[7]||(t[7]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},Pu)),e.hideCamBtn?(re(),ie("button",{key:4,id:"hideCamBtn",onClick:t[8]||(t[8]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},Du)):ce("",!0),e.SHButton?(re(),ie("button",{key:5,onClick:t[9]||(t[9]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a))},Uu)):ce("",!0)]),ne("div",Vu,[ne("canvas",Lu,null,512)])])):ce("",!0)]),ne("div",zu,[e.joined&&n.dochat?(re(),ie("div",Hu,[nn(ne("textarea",{"onUpdate:modelValue":t[10]||(t[10]=a=>e.msg=a),class:"chatMsg",ref:"msg",id:"msg"},null,512),[[sn,e.msg]]),ne("button",{onClick:t[11]||(t[11]=(...a)=>i.sendMsg&&i.sendMsg(...a))},"send"),(re(!0),ie($e,null,Oa(e.messages,a=>(re(),ie("div",{key:a,class:"chat-box"},[ne("b",Wu,"-"+Nt(a.user)+":",1),Yu,ne("p",$u,Nt(a.msgText),1)]))),128))])):ce("",!0)])],64)}const qu=Xn(mu,[["render",Gu],["styles",[pu]]]);function Qu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xs={exports:{}};/*!
 * SkyWay Copyright(c) 2022 NTT Communications Corporation
 * peerjs Copyright(c) 2013 Michelle Bu <michelle@michellebu.com>
 */(function(e,t){(function(r,s){e.exports=s()})(globalThis,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=r,s.d=function(i,a,u){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:u})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,a){if(a&1&&(i=s(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var m in i)s.d(u,m,function(E){return i[E]}.bind(null,m));return u},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s="./src/peer.js")}({"./node_modules/@jitsi/sdp-interop/lib/array-equals.js":function(n,r){n.exports=function s(i){if(!i||this.length!=i.length)return!1;for(var a=0,u=this.length;a<u;a++)if(this[a]instanceof Array&&i[a]instanceof Array){if(!s.apply(this[a],[i[a]]))return!1}else if(this[a]!=i[a])return!1;return!0}},"./node_modules/@jitsi/sdp-interop/lib/index.js":function(n,r,s){r.Interop=s("./node_modules/@jitsi/sdp-interop/lib/interop.js")},"./node_modules/@jitsi/sdp-interop/lib/interop.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/lib/transform.js"),a=s("./node_modules/@jitsi/sdp-interop/lib/array-equals.js");function u(b){typeof b.mid=="number"&&(b.mid=b.mid.toString())}function m(){this.cache={mlB2UMap:{},mlU2BMap:{}}}n.exports=m,m.prototype.candidateToUnifiedPlan=function(b){var y=new RTCIceCandidate(b);return y.sdpMLineIndex=this.cache.mlB2UMap[y.sdpMLineIndex],y},m.prototype.candidateToPlanB=function(b){var y=new RTCIceCandidate(b);if(y.sdpMid.indexOf("audio")===0)y.sdpMid="audio";else if(y.sdpMid.indexOf("video")===0)y.sdpMid="video";else throw new Error("candidate with "+y.sdpMid+" not allowed");return y.sdpMLineIndex=this.cache.mlU2BMap[y.sdpMLineIndex],y},m.prototype.getFirstSendingIndexFromAnswer=function(b){if(!this.cache.answer)return null;var y=i.parse(this.cache.answer);if(y&&y.media&&Array.isArray(y.media)){for(var o=0;o<y.media.length;o++)if(y.media[o].type==b&&(!y.media[o].direction||y.media[o].direction==="sendrecv"||y.media[o].direction==="sendonly"))return o}return null},m.prototype.toPlanB=function(b){var y=this;if(typeof b!="object"||b===null||typeof b.sdp!="string")return console.warn("An empty description was passed as an argument."),b;var o=i.parse(b.sdp);if(typeof o.media>"u"||!Array.isArray(o.media)||o.media.length===0)return console.warn("The description has no media."),b;if(o.media.length<=3&&o.media.every(function(B){return["video","audio","data"].indexOf(B.mid)!==-1}))return console.warn("This description does not look like Unified Plan."),b;for(var p=b.sdp,g=!1,d=0;d<o.media.length;d++){var c=o.media[d];c.rtp.forEach(function(B){if(B.codec==="NULL"){g=!0;var O=i.parse(y.cache.offer);B.codec=O.media[d].rtp[0].codec}})}g&&(p=i.write(o)),this.cache[b.type]=p;var w=o.media;o.media=[];var x={},I=[],T={};w.forEach(function(B){if(u(B),(typeof B.rtcpMux!="string"||B.rtcpMux!=="rtcp-mux")&&B.direction!=="inactive"&&B.type!=="application")throw new Error("Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.");(typeof x[B.type]>"u"||x[B.type].direction==="inactive")&&(x[B.type]=B)}),w.forEach(function(B){var O=B.type;if(O==="application"){B.mid="data",o.media.push(B),I.push(B.mid);return}typeof B.sources=="object"&&Object.keys(B.sources).forEach(function(_){typeof x[O].sources!="object"&&(x[O].sources={}),x[O].sources[_]=B.sources[_],typeof B.msid<"u"&&(x[O].sources[_].msid=B.msid)}),typeof B.ssrcGroups<"u"&&Array.isArray(B.ssrcGroups)&&((typeof x[O].ssrcGroups>"u"||!Array.isArray(x[O].ssrcGroups))&&(x[O].ssrcGroups=[]),a.apply(x[O].ssrcGroups,[B.ssrcGroups])||(x[O].ssrcGroups=x[O].ssrcGroups.concat(B.ssrcGroups)));var k=B.direction;T[O]=(T[O]||0)|E[k||"inactive"],x[O]===B&&(B.mid=O,delete B.bundleOnly,delete B.msid,k!=="inactive"&&I.push(O),o.media.push(B))}),o.groups.some(function(B){if(B.type==="BUNDLE")return B.mids=I.join(" "),!0}),o.msidSemantic={semantic:"WMS",token:"*"};var C=i.write(o);return new RTCSessionDescription({type:b.type,sdp:C})},m.prototype.toUnifiedPlan=function(b){var y=this;if(typeof b!="object"||b===null||typeof b.sdp!="string")return console.warn("An empty description was passed as an argument."),b;var o=i.parse(b.sdp);if(typeof o.media>"u"||!Array.isArray(o.media)||o.media.length===0)return console.warn("The description has no media."),b;if(o.media.length>3||!o.media.every(function(O){return["video","audio","data"].indexOf(O.mid)!==-1}))return console.warn("This description does not look like Plan B."),b;var p=[];o.media.forEach(function(O){p.push(O.mid)});var g=!1;if(typeof o.groups<"u"&&Array.isArray(o.groups)&&(g=o.groups.every(function(O){return O.type!=="BUNDLE"||a.apply(O.mids.sort(),[p.sort()])})),!g)throw new Error("Cannot convert to Unified Plan because m-lines that are not bundled were found.");var d;typeof this.cache[b.type]<"u"&&(d=i.parse(this.cache[b.type]));var c={audio:{},video:{}},w={},x=0,I=0;if(o.media.forEach(function(O){if((typeof O.rtcpMux!="string"||O.rtcpMux!=="rtcp-mux")&&O.direction!=="inactive"&&O.type!=="application")throw new Error("Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.");if(O.type==="application"){var k=null;d&&d.media&&(k=d.media.find(function(Z){return Z.type==="application"})),k?w[k.mid]=k:w[O.mid]=O;return}var _=O.sources,R=O.ssrcGroups,P=O.candidates,M=O.iceUfrag,W=O.icePwd,J=O.fingerprint,X=O.port;delete O.sources,delete O.ssrcGroups,delete O.candidates,delete O.iceUfrag,delete O.icePwd,delete O.fingerprint,delete O.port,delete O.mid;var U={};typeof R<"u"&&Array.isArray(R)&&R.forEach(function(Z){Z.semantics!=="SIM"&&typeof Z.ssrcs<"u"&&Array.isArray(Z.ssrcs)&&Z.ssrcs.forEach(function(se){typeof U[se]>"u"&&(U[se]=[]),U[se].push(Z)})});var ae={};typeof _=="object"&&Object.keys(_).forEach(function(Z){var se;if(b.type==="offer"&&!_[Z].msid){c[O.type][Z]=_[Z];return}if(typeof U[Z]<"u"&&Array.isArray(U[Z])&&U[Z].some(function(we){return we.ssrcs.some(function(Se){if(typeof ae[Se]=="object")return se=ae[Se],!0})}),typeof se=="object")se.sources[Z]=_[Z],delete _[Z].msid;else{if(se=Object.create(O),ae[Z]=se,typeof _[Z].msid<"u"&&(se.msid=_[Z].msid,delete _[Z].msid),se.sources={},se.sources[Z]=_[Z],se.ssrcGroups=U[Z],typeof d<"u"&&typeof d.media<"u"&&Array.isArray(d.media)&&d.media.forEach(function(we){typeof we.sources=="object"&&Object.keys(we.sources).forEach(function(Se){Se===Z&&(se.mid=we.mid)})}),u(se),typeof se.mid>"u"){if(b.type==="answer")throw new Error("An unmapped SSRC was found.");se.mid=[O.type,"-",Z].join("")}se.candidates=P,se.iceUfrag=M,se.icePwd=W,se.fingerprint=J,se.port=X,w[se.mid]=se,y.cache.mlU2BMap[I]=x,typeof y.cache.mlB2UMap[x]>"u"&&(y.cache.mlB2UMap[x]=I),I++}}),x++}),o.media=[],p=[],b.type==="answer")for(var T=0;T<d.media.length;T++){var C=d.media[T];u(C),typeof w[C.mid]>"u"&&(delete C.msid,delete C.sources,delete C.ssrcGroups,!C.direction||C.direction==="sendrecv"?C.direction="recvonly":C.direction==="sendonly"&&(C.direction="inactive")),o.media.push(C),typeof C.mid=="string"&&p.push(C.mid)}else typeof d<"u"&&typeof d.media<"u"&&Array.isArray(d.media)&&d.media.forEach(function(O){u(O),p.push(O.mid),typeof w[O.mid]<"u"?o.media.push(w[O.mid]):(delete O.msid,delete O.sources,delete O.ssrcGroups,(!O.direction||O.direction==="sendrecv")&&(O.direction="recvonly"),(!O.direction||O.direction==="sendonly")&&(O.direction="inactive"),o.media.push(O))}),Object.keys(w).forEach(function(O){p.indexOf(O)===-1&&(p.push(O),w[O].direction==="recvonly"?o.media.some(function(k){if((k.direction==="sendrecv"||k.direction==="sendonly")&&k.type===w[O].type)return Object.keys(w[O].sources).forEach(function(_){k.sources[_]=w[O].sources[_]}),!0}):o.media.push(w[O]))});["audio","video"].forEach(function(O){if(!(!o||!o.media||!Array.isArray(o.media))){var k=null;if(Object.keys(c[O]).length>0&&(k=y.getFirstSendingIndexFromAnswer(O),k===null)){for(var _=0;_<o.media.length;_++)if(o.media[_].type===O){k=_;break}}if(k&&o.media.length>k){var R=o.media[k];Object.keys(c[O]).forEach(function(P){R.sources&&R.sources[P]&&console.warn("Replacing an existing SSRC."),R.sources||(R.sources={}),R.sources[P]=c[O][P]})}}}),o.groups.some(function(O){if(O.type==="BUNDLE")return O.mids=p.join(" "),!0}),o.msidSemantic={semantic:"WMS",token:"*"};var B=i.write(o);return this.cache[b.type]=B,new RTCSessionDescription({type:b.type,sdp:B})};var E={inactive:0,recvonly:1,sendonly:2,sendrecv:3}},"./node_modules/@jitsi/sdp-interop/lib/transform.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/index.js");r.write=function(a,u){return typeof a<"u"&&typeof a.media<"u"&&Array.isArray(a.media)&&a.media.forEach(function(m){typeof m.sources<"u"&&Object.keys(m.sources).length!==0&&(m.ssrcs=[],Object.keys(m.sources).forEach(function(E){var b=m.sources[E];Object.keys(b).forEach(function(y){m.ssrcs.push({id:E,attribute:y,value:b[y]})})}),delete m.sources),typeof m.ssrcGroups<"u"&&Array.isArray(m.ssrcGroups)&&m.ssrcGroups.forEach(function(E){typeof E.ssrcs<"u"&&Array.isArray(E.ssrcs)&&(E.ssrcs=E.ssrcs.join(" "))})}),typeof a<"u"&&typeof a.groups<"u"&&Array.isArray(a.groups)&&a.groups.forEach(function(m){typeof m.mids<"u"&&Array.isArray(m.mids)&&(m.mids=m.mids.join(" "))}),i.write(a,u)},r.parse=function(a){var u=i.parse(a);return typeof u<"u"&&typeof u.media<"u"&&Array.isArray(u.media)&&u.media.forEach(function(m){typeof m.ssrcs<"u"&&Array.isArray(m.ssrcs)&&(m.sources={},m.ssrcs.forEach(function(E){m.sources[E.id]||(m.sources[E.id]={}),m.sources[E.id][E.attribute]=E.value}),delete m.ssrcs),typeof m.ssrcGroups<"u"&&Array.isArray(m.ssrcGroups)&&m.ssrcGroups.forEach(function(E){typeof E.ssrcs=="string"&&(E.ssrcs=E.ssrcs.split(" "))})}),typeof u<"u"&&typeof u.groups<"u"&&Array.isArray(u.groups)&&u.groups.forEach(function(m){typeof m.mids=="string"&&(m.mids=m.mids.split(" "))}),u}},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/grammar.js":function(n,r){var s=n.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(i){return i.encoding?"rtpmap:%d %s/%s/%s":i.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(i){return i.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(i){return i.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(i){return"extmap:%d"+(i.direction?"/%s":"%v")+" %s"+(i.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(i){return i.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(i){var a="candidate:%s %d %s %d %s %d typ %s";return a+=i.raddr!=null?" raddr %s rport %d":"%v%v",a+=i.tcptype!=null?" tcptype %s":"%v",i.generation!=null&&(a+=" generation %d"),a+=i["network-id"]!=null?" network-id %d":"%v",a+=i["network-cost"]!=null?" network-cost %d":"%v",a}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function(i){var a="ssrc:%d";return i.attribute!=null&&(a+=" %s",i.value!=null&&(a+=":%s")),a}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(i){return i.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(i){return i.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(i){return"imageattr:%s %s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(i){return"simulcast:%s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(s).forEach(function(i){var a=s[i];a.forEach(function(u){u.reg||(u.reg=/(.*)/),u.format||(u.format="%s")})})},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/index.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/parser.js"),a=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/writer.js");r.write=a,r.parse=i.parse,r.parseFmtpConfig=i.parseFmtpConfig,r.parseParams=i.parseParams,r.parsePayloads=i.parsePayloads,r.parseRemoteCandidates=i.parseRemoteCandidates,r.parseImageAttributes=i.parseImageAttributes,r.parseSimulcastStreamList=i.parseSimulcastStreamList},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/parser.js":function(n,r,s){var i=function(y){return String(Number(y))===y?Number(y):y},a=function(y,o,p,g){if(g&&!p)o[g]=i(y[1]);else for(var d=0;d<p.length;d+=1)y[d+1]!=null&&(o[p[d]]=i(y[d+1]))},u=function(y,o,p){var g=y.name&&y.names;y.push&&!o[y.push]?o[y.push]=[]:g&&!o[y.name]&&(o[y.name]={});var d=y.push?{}:g?o[y.name]:o;a(p.match(y.reg),d,y.names,y.name),y.push&&o[y.push].push(d)},m=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/grammar.js"),E=RegExp.prototype.test.bind(/^([a-z])=(.*)/);r.parse=function(y){var o={},p=[],g=o;return y.split(/(\r\n|\r|\n)/).filter(E).forEach(function(d){var c=d[0],w=d.slice(2);c==="m"&&(p.push({rtp:[],fmtp:[]}),g=p[p.length-1]);for(var x=0;x<(m[c]||[]).length;x+=1){var I=m[c][x];if(I.reg.test(w))return u(I,g,w)}}),o.media=p,o};var b=function(y,o){var p=o.split(/=(.+)/,2);return p.length===2&&(y[p[0]]=i(p[1])),y};r.parseParams=function(y){return y.split(/\;\s?/).reduce(b,{})},r.parseFmtpConfig=r.parseParams,r.parsePayloads=function(y){return y.split(" ").map(Number)},r.parseRemoteCandidates=function(y){for(var o=[],p=y.split(" ").map(i),g=0;g<p.length;g+=3)o.push({component:p[g],ip:p[g+1],port:p[g+2]});return o},r.parseImageAttributes=function(y){return y.split(" ").map(function(o){return o.substring(1,o.length-1).split(",").reduce(b,{})})},r.parseSimulcastStreamList=function(y){return y.split(";").map(function(o){return o.split(",").map(function(p){var g,d=!1;return p[0]!=="~"?g=i(p):(g=i(p.substring(1,p.length)),d=!0),{scid:g,paused:d}})})}},"./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/writer.js":function(n,r,s){var i=s("./node_modules/@jitsi/sdp-interop/node_modules/sdp-transform/lib/grammar.js"),a=/%[sdv%]/g,u=function(y){var o=1,p=arguments,g=p.length;return y.replace(a,function(d){if(o>=g)return d;var c=p[o];switch(o+=1,d){case"%%":return"%";case"%s":return String(c);case"%d":return Number(c);case"%v":return""}})},m=function(y,o,p){var g=o.format instanceof Function?o.format(o.push?p:p[o.name]):o.format,d=[y+"="+g];if(o.names)for(var c=0;c<o.names.length;c+=1){var w=o.names[c];o.name?d.push(p[o.name][w]):d.push(p[o.names[c]])}else d.push(p[o.name]);return u.apply(null,d)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],b=["i","c","b","a"];n.exports=function(y,o){o=o||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(c){c.payloads==null&&(c.payloads="")});var p=o.outerOrder||E,g=o.innerOrder||b,d=[];return p.forEach(function(c){i[c].forEach(function(w){w.name in y&&y[w.name]!=null?d.push(m(c,w,y)):w.push in y&&y[w.push]!=null&&y[w.push].forEach(function(x){d.push(m(c,w,x))})})}),y.media.forEach(function(c){d.push(m("m",i.m[0],c)),g.forEach(function(w){i[w].forEach(function(x){x.name in c&&c[x.name]!=null?d.push(m(w,x,c)):x.push in c&&c[x.push]!=null&&c[x.push].forEach(function(I){d.push(m(w,x,I))})})})}),d.join(`\r
`)+`\r
`}},"./node_modules/after/index.js":function(n,r){n.exports=s;function s(a,u,m){var E=!1;return m=m||i,b.count=a,a===0?u():b;function b(y,o){if(b.count<=0)throw new Error("after called too many times");--b.count,y?(E=!0,u(y),u=m):b.count===0&&!E&&u(null,o)}}function i(){}},"./node_modules/arraybuffer.slice/index.js":function(n,r){n.exports=function(s,i,a){var u=s.byteLength;if(i=i||0,a=a||u,s.slice)return s.slice(i,a);if(i<0&&(i+=u),a<0&&(a+=u),a>u&&(a=u),i>=u||i>=a||u===0)return new ArrayBuffer(0);for(var m=new Uint8Array(s),E=new Uint8Array(a-i),b=i,y=0;b<a;b++,y++)E[y]=m[b];return E.buffer}},"./node_modules/backo2/index.js":function(n,r){n.exports=s;function s(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}s.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),u=Math.floor(a*this.jitter*i);i=(Math.floor(a*10)&1)==0?i-u:i+u}return Math.min(i,this.max)|0},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(i){this.ms=i},s.prototype.setMax=function(i){this.max=i},s.prototype.setJitter=function(i){this.jitter=i}},"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":function(n,r){(function(s){r.encode=function(i){var a=new Uint8Array(i),u,m=a.length,E="";for(u=0;u<m;u+=3)E+=s[a[u]>>2],E+=s[(a[u]&3)<<4|a[u+1]>>4],E+=s[(a[u+1]&15)<<2|a[u+2]>>6],E+=s[a[u+2]&63];return m%3===2?E=E.substring(0,E.length-1)+"=":m%3===1&&(E=E.substring(0,E.length-2)+"=="),E},r.decode=function(i){var a=i.length*.75,u=i.length,m,E=0,b,y,o,p;i[i.length-1]==="="&&(a--,i[i.length-2]==="="&&a--);var g=new ArrayBuffer(a),d=new Uint8Array(g);for(m=0;m<u;m+=4)b=s.indexOf(i[m]),y=s.indexOf(i[m+1]),o=s.indexOf(i[m+2]),p=s.indexOf(i[m+3]),d[E++]=b<<2|y>>4,d[E++]=(y&15)<<4|o>>2,d[E++]=(o&3)<<6|p&63;return g}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},"./node_modules/base64-js/index.js":function(n,r,s){r.byteLength=o,r.toByteArray=g,r.fromByteArray=w;for(var i=[],a=[],u=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,b=m.length;E<b;++E)i[E]=m[E],a[m.charCodeAt(E)]=E;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;function y(x){var I=x.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=x.indexOf("=");T===-1&&(T=I);var C=T===I?0:4-T%4;return[T,C]}function o(x){var I=y(x),T=I[0],C=I[1];return(T+C)*3/4-C}function p(x,I,T){return(I+T)*3/4-T}function g(x){var I,T=y(x),C=T[0],B=T[1],O=new u(p(x,C,B)),k=0,_=B>0?C-4:C,R;for(R=0;R<_;R+=4)I=a[x.charCodeAt(R)]<<18|a[x.charCodeAt(R+1)]<<12|a[x.charCodeAt(R+2)]<<6|a[x.charCodeAt(R+3)],O[k++]=I>>16&255,O[k++]=I>>8&255,O[k++]=I&255;return B===2&&(I=a[x.charCodeAt(R)]<<2|a[x.charCodeAt(R+1)]>>4,O[k++]=I&255),B===1&&(I=a[x.charCodeAt(R)]<<10|a[x.charCodeAt(R+1)]<<4|a[x.charCodeAt(R+2)]>>2,O[k++]=I>>8&255,O[k++]=I&255),O}function d(x){return i[x>>18&63]+i[x>>12&63]+i[x>>6&63]+i[x&63]}function c(x,I,T){for(var C,B=[],O=I;O<T;O+=3)C=(x[O]<<16&16711680)+(x[O+1]<<8&65280)+(x[O+2]&255),B.push(d(C));return B.join("")}function w(x){for(var I,T=x.length,C=T%3,B=[],O=16383,k=0,_=T-C;k<_;k+=O)B.push(c(x,k,k+O>_?_:k+O));return C===1?(I=x[T-1],B.push(i[I>>2]+i[I<<4&63]+"==")):C===2&&(I=(x[T-2]<<8)+x[T-1],B.push(i[I>>10]+i[I>>4&63]+i[I<<2&63]+"=")),B.join("")}},"./node_modules/blob/index.js":function(n,r){var s=typeof s<"u"?s:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,i=function(){try{var y=new Blob(["hi"]);return y.size===2}catch{return!1}}(),a=i&&function(){try{var y=new Blob([new Uint8Array([1,2])]);return y.size===2}catch{return!1}}(),u=s&&s.prototype.append&&s.prototype.getBlob;function m(y){return y.map(function(o){if(o.buffer instanceof ArrayBuffer){var p=o.buffer;if(o.byteLength!==p.byteLength){var g=new Uint8Array(o.byteLength);g.set(new Uint8Array(p,o.byteOffset,o.byteLength)),p=g.buffer}return p}return o})}function E(y,o){o=o||{};var p=new s;return m(y).forEach(function(g){p.append(g)}),o.type?p.getBlob(o.type):p.getBlob()}function b(y,o){return new Blob(m(y),o||{})}typeof Blob<"u"&&(E.prototype=Blob.prototype,b.prototype=Blob.prototype),n.exports=function(){return i?a?Blob:b:u?E:void 0}()},"./node_modules/component-bind/index.js":function(n,r){var s=[].slice;n.exports=function(i,a){if(typeof a=="string"&&(a=i[a]),typeof a!="function")throw new Error("bind() requires a function");var u=s.call(arguments,2);return function(){return a.apply(i,u.concat(s.call(arguments)))}}},"./node_modules/component-emitter/index.js":function(n,r,s){n.exports=i;function i(u){if(u)return a(u)}function a(u){for(var m in i.prototype)u[m]=i.prototype[m];return u}i.prototype.on=i.prototype.addEventListener=function(u,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(m),this},i.prototype.once=function(u,m){function E(){this.off(u,E),m.apply(this,arguments)}return E.fn=m,this.on(u,E),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(u,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var E=this._callbacks["$"+u];if(!E)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var b,y=0;y<E.length;y++)if(b=E[y],b===m||b.fn===m){E.splice(y,1);break}return E.length===0&&delete this._callbacks["$"+u],this},i.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),E=this._callbacks["$"+u],b=1;b<arguments.length;b++)m[b-1]=arguments[b];if(E){E=E.slice(0);for(var b=0,y=E.length;b<y;++b)E[b].apply(this,m)}return this},i.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},i.prototype.hasListeners=function(u){return!!this.listeners(u).length}},"./node_modules/component-inherit/index.js":function(n,r){n.exports=function(s,i){var a=function(){};a.prototype=i.prototype,s.prototype=new a,s.prototype.constructor=s}},"./node_modules/debug/src/browser.js":function(n,r,s){(function(i){r=n.exports=s("./node_modules/debug/src/debug.js"),r.log=m,r.formatArgs=u,r.save=E,r.load=b,r.useColors=a,r.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r.formatters.j=function(o){try{return JSON.stringify(o)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}};function u(o){var p=this.useColors;if(o[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+o[0]+(p?"%c ":" ")+"+"+r.humanize(this.diff),!!p){var g="color: "+this.color;o.splice(1,0,g,"color: inherit");var d=0,c=0;o[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(d++,w==="%c"&&(c=d))}),o.splice(c,0,g)}}function m(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function E(o){try{o==null?r.storage.removeItem("debug"):r.storage.debug=o}catch{}}function b(){var o;try{o=r.storage.debug}catch{}return!o&&typeof i<"u"&&"env"in i&&(o=i.env.DEBUG),o}r.enable(b());function y(){try{return window.localStorage}catch{}}}).call(this,s("./node_modules/process/browser.js"))},"./node_modules/debug/src/debug.js":function(n,r,s){r=n.exports=a.debug=a.default=a,r.coerce=y,r.disable=E,r.enable=m,r.enabled=b,r.humanize=s("./node_modules/ms/index.js"),r.instances=[],r.names=[],r.skips=[],r.formatters={};function i(o){var p=0,g;for(g in o)p=(p<<5)-p+o.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}function a(o){var p;function g(){if(!!g.enabled){var d=g,c=+new Date,w=c-(p||c);d.diff=w,d.prev=p,d.curr=c,p=c;for(var x=new Array(arguments.length),I=0;I<x.length;I++)x[I]=arguments[I];x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");var T=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,function(B,O){if(B==="%%")return B;T++;var k=r.formatters[O];if(typeof k=="function"){var _=x[T];B=k.call(d,_),x.splice(T,1),T--}return B}),r.formatArgs.call(d,x);var C=g.log||r.log||console.log.bind(console);C.apply(d,x)}}return g.namespace=o,g.enabled=r.enabled(o),g.useColors=r.useColors(),g.color=i(o),g.destroy=u,typeof r.init=="function"&&r.init(g),r.instances.push(g),g}function u(){var o=r.instances.indexOf(this);return o!==-1?(r.instances.splice(o,1),!0):!1}function m(o){r.save(o),r.names=[],r.skips=[];var p,g=(typeof o=="string"?o:"").split(/[\s,]+/),d=g.length;for(p=0;p<d;p++)!g[p]||(o=g[p].replace(/\*/g,".*?"),o[0]==="-"?r.skips.push(new RegExp("^"+o.substr(1)+"$")):r.names.push(new RegExp("^"+o+"$")));for(p=0;p<r.instances.length;p++){var c=r.instances[p];c.enabled=r.enabled(c.namespace)}}function E(){r.enable("")}function b(o){if(o[o.length-1]==="*")return!0;var p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(o))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(o))return!0;return!1}function y(o){return o instanceof Error?o.stack||o.message:o}},"./node_modules/decode-uri-component/index.js":function(n,r,s){var i="%[a-f0-9]{2}",a=new RegExp(i,"gi"),u=new RegExp("("+i+")+","gi");function m(y,o){try{return decodeURIComponent(y.join(""))}catch{}if(y.length===1)return y;o=o||1;var p=y.slice(0,o),g=y.slice(o);return Array.prototype.concat.call([],m(p),m(g))}function E(y){try{return decodeURIComponent(y)}catch{for(var o=y.match(a),p=1;p<o.length;p++)y=m(o,p).join(""),o=y.match(a);return y}}function b(y){for(var o={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},p=u.exec(y);p;){try{o[p[0]]=decodeURIComponent(p[0])}catch{var g=E(p[0]);g!==p[0]&&(o[p[0]]=g)}p=u.exec(y)}o["%C2"]="\uFFFD";for(var d=Object.keys(o),c=0;c<d.length;c++){var w=d[c];y=y.replace(new RegExp(w,"g"),o[w])}return y}n.exports=function(y){if(typeof y!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof y+"`");try{return y=y.replace(/\+/g," "),decodeURIComponent(y)}catch{return b(y)}}},"./node_modules/detect-browser/index.js":function(n,r,s){(function(i){var a=this&&this.__spreadArrays||function(){for(var T=0,C=0,B=arguments.length;C<B;C++)T+=arguments[C].length;for(var O=Array(T),k=0,C=0;C<B;C++)for(var _=arguments[C],R=0,P=_.length;R<P;R++,k++)O[k]=_[R];return O};Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function T(C,B,O){this.name=C,this.version=B,this.os=O}return T}();r.BrowserInfo=u;var m=function(){function T(C){this.version=C,this.name="node",this.os=i.platform}return T}();r.NodeInfo=m;var E=function(){function T(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return T}();r.BotInfo=E;var b=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,y=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,o=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",b]],g=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",y]];function d(T){return T?c(T):typeof navigator<"u"?c(navigator.userAgent):x()}r.detect=d;function c(T){var C=T!==""&&p.reduce(function(_,R){var P=R[0],M=R[1];if(_)return _;var W=M.exec(T);return!!W&&[P,W]},!1);if(!C)return null;var B=C[0],O=C[1];if(B==="searchbot")return new E;var k=O[1]&&O[1].split(/[._]/).slice(0,3);return k?k.length<o&&(k=a(k,I(o-k.length))):k=[],new u(B,k.join("."),w(T))}r.parseUserAgent=c;function w(T){for(var C=0,B=g.length;C<B;C++){var O=g[C],k=O[0],_=O[1],R=_.test(T);if(R)return k}return null}r.detectOS=w;function x(){var T=typeof i<"u"&&i.version;return T?new m(i.version.slice(1)):null}r.getNodeVersion=x;function I(T){for(var C=[],B=0;B<T;B++)C.push("0");return C}}).call(this,s("./node_modules/process/browser.js"))},"./node_modules/engine.io-client/lib/globalThis.browser.js":function(n,r){n.exports=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()},"./node_modules/engine.io-client/lib/index.js":function(n,r,s){n.exports=s("./node_modules/engine.io-client/lib/socket.js"),n.exports.parser=s("./node_modules/engine.io-parser/lib/browser.js")},"./node_modules/engine.io-client/lib/socket.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/transports/index.js"),a=s("./node_modules/component-emitter/index.js"),u=s("./node_modules/debug/src/browser.js")("engine.io-client:socket"),m=s("./node_modules/indexof/index.js"),E=s("./node_modules/engine.io-parser/lib/browser.js"),b=s("./node_modules/parseuri/index.js"),y=s("./node_modules/parseqs/index.js");n.exports=o;function o(g,d){if(!(this instanceof o))return new o(g,d);d=d||{},g&&typeof g=="object"&&(d=g,g=null),g?(g=b(g),d.hostname=g.host,d.secure=g.protocol==="https"||g.protocol==="wss",d.port=g.port,g.query&&(d.query=g.query)):d.host&&(d.hostname=b(d.host).host),this.secure=d.secure!=null?d.secure:typeof location<"u"&&location.protocol==="https:",d.hostname&&!d.port&&(d.port=this.secure?"443":"80"),this.agent=d.agent||!1,this.hostname=d.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=d.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=d.query||{},typeof this.query=="string"&&(this.query=y.decode(this.query)),this.upgrade=d.upgrade!==!1,this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!d.forceJSONP,this.jsonp=d.jsonp!==!1,this.forceBase64=!!d.forceBase64,this.enablesXDR=!!d.enablesXDR,this.withCredentials=d.withCredentials!==!1,this.timestampParam=d.timestampParam||"t",this.timestampRequests=d.timestampRequests,this.transports=d.transports||["polling","websocket"],this.transportOptions=d.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=d.policyPort||843,this.rememberUpgrade=d.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=d.onlyBinaryUpgrades,this.perMessageDeflate=d.perMessageDeflate!==!1?d.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=d.pfx||void 0,this.key=d.key||void 0,this.passphrase=d.passphrase||void 0,this.cert=d.cert||void 0,this.ca=d.ca||void 0,this.ciphers=d.ciphers||void 0,this.rejectUnauthorized=d.rejectUnauthorized===void 0?!0:d.rejectUnauthorized,this.forceNode=!!d.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(d.extraHeaders&&Object.keys(d.extraHeaders).length>0&&(this.extraHeaders=d.extraHeaders),d.localAddress&&(this.localAddress=d.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}o.priorWebsocketSuccess=!1,a(o.prototype),o.protocol=E.protocol,o.Socket=o,o.Transport=s("./node_modules/engine.io-client/lib/transport.js"),o.transports=s("./node_modules/engine.io-client/lib/transports/index.js"),o.parser=s("./node_modules/engine.io-parser/lib/browser.js"),o.prototype.createTransport=function(g){u('creating transport "%s"',g);var d=p(this.query);d.EIO=E.protocol,d.transport=g;var c=this.transportOptions[g]||{};this.id&&(d.sid=this.id);var w=new i[g]({query:d,socket:this,agent:c.agent||this.agent,hostname:c.hostname||this.hostname,port:c.port||this.port,secure:c.secure||this.secure,path:c.path||this.path,forceJSONP:c.forceJSONP||this.forceJSONP,jsonp:c.jsonp||this.jsonp,forceBase64:c.forceBase64||this.forceBase64,enablesXDR:c.enablesXDR||this.enablesXDR,withCredentials:c.withCredentials||this.withCredentials,timestampRequests:c.timestampRequests||this.timestampRequests,timestampParam:c.timestampParam||this.timestampParam,policyPort:c.policyPort||this.policyPort,pfx:c.pfx||this.pfx,key:c.key||this.key,passphrase:c.passphrase||this.passphrase,cert:c.cert||this.cert,ca:c.ca||this.ca,ciphers:c.ciphers||this.ciphers,rejectUnauthorized:c.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:c.perMessageDeflate||this.perMessageDeflate,extraHeaders:c.extraHeaders||this.extraHeaders,forceNode:c.forceNode||this.forceNode,localAddress:c.localAddress||this.localAddress,requestTimeout:c.requestTimeout||this.requestTimeout,protocols:c.protocols||void 0,isReactNative:this.isReactNative});return w};function p(g){var d={};for(var c in g)g.hasOwnProperty(c)&&(d[c]=g[c]);return d}o.prototype.open=function(){var g;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)g="websocket";else if(this.transports.length===0){var d=this;setTimeout(function(){d.emit("error","No transports available")},0);return}else g=this.transports[0];this.readyState="opening";try{g=this.createTransport(g)}catch{this.transports.shift(),this.open();return}g.open(),this.setTransport(g)},o.prototype.setTransport=function(g){u("setting transport %s",g.name);var d=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=g,g.on("drain",function(){d.onDrain()}).on("packet",function(c){d.onPacket(c)}).on("error",function(c){d.onError(c)}).on("close",function(){d.onClose("transport close")})},o.prototype.probe=function(g){u('probing transport "%s"',g);var d=this.createTransport(g,{probe:1}),c=!1,w=this;o.priorWebsocketSuccess=!1;function x(){if(w.onlyBinaryUpgrades){var _=!this.supportsBinary&&w.transport.supportsBinary;c=c||_}c||(u('probe transport "%s" opened',g),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(R){if(!c)if(R.type==="pong"&&R.data==="probe"){if(u('probe transport "%s" pong',g),w.upgrading=!0,w.emit("upgrading",d),!d)return;o.priorWebsocketSuccess=d.name==="websocket",u('pausing current transport "%s"',w.transport.name),w.transport.pause(function(){c||w.readyState!=="closed"&&(u("changing transport and sending upgrade packet"),k(),w.setTransport(d),d.send([{type:"upgrade"}]),w.emit("upgrade",d),d=null,w.upgrading=!1,w.flush())})}else{u('probe transport "%s" failed',g);var P=new Error("probe error");P.transport=d.name,w.emit("upgradeError",P)}}))}function I(){c||(c=!0,k(),d.close(),d=null)}function T(_){var R=new Error("probe error: "+_);R.transport=d.name,I(),u('probe transport "%s" failed because of error: %s',g,_),w.emit("upgradeError",R)}function C(){T("transport closed")}function B(){T("socket closed")}function O(_){d&&_.name!==d.name&&(u('"%s" works - aborting "%s"',_.name,d.name),I())}function k(){d.removeListener("open",x),d.removeListener("error",T),d.removeListener("close",C),w.removeListener("close",B),w.removeListener("upgrading",O)}d.once("open",x),d.once("error",T),d.once("close",C),this.once("close",B),this.once("upgrading",O),d.open()},o.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",o.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var g=0,d=this.upgrades.length;g<d;g++)this.probe(this.upgrades[g])}},o.prototype.onPacket=function(g){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(u('socket receive: type "%s", data "%s"',g.type,g.data),this.emit("packet",g),this.emit("heartbeat"),g.type){case"open":this.onHandshake(JSON.parse(g.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var d=new Error("server error");d.code=g.data,this.onError(d);break;case"message":this.emit("data",g.data),this.emit("message",g.data);break}else u('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(g){this.emit("handshake",g),this.id=g.sid,this.transport.query.sid=g.sid,this.upgrades=this.filterUpgrades(g.upgrades),this.pingInterval=g.pingInterval,this.pingTimeout=g.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(g){clearTimeout(this.pingTimeoutTimer);var d=this;d.pingTimeoutTimer=setTimeout(function(){d.readyState!=="closed"&&d.onClose("ping timeout")},g||d.pingInterval+d.pingTimeout)},o.prototype.setPing=function(){var g=this;clearTimeout(g.pingIntervalTimer),g.pingIntervalTimer=setTimeout(function(){u("writing ping packet - expecting pong within %sms",g.pingTimeout),g.ping(),g.onHeartbeat(g.pingTimeout)},g.pingInterval)},o.prototype.ping=function(){var g=this;this.sendPacket("ping",function(){g.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},o.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(g,d,c){return this.sendPacket("message",g,d,c),this},o.prototype.sendPacket=function(g,d,c,w){if(typeof d=="function"&&(w=d,d=void 0),typeof c=="function"&&(w=c,c=null),!(this.readyState==="closing"||this.readyState==="closed")){c=c||{},c.compress=c.compress!==!1;var x={type:g,data:d,options:c};this.emit("packetCreate",x),this.writeBuffer.push(x),w&&this.once("flush",w),this.flush()}},o.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var g=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?w():d()}):this.upgrading?w():d()}function d(){g.onClose("forced close"),u("socket closing - telling transport to close"),g.transport.close()}function c(){g.removeListener("upgrade",c),g.removeListener("upgradeError",c),d()}function w(){g.once("upgrade",c),g.once("upgradeError",c)}return this},o.prototype.onError=function(g){u("socket error %j",g),o.priorWebsocketSuccess=!1,this.emit("error",g),this.onClose("transport error",g)},o.prototype.onClose=function(g,d){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){u('socket close with reason: "%s"',g);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",g,d),c.writeBuffer=[],c.prevBufferLen=0}},o.prototype.filterUpgrades=function(g){for(var d=[],c=0,w=g.length;c<w;c++)~m(this.transports,g[c])&&d.push(g[c]);return d}},"./node_modules/engine.io-client/lib/transport.js":function(n,r,s){var i=s("./node_modules/engine.io-parser/lib/browser.js"),a=s("./node_modules/component-emitter/index.js");n.exports=u;function u(m){this.path=m.path,this.hostname=m.hostname,this.port=m.port,this.secure=m.secure,this.query=m.query,this.timestampParam=m.timestampParam,this.timestampRequests=m.timestampRequests,this.readyState="",this.agent=m.agent||!1,this.socket=m.socket,this.enablesXDR=m.enablesXDR,this.withCredentials=m.withCredentials,this.pfx=m.pfx,this.key=m.key,this.passphrase=m.passphrase,this.cert=m.cert,this.ca=m.ca,this.ciphers=m.ciphers,this.rejectUnauthorized=m.rejectUnauthorized,this.forceNode=m.forceNode,this.isReactNative=m.isReactNative,this.extraHeaders=m.extraHeaders,this.localAddress=m.localAddress}a(u.prototype),u.prototype.onError=function(m,E){var b=new Error(m);return b.type="TransportError",b.description=E,this.emit("error",b),this},u.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},u.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},u.prototype.send=function(m){if(this.readyState==="open")this.write(m);else throw new Error("Transport not open")},u.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},u.prototype.onData=function(m){var E=i.decodePacket(m,this.socket.binaryType);this.onPacket(E)},u.prototype.onPacket=function(m){this.emit("packet",m)},u.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"./node_modules/engine.io-client/lib/transports/index.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/xmlhttprequest.js"),a=s("./node_modules/engine.io-client/lib/transports/polling-xhr.js"),u=s("./node_modules/engine.io-client/lib/transports/polling-jsonp.js"),m=s("./node_modules/engine.io-client/lib/transports/websocket.js");r.polling=E,r.websocket=m;function E(b){var y,o=!1,p=!1,g=b.jsonp!==!1;if(typeof location<"u"){var d=location.protocol==="https:",c=location.port;c||(c=d?443:80),o=b.hostname!==location.hostname||c!==b.port,p=b.secure!==d}if(b.xdomain=o,b.xscheme=p,y=new i(b),"open"in y&&!b.forceJSONP)return new a(b);if(!g)throw new Error("JSONP disabled");return new u(b)}},"./node_modules/engine.io-client/lib/transports/polling-jsonp.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/transports/polling.js"),a=s("./node_modules/component-inherit/index.js"),u=s("./node_modules/engine.io-client/lib/globalThis.browser.js");n.exports=o;var m=/\n/g,E=/\\n/g,b;function y(){}function o(p){i.call(this,p),this.query=this.query||{},b||(b=u.___eio=u.___eio||[]),this.index=b.length;var g=this;b.push(function(d){g.onData(d)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){g.script&&(g.script.onerror=y)},!1)}a(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var p=this,g=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),g.async=!0,g.src=this.uri(),g.onerror=function(w){p.onError("jsonp poll error",w)};var d=document.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(g,d):(document.head||document.body).appendChild(g),this.script=g;var c=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);c&&setTimeout(function(){var w=document.createElement("iframe");document.body.appendChild(w),document.body.removeChild(w)},100)},o.prototype.doWrite=function(p,g){var d=this;if(!this.form){var c=document.createElement("form"),w=document.createElement("textarea"),x=this.iframeId="eio_iframe_"+this.index,I;c.className="socketio",c.style.position="absolute",c.style.top="-1000px",c.style.left="-1000px",c.target=x,c.method="POST",c.setAttribute("accept-charset","utf-8"),w.name="d",c.appendChild(w),document.body.appendChild(c),this.form=c,this.area=w}this.form.action=this.uri();function T(){C(),g()}function C(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(O){d.onError("jsonp polling iframe removal error",O)}try{var B='<iframe src="javascript:0" name="'+d.iframeId+'">';I=document.createElement(B)}catch{I=document.createElement("iframe"),I.name=d.iframeId,I.src="javascript:0"}I.id=d.iframeId,d.form.appendChild(I),d.iframe=I}C(),p=p.replace(E,`\\
`),this.area.value=p.replace(m,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){d.iframe.readyState==="complete"&&T()}:this.iframe.onload=T}},"./node_modules/engine.io-client/lib/transports/polling-xhr.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/xmlhttprequest.js"),a=s("./node_modules/engine.io-client/lib/transports/polling.js"),u=s("./node_modules/component-emitter/index.js"),m=s("./node_modules/component-inherit/index.js"),E=s("./node_modules/debug/src/browser.js")("engine.io-client:polling-xhr"),b=s("./node_modules/engine.io-client/lib/globalThis.browser.js");n.exports=o,n.exports.Request=p;function y(){}function o(c){if(a.call(this,c),this.requestTimeout=c.requestTimeout,this.extraHeaders=c.extraHeaders,typeof location<"u"){var w=location.protocol==="https:",x=location.port;x||(x=w?443:80),this.xd=typeof location<"u"&&c.hostname!==location.hostname||x!==c.port,this.xs=c.secure!==w}}m(o,a),o.prototype.supportsBinary=!0,o.prototype.request=function(c){return c=c||{},c.uri=this.uri(),c.xd=this.xd,c.xs=this.xs,c.agent=this.agent||!1,c.supportsBinary=this.supportsBinary,c.enablesXDR=this.enablesXDR,c.withCredentials=this.withCredentials,c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,c.requestTimeout=this.requestTimeout,c.extraHeaders=this.extraHeaders,new p(c)},o.prototype.doWrite=function(c,w){var x=typeof c!="string"&&c!==void 0,I=this.request({method:"POST",data:c,isBinary:x}),T=this;I.on("success",w),I.on("error",function(C){T.onError("xhr post error",C)}),this.sendXhr=I},o.prototype.doPoll=function(){E("xhr poll");var c=this.request(),w=this;c.on("data",function(x){w.onData(x)}),c.on("error",function(x){w.onError("xhr poll error",x)}),this.pollXhr=c};function p(c){this.method=c.method||"GET",this.uri=c.uri,this.xd=!!c.xd,this.xs=!!c.xs,this.async=c.async!==!1,this.data=c.data!==void 0?c.data:null,this.agent=c.agent,this.isBinary=c.isBinary,this.supportsBinary=c.supportsBinary,this.enablesXDR=c.enablesXDR,this.withCredentials=c.withCredentials,this.requestTimeout=c.requestTimeout,this.pfx=c.pfx,this.key=c.key,this.passphrase=c.passphrase,this.cert=c.cert,this.ca=c.ca,this.ciphers=c.ciphers,this.rejectUnauthorized=c.rejectUnauthorized,this.extraHeaders=c.extraHeaders,this.create()}if(u(p.prototype),p.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized;var w=this.xhr=new i(c),x=this;try{E("xhr open %s: %s",this.method,this.uri),w.open(this.method,this.uri,this.async);try{if(this.extraHeaders){w.setDisableHeaderCheck&&w.setDisableHeaderCheck(!0);for(var I in this.extraHeaders)this.extraHeaders.hasOwnProperty(I)&&w.setRequestHeader(I,this.extraHeaders[I])}}catch{}if(this.method==="POST")try{this.isBinary?w.setRequestHeader("Content-type","application/octet-stream"):w.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{w.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in w&&(w.withCredentials=this.withCredentials),this.requestTimeout&&(w.timeout=this.requestTimeout),this.hasXDR()?(w.onload=function(){x.onLoad()},w.onerror=function(){x.onError(w.responseText)}):w.onreadystatechange=function(){if(w.readyState===2)try{var T=w.getResponseHeader("Content-Type");(x.supportsBinary&&T==="application/octet-stream"||T==="application/octet-stream; charset=UTF-8")&&(w.responseType="arraybuffer")}catch{}w.readyState===4&&(w.status===200||w.status===1223?x.onLoad():setTimeout(function(){x.onError(typeof w.status=="number"?w.status:0)},0))},E("xhr data %s",this.data),w.send(this.data)}catch(T){setTimeout(function(){x.onError(T)},0);return}typeof document<"u"&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(c){this.emit("data",c),this.onSuccess()},p.prototype.onError=function(c){this.emit("error",c),this.cleanup(!0)},p.prototype.cleanup=function(c){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=y:this.xhr.onreadystatechange=y,c)try{this.xhr.abort()}catch{}typeof document<"u"&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var c;try{var w;try{w=this.xhr.getResponseHeader("Content-Type")}catch{}w==="application/octet-stream"||w==="application/octet-stream; charset=UTF-8"?c=this.xhr.response||this.xhr.responseText:c=this.xhr.responseText}catch(x){this.onError(x)}c!=null&&this.onData(c)},p.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",d);else if(typeof addEventListener=="function"){var g="onpagehide"in b?"pagehide":"unload";addEventListener(g,d,!1)}}function d(){for(var c in p.requests)p.requests.hasOwnProperty(c)&&p.requests[c].abort()}},"./node_modules/engine.io-client/lib/transports/polling.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/transport.js"),a=s("./node_modules/parseqs/index.js"),u=s("./node_modules/engine.io-parser/lib/browser.js"),m=s("./node_modules/component-inherit/index.js"),E=s("./node_modules/yeast/index.js"),b=s("./node_modules/debug/src/browser.js")("engine.io-client:polling");n.exports=o;var y=function(){var p=s("./node_modules/engine.io-client/lib/xmlhttprequest.js"),g=new p({xdomain:!1});return g.responseType!=null}();function o(p){var g=p&&p.forceBase64;(!y||g)&&(this.supportsBinary=!1),i.call(this,p)}m(o,i),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(p){var g=this;this.readyState="pausing";function d(){b("paused"),g.readyState="paused",p()}if(this.polling||!this.writable){var c=0;this.polling&&(b("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){b("pre-pause polling complete"),--c||d()})),this.writable||(b("we are currently writing - waiting to pause"),c++,this.once("drain",function(){b("pre-pause writing complete"),--c||d()}))}else d()},o.prototype.poll=function(){b("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(p){var g=this;b("polling got data %s",p);var d=function(c,w,x){if(g.readyState==="opening"&&c.type==="open"&&g.onOpen(),c.type==="close")return g.onClose(),!1;g.onPacket(c)};u.decodePayload(p,this.socket.binaryType,d),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():b('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){var p=this;function g(){b("writing close packet"),p.write([{type:"close"}])}this.readyState==="open"?(b("transport open - closing"),g()):(b("transport not open - deferring close"),this.once("open",g))},o.prototype.write=function(p){var g=this;this.writable=!1;var d=function(){g.writable=!0,g.emit("drain")};u.encodePayload(p,this.supportsBinary,function(c){g.doWrite(c,d)})},o.prototype.uri=function(){var p=this.query||{},g=this.secure?"https":"http",d="";this.timestampRequests!==!1&&(p[this.timestampParam]=E()),!this.supportsBinary&&!p.sid&&(p.b64=1),p=a.encode(p),this.port&&(g==="https"&&Number(this.port)!==443||g==="http"&&Number(this.port)!==80)&&(d=":"+this.port),p.length&&(p="?"+p);var c=this.hostname.indexOf(":")!==-1;return g+"://"+(c?"["+this.hostname+"]":this.hostname)+d+this.path+p}},"./node_modules/engine.io-client/lib/transports/websocket.js":function(n,r,s){(function(i){var a=s("./node_modules/engine.io-client/lib/transport.js"),u=s("./node_modules/engine.io-parser/lib/browser.js"),m=s("./node_modules/parseqs/index.js"),E=s("./node_modules/component-inherit/index.js"),b=s("./node_modules/yeast/index.js"),y=s("./node_modules/debug/src/browser.js")("engine.io-client:websocket"),o,p;if(typeof WebSocket<"u"?o=WebSocket:typeof self<"u"&&(o=self.WebSocket||self.MozWebSocket),typeof window>"u")try{p=s(0)}catch{}var g=o||p;n.exports=d;function d(c){var w=c&&c.forceBase64;w&&(this.supportsBinary=!1),this.perMessageDeflate=c.perMessageDeflate,this.usingBrowserWebSocket=o&&!c.forceNode,this.protocols=c.protocols,this.usingBrowserWebSocket||(g=p),a.call(this,c)}E(d,a),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(!!this.check()){var c=this.uri(),w=this.protocols,x={};this.isReactNative||(x.agent=this.agent,x.perMessageDeflate=this.perMessageDeflate,x.pfx=this.pfx,x.key=this.key,x.passphrase=this.passphrase,x.cert=this.cert,x.ca=this.ca,x.ciphers=this.ciphers,x.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(x.headers=this.extraHeaders),this.localAddress&&(x.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?w?new g(c,w):new g(c):new g(c,w,x)}catch(I){return this.emit("error",I)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var c=this;this.ws.onopen=function(){c.onOpen()},this.ws.onclose=function(){c.onClose()},this.ws.onmessage=function(w){c.onData(w.data)},this.ws.onerror=function(w){c.onError("websocket error",w)}},d.prototype.write=function(c){var w=this;this.writable=!1;for(var x=c.length,I=0,T=x;I<T;I++)(function(B){u.encodePacket(B,w.supportsBinary,function(O){if(!w.usingBrowserWebSocket){var k={};if(B.options&&(k.compress=B.options.compress),w.perMessageDeflate){var _=typeof O=="string"?i.byteLength(O):O.length;_<w.perMessageDeflate.threshold&&(k.compress=!1)}}try{w.usingBrowserWebSocket?w.ws.send(O):w.ws.send(O,k)}catch{y("websocket closed before onclose event")}--x||C()})})(c[I]);function C(){w.emit("flush"),setTimeout(function(){w.writable=!0,w.emit("drain")},0)}},d.prototype.onClose=function(){a.prototype.onClose.call(this)},d.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},d.prototype.uri=function(){var c=this.query||{},w=this.secure?"wss":"ws",x="";this.port&&(w==="wss"&&Number(this.port)!==443||w==="ws"&&Number(this.port)!==80)&&(x=":"+this.port),this.timestampRequests&&(c[this.timestampParam]=b()),this.supportsBinary||(c.b64=1),c=m.encode(c),c.length&&(c="?"+c);var I=this.hostname.indexOf(":")!==-1;return w+"://"+(I?"["+this.hostname+"]":this.hostname)+x+this.path+c},d.prototype.check=function(){return!!g&&!("__initialize"in g&&this.name===d.prototype.name)}}).call(this,s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/engine.io-client/lib/xmlhttprequest.js":function(n,r,s){var i=s("./node_modules/has-cors/index.js"),a=s("./node_modules/engine.io-client/lib/globalThis.browser.js");n.exports=function(u){var m=u.xdomain,E=u.xscheme,b=u.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!m||i))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!E&&b)return new XDomainRequest}catch{}if(!m)try{return new a[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}},"./node_modules/engine.io-parser/lib/browser.js":function(n,r,s){var i=s("./node_modules/engine.io-parser/lib/keys.js"),a=s("./node_modules/has-binary2/index.js"),u=s("./node_modules/arraybuffer.slice/index.js"),m=s("./node_modules/after/index.js"),E=s("./node_modules/engine.io-parser/lib/utf8.js"),b;typeof ArrayBuffer<"u"&&(b=s("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js"));var y=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),o=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),p=y||o;r.protocol=3;var g=r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=i(g),c={type:"error",data:"parser error"},w=s("./node_modules/blob/index.js");r.encodePacket=function(k,_,R,P){typeof _=="function"&&(P=_,_=!1),typeof R=="function"&&(P=R,R=null);var M=k.data===void 0?void 0:k.data.buffer||k.data;if(typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer)return I(k,_,P);if(typeof w<"u"&&M instanceof w)return C(k,_,P);if(M&&M.base64)return x(k,P);var W=g[k.type];return k.data!==void 0&&(W+=R?E.encode(String(k.data),{strict:!1}):String(k.data)),P(""+W)};function x(k,_){var R="b"+r.packets[k.type]+k.data.data;return _(R)}function I(k,_,R){if(!_)return r.encodeBase64Packet(k,R);var P=k.data,M=new Uint8Array(P),W=new Uint8Array(1+P.byteLength);W[0]=g[k.type];for(var J=0;J<M.length;J++)W[J+1]=M[J];return R(W.buffer)}function T(k,_,R){if(!_)return r.encodeBase64Packet(k,R);var P=new FileReader;return P.onload=function(){r.encodePacket({type:k.type,data:P.result},_,!0,R)},P.readAsArrayBuffer(k.data)}function C(k,_,R){if(!_)return r.encodeBase64Packet(k,R);if(p)return T(k,_,R);var P=new Uint8Array(1);P[0]=g[k.type];var M=new w([P.buffer,k.data]);return R(M)}r.encodeBase64Packet=function(k,_){var R="b"+r.packets[k.type];if(typeof w<"u"&&k.data instanceof w){var P=new FileReader;return P.onload=function(){var U=P.result.split(",")[1];_(R+U)},P.readAsDataURL(k.data)}var M;try{M=String.fromCharCode.apply(null,new Uint8Array(k.data))}catch{for(var W=new Uint8Array(k.data),J=new Array(W.length),X=0;X<W.length;X++)J[X]=W[X];M=String.fromCharCode.apply(null,J)}return R+=btoa(M),_(R)},r.decodePacket=function(k,_,R){if(k===void 0)return c;if(typeof k=="string"){if(k.charAt(0)==="b")return r.decodeBase64Packet(k.substr(1),_);if(R&&(k=B(k),k===!1))return c;var M=k.charAt(0);return Number(M)!=M||!d[M]?c:k.length>1?{type:d[M],data:k.substring(1)}:{type:d[M]}}var P=new Uint8Array(k),M=P[0],W=u(k,1);return w&&_==="blob"&&(W=new w([W])),{type:d[M],data:W}};function B(k){try{k=E.decode(k,{strict:!1})}catch{return!1}return k}r.decodeBase64Packet=function(k,_){var R=d[k.charAt(0)];if(!b)return{type:R,data:{base64:!0,data:k.substr(1)}};var P=b.decode(k.substr(1));return _==="blob"&&w&&(P=new w([P])),{type:R,data:P}},r.encodePayload=function(k,_,R){typeof _=="function"&&(R=_,_=null);var P=a(k);if(_&&P)return w&&!p?r.encodePayloadAsBlob(k,R):r.encodePayloadAsArrayBuffer(k,R);if(!k.length)return R("0:");function M(J){return J.length+":"+J}function W(J,X){r.encodePacket(J,P?_:!1,!1,function(U){X(null,M(U))})}O(k,W,function(J,X){return R(X.join(""))})};function O(k,_,R){for(var P=new Array(k.length),M=m(k.length,R),W=function(X,U,ae){_(U,function(Z,se){P[X]=se,ae(Z,P)})},J=0;J<k.length;J++)W(J,k[J],M)}r.decodePayload=function(k,_,R){if(typeof k!="string")return r.decodePayloadAsBinary(k,_,R);typeof _=="function"&&(R=_,_=null);var P;if(k==="")return R(c,0,1);for(var M="",W,J,X=0,U=k.length;X<U;X++){var ae=k.charAt(X);if(ae!==":"){M+=ae;continue}if(M===""||M!=(W=Number(M))||(J=k.substr(X+1,W),M!=J.length))return R(c,0,1);if(J.length){if(P=r.decodePacket(J,_,!1),c.type===P.type&&c.data===P.data)return R(c,0,1);var Z=R(P,X+W,U);if(Z===!1)return}X+=W,M=""}if(M!=="")return R(c,0,1)},r.encodePayloadAsArrayBuffer=function(k,_){if(!k.length)return _(new ArrayBuffer(0));function R(P,M){r.encodePacket(P,!0,!0,function(W){return M(null,W)})}O(k,R,function(P,M){var W=M.reduce(function(U,ae){var Z;return typeof ae=="string"?Z=ae.length:Z=ae.byteLength,U+Z.toString().length+Z+2},0),J=new Uint8Array(W),X=0;return M.forEach(function(U){var ae=typeof U=="string",Z=U;if(ae){for(var Se=new Uint8Array(U.length),se=0;se<U.length;se++)Se[se]=U.charCodeAt(se);Z=Se.buffer}ae?J[X++]=0:J[X++]=1;for(var we=Z.byteLength.toString(),se=0;se<we.length;se++)J[X++]=parseInt(we[se]);J[X++]=255;for(var Se=new Uint8Array(Z),se=0;se<Se.length;se++)J[X++]=Se[se]}),_(J.buffer)})},r.encodePayloadAsBlob=function(k,_){function R(P,M){r.encodePacket(P,!0,!0,function(W){var J=new Uint8Array(1);if(J[0]=1,typeof W=="string"){for(var X=new Uint8Array(W.length),U=0;U<W.length;U++)X[U]=W.charCodeAt(U);W=X.buffer,J[0]=0}for(var ae=W instanceof ArrayBuffer?W.byteLength:W.size,Z=ae.toString(),se=new Uint8Array(Z.length+1),U=0;U<Z.length;U++)se[U]=parseInt(Z[U]);if(se[Z.length]=255,w){var we=new w([J.buffer,se.buffer,W]);M(null,we)}})}O(k,R,function(P,M){return _(new w(M))})},r.decodePayloadAsBinary=function(k,_,R){typeof _=="function"&&(R=_,_=null);for(var P=k,M=[];P.byteLength>0;){for(var W=new Uint8Array(P),J=W[0]===0,X="",U=1;W[U]!==255;U++){if(X.length>310)return R(c,0,1);X+=W[U]}P=u(P,2+X.length),X=parseInt(X);var ae=u(P,0,X);if(J)try{ae=String.fromCharCode.apply(null,new Uint8Array(ae))}catch{var Z=new Uint8Array(ae);ae="";for(var U=0;U<Z.length;U++)ae+=String.fromCharCode(Z[U])}M.push(ae),P=u(P,X)}var se=M.length;M.forEach(function(we,Se){R(r.decodePacket(we,_,!0),Se,se)})}},"./node_modules/engine.io-parser/lib/keys.js":function(n,r){n.exports=Object.keys||function(i){var a=[],u=Object.prototype.hasOwnProperty;for(var m in i)u.call(i,m)&&a.push(m);return a}},"./node_modules/engine.io-parser/lib/utf8.js":function(n,r){/*! https://mths.be/utf8js v2.1.2 by @mathias */var s=String.fromCharCode;function i(w){for(var x=[],I=0,T=w.length,C,B;I<T;)C=w.charCodeAt(I++),C>=55296&&C<=56319&&I<T?(B=w.charCodeAt(I++),(B&64512)==56320?x.push(((C&1023)<<10)+(B&1023)+65536):(x.push(C),I--)):x.push(C);return x}function a(w){for(var x=w.length,I=-1,T,C="";++I<x;)T=w[I],T>65535&&(T-=65536,C+=s(T>>>10&1023|55296),T=56320|T&1023),C+=s(T);return C}function u(w,x){if(w>=55296&&w<=57343){if(x)throw Error("Lone surrogate U+"+w.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function m(w,x){return s(w>>x&63|128)}function E(w,x){if((w&4294967168)==0)return s(w);var I="";return(w&4294965248)==0?I=s(w>>6&31|192):(w&4294901760)==0?(u(w,x)||(w=65533),I=s(w>>12&15|224),I+=m(w,6)):(w&4292870144)==0&&(I=s(w>>18&7|240),I+=m(w,12),I+=m(w,6)),I+=s(w&63|128),I}function b(w,x){x=x||{};for(var I=x.strict!==!1,T=i(w),C=T.length,B=-1,O,k="";++B<C;)O=T[B],k+=E(O,I);return k}function y(){if(d>=g)throw Error("Invalid byte index");var w=p[d]&255;if(d++,(w&192)==128)return w&63;throw Error("Invalid continuation byte")}function o(w){var x,I,T,C,B;if(d>g)throw Error("Invalid byte index");if(d==g)return!1;if(x=p[d]&255,d++,(x&128)==0)return x;if((x&224)==192){if(I=y(),B=(x&31)<<6|I,B>=128)return B;throw Error("Invalid continuation byte")}if((x&240)==224){if(I=y(),T=y(),B=(x&15)<<12|I<<6|T,B>=2048)return u(B,w)?B:65533;throw Error("Invalid continuation byte")}if((x&248)==240&&(I=y(),T=y(),C=y(),B=(x&7)<<18|I<<12|T<<6|C,B>=65536&&B<=1114111))return B;throw Error("Invalid UTF-8 detected")}var p,g,d;function c(w,x){x=x||{};var I=x.strict!==!1;p=i(w),g=p.length,d=0;for(var T=[],C;(C=o(I))!==!1;)T.push(C);return a(T)}n.exports={version:"2.1.2",encode:b,decode:c}},"./node_modules/enum/lib/enum.js":function(n,r,s){s.r(r),function(i){s.d(r,"default",function(){return o});var a=s("./node_modules/enum/lib/enumItem.js"),u=s("./node_modules/enum/lib/isType.js"),m=s("./node_modules/enum/lib/indexOf.js");const E=d=>d!=null&&d.constructor!=null&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d),y=(()=>{const d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256?"LE":"BE"})();class o{constructor(c,w){if(this.size=4,this.indirection=1,w&&Object(u.isString)(w)&&(w={name:w}),this._options=w||{},this._options.separator=this._options.separator||" | ",this._options.endianness=this._options.endianness||y,this._options.ignoreCase=this._options.ignoreCase||!1,this._options.freez=this._options.freez||!1,this._options.freeze=this._options.freeze||this._options.freez||!1,this.enums=[],c.length){this._enumLastIndex=c.length;var x=c;c={};for(var I=0;I<x.length;I++)c[x[I]]=Math.pow(2,I)}for(var T in c)g(this._options.name,T),this[T]=new a.default(T,c[T],{ignoreCase:this._options.ignoreCase}),this.enums.push(this[T]);this._enumMap=c,this._options.ignoreCase&&(this.getLowerCaseEnums=function(){for(var B={},O=0,k=this.enums.length;O<k;O++)B[this.enums[O].key.toLowerCase()]=this.enums[O];return B}),this._options.name&&(this.name=this._options.name);const C=()=>{for(var B=0,O=this.enums.length;B<O;B++){var k=this.enums[B];if(!(k.value!==0&&!(k.value&k.value-1)))return!1}return!0};this.isFlaggable=C(),this._options.freeze&&this.freezeEnums()}getKey(c){var w=this.get(c);if(w)return w.key}getValue(c){var w=this.get(c);if(w)return w.value}get(c,w){if(c!=null)if(E(c)&&(c=c["readUInt32"+this._options.endianness](w||0)),a.default.isEnumItem(c)){var x=m.indexOf.call(this.enums,c);return x>=0?c:!this.isFlaggable||this.isFlaggable&&c.key.indexOf(this._options.separator)<0?void 0:this.get(c.key)}else if(Object(u.isString)(c)){var I=this;if(this._options.ignoreCase&&(I=this.getLowerCaseEnums(),c=c.toLowerCase()),c.indexOf(this._options.separator)>0){for(var T=c.split(this._options.separator),C=0,B=0;B<T.length;B++){var O=T[B];C|=I[O].value}return new a.default(c,C)}else return I[c]}else{for(var k in this)if(this.hasOwnProperty(k)&&this[k].value===c)return this[k];var _=null;if(this.isFlaggable)for(var R in this)this.hasOwnProperty(R)&&(c&this[R].value)!==0&&(_?_+=this._options.separator:_="",_+=R);return this.get(_||null)}}set(c,w,x){var I=this.get(x);if(I)return c["writeUInt32"+this._options.endianness](I.value,w||0)}freezeEnums(){function c(){return Object.isFrozen&&Object.isSealed&&Object.getOwnPropertyNames&&Object.getOwnPropertyDescriptor&&Object.defineProperties&&Object.__defineGetter__&&Object.__defineSetter__}function w(T){var C=Object.getOwnPropertyNames(T);return C.forEach(function(B){!Object.getOwnPropertyDescriptor(T,B).configurable||Object.defineProperties(T,B,{writable:!1,configurable:!1})}),T}function x(T){return T}function I(T){if(!(typeof T!="object"||T===null||Object.isFrozen(T)||Object.isSealed(T))){for(var C in T)T.hasOwnProperty(C)&&(T.__defineGetter__(C,x.bind(null,T[C])),T.__defineSetter__(C,function(O){throw TypeError("Cannot redefine property; Enum Type is not extensible.")}),I(T[C]));Object.freeze?Object.freeze(T):w(T)}}return c()&&I(this),this}isDefined(c){let w=x=>x===c;return(Object(u.isString)(c)||Object(u.isNumber)(c))&&(w=x=>x.is(c)),this.enums.some(w)}toJSON(){return this._enumMap}extend(c){if(c.length){var w=c;c={};for(var x=0;x<w.length;x++){var I=this._enumLastIndex+x;c[w[x]]=Math.pow(2,I)}for(var T in c)g(this._options.name,T),this[T]=new a.default(T,c[T],{ignoreCase:this._options.ignoreCase}),this.enums.push(this[T]);for(var C in this._enumMap)c[C]=this._enumMap[C];this._enumLastIndex+=c.length,this._enumMap=c,this._options.freeze&&this.freezeEnums()}}static register(c="Enum"){typeof i<"u"&&!i[c]?i[c]=o:typeof window<"u"&&!window[c]&&(window[c]=o)}[Symbol.iterator](){let c=0;return{next:()=>c<this.enums.length?{done:!1,value:this.enums[c++]}:{done:!0}}}}var p=["_options","get","getKey","getValue","enums","isFlaggable","_enumMap","toJSON","_enumLastIndex"];function g(d,c){if(d&&c==="name"||m.indexOf.call(p,c)>=0)throw new Error(`Enum key ${c} is a reserved word!`)}}.call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/enum/lib/enumItem.js":function(n,r,s){s.r(r),s.d(r,"default",function(){return a});var i=s("./node_modules/enum/lib/isType.js");class a{constructor(m,E,b={}){this.key=m,this.value=E,this._options=b,this._options.ignoreCase=this._options.ignoreCase||!1}has(m){return a.isEnumItem(m)?(this.value&m.value)!==0:Object(i.isString)(m)?this._options.ignoreCase?this.key.toLowerCase().indexOf(m.toLowerCase())>=0:this.key.indexOf(m)>=0:(this.value&m)!==0}is(m){return a.isEnumItem(m)?this.key===m.key:Object(i.isString)(m)?this._options.ignoreCase?this.key.toLowerCase()===m.toLowerCase():this.key===m:this.value===m}toString(){return this.key}toJSON(){return this.key}valueOf(){return this.value}static isEnumItem(m){return m instanceof a||Object(i.isObject)(m)&&m.key!==void 0&&m.value!==void 0}}},"./node_modules/enum/lib/indexOf.js":function(n,r,s){s.r(r),s.d(r,"indexOf",function(){return i});const i=Array.prototype.indexOf||function(a,u){u===void 0&&(u=0),u<0&&(u+=this.length),u<0&&(u=0);for(var m=this.length;u<m;u++)if(u in this&&this[u]===a)return u;return-1}},"./node_modules/enum/lib/isType.js":function(n,r,s){s.r(r),s.d(r,"isType",function(){return i}),s.d(r,"isObject",function(){return a}),s.d(r,"isString",function(){return u}),s.d(r,"isNumber",function(){return m});const i=(E,b)=>typeof b===E,a=E=>i("object",E),u=E=>i("string",E),m=E=>i("number",E)},"./node_modules/events/events.js":function(n,r,s){var i=typeof Reflect=="object"?Reflect:null,a=i&&typeof i.apply=="function"?i.apply:function(R,P,M){return Function.prototype.apply.call(R,P,M)},u;i&&typeof i.ownKeys=="function"?u=i.ownKeys:Object.getOwnPropertySymbols?u=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:u=function(R){return Object.getOwnPropertyNames(R)};function m(_){console&&console.warn&&console.warn(_)}var E=Number.isNaN||function(R){return R!==R};function b(){b.init.call(this)}n.exports=b,n.exports.once=B,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var y=10;function o(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(_){if(typeof _!="number"||_<0||E(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");y=_}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||E(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function p(_){return _._maxListeners===void 0?b.defaultMaxListeners:_._maxListeners}b.prototype.getMaxListeners=function(){return p(this)},b.prototype.emit=function(R){for(var P=[],M=1;M<arguments.length;M++)P.push(arguments[M]);var W=R==="error",J=this._events;if(J!==void 0)W=W&&J.error===void 0;else if(!W)return!1;if(W){var X;if(P.length>0&&(X=P[0]),X instanceof Error)throw X;var U=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw U.context=X,U}var ae=J[R];if(ae===void 0)return!1;if(typeof ae=="function")a(ae,this,P);else for(var Z=ae.length,se=I(ae,Z),M=0;M<Z;++M)a(se[M],this,P);return!0};function g(_,R,P,M){var W,J,X;if(o(P),J=_._events,J===void 0?(J=_._events=Object.create(null),_._eventsCount=0):(J.newListener!==void 0&&(_.emit("newListener",R,P.listener?P.listener:P),J=_._events),X=J[R]),X===void 0)X=J[R]=P,++_._eventsCount;else if(typeof X=="function"?X=J[R]=M?[P,X]:[X,P]:M?X.unshift(P):X.push(P),W=p(_),W>0&&X.length>W&&!X.warned){X.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=_,U.type=R,U.count=X.length,m(U)}return _}b.prototype.addListener=function(R,P){return g(this,R,P,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(R,P){return g(this,R,P,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(_,R,P){var M={fired:!1,wrapFn:void 0,target:_,type:R,listener:P},W=d.bind(M);return W.listener=P,M.wrapFn=W,W}b.prototype.once=function(R,P){return o(P),this.on(R,c(this,R,P)),this},b.prototype.prependOnceListener=function(R,P){return o(P),this.prependListener(R,c(this,R,P)),this},b.prototype.removeListener=function(R,P){var M,W,J,X,U;if(o(P),W=this._events,W===void 0)return this;if(M=W[R],M===void 0)return this;if(M===P||M.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete W[R],W.removeListener&&this.emit("removeListener",R,M.listener||P));else if(typeof M!="function"){for(J=-1,X=M.length-1;X>=0;X--)if(M[X]===P||M[X].listener===P){U=M[X].listener,J=X;break}if(J<0)return this;J===0?M.shift():T(M,J),M.length===1&&(W[R]=M[0]),W.removeListener!==void 0&&this.emit("removeListener",R,U||P)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(R){var P,M,W;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[R]),this;if(arguments.length===0){var J=Object.keys(M),X;for(W=0;W<J.length;++W)X=J[W],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=M[R],typeof P=="function")this.removeListener(R,P);else if(P!==void 0)for(W=P.length-1;W>=0;W--)this.removeListener(R,P[W]);return this};function w(_,R,P){var M=_._events;if(M===void 0)return[];var W=M[R];return W===void 0?[]:typeof W=="function"?P?[W.listener||W]:[W]:P?C(W):I(W,W.length)}b.prototype.listeners=function(R){return w(this,R,!0)},b.prototype.rawListeners=function(R){return w(this,R,!1)},b.listenerCount=function(_,R){return typeof _.listenerCount=="function"?_.listenerCount(R):x.call(_,R)},b.prototype.listenerCount=x;function x(_){var R=this._events;if(R!==void 0){var P=R[_];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function I(_,R){for(var P=new Array(R),M=0;M<R;++M)P[M]=_[M];return P}function T(_,R){for(;R+1<_.length;R++)_[R]=_[R+1];_.pop()}function C(_){for(var R=new Array(_.length),P=0;P<R.length;++P)R[P]=_[P].listener||_[P];return R}function B(_,R){return new Promise(function(P,M){function W(X){_.removeListener(R,J),M(X)}function J(){typeof _.removeListener=="function"&&_.removeListener("error",W),P([].slice.call(arguments))}k(_,R,J,{once:!0}),R!=="error"&&O(_,W,{once:!0})})}function O(_,R,P){typeof _.on=="function"&&k(_,"error",R,P)}function k(_,R,P,M){if(typeof _.on=="function")M.once?_.once(R,P):_.on(R,P);else if(typeof _.addEventListener=="function")_.addEventListener(R,function W(J){M.once&&_.removeEventListener(R,W),P(J)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}},"./node_modules/filter-obj/index.js":function(n,r,s){n.exports=function(i,a){for(var u={},m=Object.keys(i),E=Array.isArray(a),b=0;b<m.length;b++){var y=m[b],o=i[y];(E?a.indexOf(y)!==-1:a(y,o,i))&&(u[y]=o)}return u}},"./node_modules/has-binary2/index.js":function(n,r,s){(function(i){var a=s("./node_modules/isarray/index.js"),u=Object.prototype.toString,m=typeof Blob=="function"||typeof Blob<"u"&&u.call(Blob)==="[object BlobConstructor]",E=typeof File=="function"||typeof File<"u"&&u.call(File)==="[object FileConstructor]";n.exports=b;function b(y){if(!y||typeof y!="object")return!1;if(a(y)){for(var o=0,p=y.length;o<p;o++)if(b(y[o]))return!0;return!1}if(typeof i=="function"&&i.isBuffer&&i.isBuffer(y)||typeof ArrayBuffer=="function"&&y instanceof ArrayBuffer||m&&y instanceof Blob||E&&y instanceof File)return!0;if(y.toJSON&&typeof y.toJSON=="function"&&arguments.length===1)return b(y.toJSON(),!0);for(var g in y)if(Object.prototype.hasOwnProperty.call(y,g)&&b(y[g]))return!0;return!1}}).call(this,s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/has-cors/index.js":function(n,r){try{n.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{n.exports=!1}},"./node_modules/ieee754/index.js":function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(s,i,a,u,m){var E,b,y=m*8-u-1,o=(1<<y)-1,p=o>>1,g=-7,d=a?m-1:0,c=a?-1:1,w=s[i+d];for(d+=c,E=w&(1<<-g)-1,w>>=-g,g+=y;g>0;E=E*256+s[i+d],d+=c,g-=8);for(b=E&(1<<-g)-1,E>>=-g,g+=u;g>0;b=b*256+s[i+d],d+=c,g-=8);if(E===0)E=1-p;else{if(E===o)return b?NaN:(w?-1:1)*(1/0);b=b+Math.pow(2,u),E=E-p}return(w?-1:1)*b*Math.pow(2,E-u)},r.write=function(s,i,a,u,m,E){var b,y,o,p=E*8-m-1,g=(1<<p)-1,d=g>>1,c=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=u?0:E-1,x=u?1:-1,I=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(y=isNaN(i)?1:0,b=g):(b=Math.floor(Math.log(i)/Math.LN2),i*(o=Math.pow(2,-b))<1&&(b--,o*=2),b+d>=1?i+=c/o:i+=c*Math.pow(2,1-d),i*o>=2&&(b++,o/=2),b+d>=g?(y=0,b=g):b+d>=1?(y=(i*o-1)*Math.pow(2,m),b=b+d):(y=i*Math.pow(2,d-1)*Math.pow(2,m),b=0));m>=8;s[a+w]=y&255,w+=x,y/=256,m-=8);for(b=b<<m|y,p+=m;p>0;s[a+w]=b&255,w+=x,b/=256,p-=8);s[a+w-x]|=I*128}},"./node_modules/indexof/index.js":function(n,r){var s=[].indexOf;n.exports=function(i,a){if(s)return i.indexOf(a);for(var u=0;u<i.length;++u)if(i[u]===a)return u;return-1}},"./node_modules/isarray/index.js":function(n,r){var s={}.toString;n.exports=Array.isArray||function(i){return s.call(i)=="[object Array]"}},"./node_modules/js-binarypack/lib/binarypack.js":function(n,r,s){var i=s("./node_modules/js-binarypack/lib/bufferbuilder.js").BufferBuilder,a=s("./node_modules/js-binarypack/lib/bufferbuilder.js").binaryFeatures,u={unpack:function(o){var p=new m(o);return p.unpack()},pack:function(o){var p=new E;p.pack(o);var g=p.getBuffer();return g}};n.exports=u;function m(o){this.index=0,this.dataBuffer=o,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}m.prototype.unpack=function(){var o=this.unpack_uint8();if(o<128){var p=o;return p}else if((o^224)<32){var g=(o^224)-32;return g}var d;if((d=o^160)<=15)return this.unpack_raw(d);if((d=o^176)<=15)return this.unpack_string(d);if((d=o^144)<=15)return this.unpack_array(d);if((d=o^128)<=15)return this.unpack_map(d);switch(o){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return d=this.unpack_uint16(),this.unpack_string(d);case 217:return d=this.unpack_uint32(),this.unpack_string(d);case 218:return d=this.unpack_uint16(),this.unpack_raw(d);case 219:return d=this.unpack_uint32(),this.unpack_raw(d);case 220:return d=this.unpack_uint16(),this.unpack_array(d);case 221:return d=this.unpack_uint32(),this.unpack_array(d);case 222:return d=this.unpack_uint16(),this.unpack_map(d);case 223:return d=this.unpack_uint32(),this.unpack_map(d)}},m.prototype.unpack_uint8=function(){var o=this.dataView[this.index]&255;return this.index++,o},m.prototype.unpack_uint16=function(){var o=this.read(2),p=(o[0]&255)*256+(o[1]&255);return this.index+=2,p},m.prototype.unpack_uint32=function(){var o=this.read(4),p=((o[0]*256+o[1])*256+o[2])*256+o[3];return this.index+=4,p},m.prototype.unpack_uint64=function(){var o=this.read(8),p=((((((o[0]*256+o[1])*256+o[2])*256+o[3])*256+o[4])*256+o[5])*256+o[6])*256+o[7];return this.index+=8,p},m.prototype.unpack_int8=function(){var o=this.unpack_uint8();return o<128?o:o-(1<<8)},m.prototype.unpack_int16=function(){var o=this.unpack_uint16();return o<32768?o:o-(1<<16)},m.prototype.unpack_int32=function(){var o=this.unpack_uint32();return o<Math.pow(2,31)?o:o-Math.pow(2,32)},m.prototype.unpack_int64=function(){var o=this.unpack_uint64();return o<Math.pow(2,63)?o:o-Math.pow(2,64)},m.prototype.unpack_raw=function(o){if(this.length<this.index+o)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+o+" "+this.length);var p=this.dataBuffer.slice(this.index,this.index+o);return this.index+=o,p},m.prototype.unpack_string=function(o){for(var p=this.read(o),g=0,d="",c,w;g<o;)c=p[g],c<128?(d+=String.fromCharCode(c),g++):(c^192)<32?(w=(c^192)<<6|p[g+1]&63,d+=String.fromCharCode(w),g+=2):(w=(c&15)<<12|(p[g+1]&63)<<6|p[g+2]&63,d+=String.fromCharCode(w),g+=3);return this.index+=o,d},m.prototype.unpack_array=function(o){for(var p=new Array(o),g=0;g<o;g++)p[g]=this.unpack();return p},m.prototype.unpack_map=function(o){for(var p={},g=0;g<o;g++){var d=this.unpack(),c=this.unpack();p[d]=c}return p},m.prototype.unpack_float=function(){var o=this.unpack_uint32(),p=o>>31,g=(o>>23&255)-127,d=o&8388607|8388608;return(p==0?1:-1)*d*Math.pow(2,g-23)},m.prototype.unpack_double=function(){var o=this.unpack_uint32(),p=this.unpack_uint32(),g=o>>31,d=(o>>20&2047)-1023,c=o&1048575|1048576,w=c*Math.pow(2,d-20)+p*Math.pow(2,d-52);return(g==0?1:-1)*w},m.prototype.read=function(o){var p=this.index;if(p+o<=this.length)return this.dataView.subarray(p,p+o);throw new Error("BinaryPackFailure: read index out of range")};function E(){this.bufferBuilder=new i}E.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},E.prototype.pack=function(o){var p=typeof o;if(p=="string")this.pack_string(o);else if(p=="number")Math.floor(o)===o?this.pack_integer(o):this.pack_double(o);else if(p=="boolean")o===!0?this.bufferBuilder.append(195):o===!1&&this.bufferBuilder.append(194);else if(p=="undefined")this.bufferBuilder.append(192);else if(p=="object")if(o===null)this.bufferBuilder.append(192);else{var g=o.constructor;if(g==Array)this.pack_array(o);else if(g==Blob||g==File)this.pack_bin(o);else if(g==ArrayBuffer)a.useArrayBufferView?this.pack_bin(new Uint8Array(o)):this.pack_bin(o);else if("BYTES_PER_ELEMENT"in o)a.useArrayBufferView?this.pack_bin(new Uint8Array(o.buffer)):this.pack_bin(o.buffer);else if(g==Object)this.pack_object(o);else if(g==Date)this.pack_string(o.toString());else if(typeof o.toBinaryPack=="function")this.bufferBuilder.append(o.toBinaryPack());else throw new Error('Type "'+g.toString()+'" not yet supported')}else throw new Error('Type "'+p+'" not yet supported');this.bufferBuilder.flush()},E.prototype.pack_bin=function(o){var p=o.length||o.byteLength||o.size;if(p<=15)this.pack_uint8(160+p);else if(p<=65535)this.bufferBuilder.append(218),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(o)},E.prototype.pack_string=function(o){var p=y(o);if(p<=15)this.pack_uint8(176+p);else if(p<=65535)this.bufferBuilder.append(216),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(o)},E.prototype.pack_array=function(o){var p=o.length;if(p<=15)this.pack_uint8(144+p);else if(p<=65535)this.bufferBuilder.append(220),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(p);else throw new Error("Invalid length");for(var g=0;g<p;g++)this.pack(o[g])},E.prototype.pack_integer=function(o){if(-32<=o&&o<=127)this.bufferBuilder.append(o&255);else if(0<=o&&o<=255)this.bufferBuilder.append(204),this.pack_uint8(o);else if(-128<=o&&o<=127)this.bufferBuilder.append(208),this.pack_int8(o);else if(0<=o&&o<=65535)this.bufferBuilder.append(205),this.pack_uint16(o);else if(-32768<=o&&o<=32767)this.bufferBuilder.append(209),this.pack_int16(o);else if(0<=o&&o<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(o);else if(-2147483648<=o&&o<=2147483647)this.bufferBuilder.append(210),this.pack_int32(o);else if(-9223372036854776e3<=o&&o<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(o);else if(0<=o&&o<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(o);else throw new Error("Invalid integer")},E.prototype.pack_double=function(o){var p=0;o<0&&(p=1,o=-o);var g=Math.floor(Math.log(o)/Math.LN2),d=o/Math.pow(2,g)-1,c=Math.floor(d*Math.pow(2,52)),w=Math.pow(2,32),x=p<<31|g+1023<<20|c/w&1048575,I=c%w;this.bufferBuilder.append(203),this.pack_int32(x),this.pack_int32(I)},E.prototype.pack_object=function(o){var p=Object.keys(o),g=p.length;if(g<=15)this.pack_uint8(128+g);else if(g<=65535)this.bufferBuilder.append(222),this.pack_uint16(g);else if(g<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(g);else throw new Error("Invalid length");for(var d in o)o.hasOwnProperty(d)&&(this.pack(d),this.pack(o[d]))},E.prototype.pack_uint8=function(o){this.bufferBuilder.append(o)},E.prototype.pack_uint16=function(o){this.bufferBuilder.append(o>>8),this.bufferBuilder.append(o&255)},E.prototype.pack_uint32=function(o){var p=o&4294967295;this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255)},E.prototype.pack_uint64=function(o){var p=o/Math.pow(2,32),g=o%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((g&4278190080)>>>24),this.bufferBuilder.append((g&16711680)>>>16),this.bufferBuilder.append((g&65280)>>>8),this.bufferBuilder.append(g&255)},E.prototype.pack_int8=function(o){this.bufferBuilder.append(o&255)},E.prototype.pack_int16=function(o){this.bufferBuilder.append((o&65280)>>8),this.bufferBuilder.append(o&255)},E.prototype.pack_int32=function(o){this.bufferBuilder.append(o>>>24&255),this.bufferBuilder.append((o&16711680)>>>16),this.bufferBuilder.append((o&65280)>>>8),this.bufferBuilder.append(o&255)},E.prototype.pack_int64=function(o){var p=Math.floor(o/Math.pow(2,32)),g=o%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((g&4278190080)>>>24),this.bufferBuilder.append((g&16711680)>>>16),this.bufferBuilder.append((g&65280)>>>8),this.bufferBuilder.append(g&255)};function b(o){var p=o.charCodeAt(0);return p<=2047?"00":p<=65535?"000":p<=2097151?"0000":p<=67108863?"00000":"000000"}function y(o){return o.length>600?new Blob([o]).size:o.replace(/[^\u0000-\u007F]/g,b).length}},"./node_modules/js-binarypack/lib/bufferbuilder.js":function(n,r){var s={};s.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),s.useArrayBufferView=!s.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),n.exports.binaryFeatures=s;var i=n.exports.BlobBuilder;typeof window<"u"&&(i=n.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function a(){this._pieces=[],this._parts=[]}a.prototype.append=function(u){typeof u=="number"?this._pieces.push(u):(this.flush(),this._parts.push(u))},a.prototype.flush=function(){if(this._pieces.length>0){var u=new Uint8Array(this._pieces);s.useArrayBufferView||(u=u.buffer),this._parts.push(u),this._pieces=[]}},a.prototype.getBuffer=function(){if(this.flush(),s.useBlobBuilder){for(var u=new i,m=0,E=this._parts.length;m<E;m++)u.append(this._parts[m]);return u.getBlob()}else return new Blob(this._parts)},n.exports.BufferBuilder=a},"./node_modules/ms/index.js":function(n,r){var s=1e3,i=s*60,a=i*60,u=a*24,m=u*365.25;n.exports=function(p,g){g=g||{};var d=typeof p;if(d==="string"&&p.length>0)return E(p);if(d==="number"&&isNaN(p)===!1)return g.long?y(p):b(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function E(p){if(p=String(p),!(p.length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(p);if(!!g){var d=parseFloat(g[1]),c=(g[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return d*m;case"days":case"day":case"d":return d*u;case"hours":case"hour":case"hrs":case"hr":case"h":return d*a;case"minutes":case"minute":case"mins":case"min":case"m":return d*i;case"seconds":case"second":case"secs":case"sec":case"s":return d*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function b(p){return p>=u?Math.round(p/u)+"d":p>=a?Math.round(p/a)+"h":p>=i?Math.round(p/i)+"m":p>=s?Math.round(p/s)+"s":p+"ms"}function y(p){return o(p,u,"day")||o(p,a,"hour")||o(p,i,"minute")||o(p,s,"second")||p+" ms"}function o(p,g,d){if(!(p<g))return p<g*1.5?Math.floor(p/g)+" "+d:Math.ceil(p/g)+" "+d+"s"}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":function(n,r,s){(function(i){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var a=s("./node_modules/base64-js/index.js"),u=s("./node_modules/ieee754/index.js"),m=s("./node_modules/node-libs-browser/node_modules/isarray/index.js");r.Buffer=o,r.SlowBuffer=B,r.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:E(),r.kMaxLength=b();function E(){try{var S=new Uint8Array(1);return S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},S.foo()===42&&typeof S.subarray=="function"&&S.subarray(1,1).byteLength===0}catch{return!1}}function b(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(S,l){if(b()<l)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(l),S.__proto__=o.prototype):(S===null&&(S=new o(l)),S.length=l),S}function o(S,l,f){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(S,l,f);if(typeof S=="number"){if(typeof l=="string")throw new Error("If encoding is specified then the first argument must be a string");return c(this,S)}return p(this,S,l,f)}o.poolSize=8192,o._augment=function(S){return S.__proto__=o.prototype,S};function p(S,l,f,A){if(typeof l=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&l instanceof ArrayBuffer?I(S,l,f,A):typeof l=="string"?w(S,l,f):T(S,l)}o.from=function(S,l,f){return p(null,S,l,f)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0}));function g(S){if(typeof S!="number")throw new TypeError('"size" argument must be a number');if(S<0)throw new RangeError('"size" argument must not be negative')}function d(S,l,f,A){return g(l),l<=0?y(S,l):f!==void 0?typeof A=="string"?y(S,l).fill(f,A):y(S,l).fill(f):y(S,l)}o.alloc=function(S,l,f){return d(null,S,l,f)};function c(S,l){if(g(l),S=y(S,l<0?0:C(l)|0),!o.TYPED_ARRAY_SUPPORT)for(var f=0;f<l;++f)S[f]=0;return S}o.allocUnsafe=function(S){return c(null,S)},o.allocUnsafeSlow=function(S){return c(null,S)};function w(S,l,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError('"encoding" must be a valid string encoding');var A=O(l,f)|0;S=y(S,A);var F=S.write(l,f);return F!==A&&(S=S.slice(0,F)),S}function x(S,l){var f=l.length<0?0:C(l.length)|0;S=y(S,f);for(var A=0;A<f;A+=1)S[A]=l[A]&255;return S}function I(S,l,f,A){if(l.byteLength,f<0||l.byteLength<f)throw new RangeError("'offset' is out of bounds");if(l.byteLength<f+(A||0))throw new RangeError("'length' is out of bounds");return f===void 0&&A===void 0?l=new Uint8Array(l):A===void 0?l=new Uint8Array(l,f):l=new Uint8Array(l,f,A),o.TYPED_ARRAY_SUPPORT?(S=l,S.__proto__=o.prototype):S=x(S,l),S}function T(S,l){if(o.isBuffer(l)){var f=C(l.length)|0;return S=y(S,f),S.length===0||l.copy(S,0,0,f),S}if(l){if(typeof ArrayBuffer<"u"&&l.buffer instanceof ArrayBuffer||"length"in l)return typeof l.length!="number"||q(l.length)?y(S,0):x(S,l);if(l.type==="Buffer"&&m(l.data))return x(S,l.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function C(S){if(S>=b())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b().toString(16)+" bytes");return S|0}function B(S){return+S!=S&&(S=0),o.alloc(+S)}o.isBuffer=function(l){return!!(l!=null&&l._isBuffer)},o.compare=function(l,f){if(!o.isBuffer(l)||!o.isBuffer(f))throw new TypeError("Arguments must be Buffers");if(l===f)return 0;for(var A=l.length,F=f.length,V=0,z=Math.min(A,F);V<z;++V)if(l[V]!==f[V]){A=l[V],F=f[V];break}return A<F?-1:F<A?1:0},o.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(l,f){if(!m(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return o.alloc(0);var A;if(f===void 0)for(f=0,A=0;A<l.length;++A)f+=l[A].length;var F=o.allocUnsafe(f),V=0;for(A=0;A<l.length;++A){var z=l[A];if(!o.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(F,V),V+=z.length}return F};function O(S,l){if(o.isBuffer(S))return S.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;typeof S!="string"&&(S=""+S);var f=S.length;if(f===0)return 0;for(var A=!1;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":case void 0:return H(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Q(S).length;default:if(A)return H(S).length;l=(""+l).toLowerCase(),A=!0}}o.byteLength=O;function k(S,l,f){var A=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,l>>>=0,f<=l))return"";for(S||(S="utf8");;)switch(S){case"hex":return Ut(this,l,f);case"utf8":case"utf-8":return se(this,l,f);case"ascii":return rt(this,l,f);case"latin1":case"binary":return We(this,l,f);case"base64":return Z(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jt(this,l,f);default:if(A)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),A=!0}}o.prototype._isBuffer=!0;function _(S,l,f){var A=S[l];S[l]=S[f],S[f]=A}o.prototype.swap16=function(){var l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<l;f+=2)_(this,f,f+1);return this},o.prototype.swap32=function(){var l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<l;f+=4)_(this,f,f+3),_(this,f+1,f+2);return this},o.prototype.swap64=function(){var l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<l;f+=8)_(this,f,f+7),_(this,f+1,f+6),_(this,f+2,f+5),_(this,f+3,f+4);return this},o.prototype.toString=function(){var l=this.length|0;return l===0?"":arguments.length===0?se(this,0,l):k.apply(this,arguments)},o.prototype.equals=function(l){if(!o.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:o.compare(this,l)===0},o.prototype.inspect=function(){var l="",f=r.INSPECT_MAX_BYTES;return this.length>0&&(l=this.toString("hex",0,f).match(/.{2}/g).join(" "),this.length>f&&(l+=" ... ")),"<Buffer "+l+">"},o.prototype.compare=function(l,f,A,F,V){if(!o.isBuffer(l))throw new TypeError("Argument must be a Buffer");if(f===void 0&&(f=0),A===void 0&&(A=l?l.length:0),F===void 0&&(F=0),V===void 0&&(V=this.length),f<0||A>l.length||F<0||V>this.length)throw new RangeError("out of range index");if(F>=V&&f>=A)return 0;if(F>=V)return-1;if(f>=A)return 1;if(f>>>=0,A>>>=0,F>>>=0,V>>>=0,this===l)return 0;for(var z=V-F,oe=A-f,ue=Math.min(z,oe),de=this.slice(F,V),Ce=l.slice(f,A),ge=0;ge<ue;++ge)if(de[ge]!==Ce[ge]){z=de[ge],oe=Ce[ge];break}return z<oe?-1:oe<z?1:0};function R(S,l,f,A,F){if(S.length===0)return-1;if(typeof f=="string"?(A=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,isNaN(f)&&(f=F?0:S.length-1),f<0&&(f=S.length+f),f>=S.length){if(F)return-1;f=S.length-1}else if(f<0)if(F)f=0;else return-1;if(typeof l=="string"&&(l=o.from(l,A)),o.isBuffer(l))return l.length===0?-1:P(S,l,f,A,F);if(typeof l=="number")return l=l&255,o.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(S,l,f):Uint8Array.prototype.lastIndexOf.call(S,l,f):P(S,[l],f,A,F);throw new TypeError("val must be string, number or Buffer")}function P(S,l,f,A,F){var V=1,z=S.length,oe=l.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(S.length<2||l.length<2)return-1;V=2,z/=2,oe/=2,f/=2}function ue(Te,Pe){return V===1?Te[Pe]:Te.readUInt16BE(Pe*V)}var de;if(F){var Ce=-1;for(de=f;de<z;de++)if(ue(S,de)===ue(l,Ce===-1?0:de-Ce)){if(Ce===-1&&(Ce=de),de-Ce+1===oe)return Ce*V}else Ce!==-1&&(de-=de-Ce),Ce=-1}else for(f+oe>z&&(f=z-oe),de=f;de>=0;de--){for(var ge=!0,ht=0;ht<oe;ht++)if(ue(S,de+ht)!==ue(l,ht)){ge=!1;break}if(ge)return de}return-1}o.prototype.includes=function(l,f,A){return this.indexOf(l,f,A)!==-1},o.prototype.indexOf=function(l,f,A){return R(this,l,f,A,!0)},o.prototype.lastIndexOf=function(l,f,A){return R(this,l,f,A,!1)};function M(S,l,f,A){f=Number(f)||0;var F=S.length-f;A?(A=Number(A),A>F&&(A=F)):A=F;var V=l.length;if(V%2!==0)throw new TypeError("Invalid hex string");A>V/2&&(A=V/2);for(var z=0;z<A;++z){var oe=parseInt(l.substr(z*2,2),16);if(isNaN(oe))return z;S[f+z]=oe}return z}function W(S,l,f,A){return K(H(l,S.length-f),S,f,A)}function J(S,l,f,A){return K(G(l),S,f,A)}function X(S,l,f,A){return J(S,l,f,A)}function U(S,l,f,A){return K(Q(l),S,f,A)}function ae(S,l,f,A){return K(te(l,S.length-f),S,f,A)}o.prototype.write=function(l,f,A,F){if(f===void 0)F="utf8",A=this.length,f=0;else if(A===void 0&&typeof f=="string")F=f,A=this.length,f=0;else if(isFinite(f))f=f|0,isFinite(A)?(A=A|0,F===void 0&&(F="utf8")):(F=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-f;if((A===void 0||A>V)&&(A=V),l.length>0&&(A<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var z=!1;;)switch(F){case"hex":return M(this,l,f,A);case"utf8":case"utf-8":return W(this,l,f,A);case"ascii":return J(this,l,f,A);case"latin1":case"binary":return X(this,l,f,A);case"base64":return U(this,l,f,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,l,f,A);default:if(z)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(S,l,f){return l===0&&f===S.length?a.fromByteArray(S):a.fromByteArray(S.slice(l,f))}function se(S,l,f){f=Math.min(S.length,f);for(var A=[],F=l;F<f;){var V=S[F],z=null,oe=V>239?4:V>223?3:V>191?2:1;if(F+oe<=f){var ue,de,Ce,ge;switch(oe){case 1:V<128&&(z=V);break;case 2:ue=S[F+1],(ue&192)===128&&(ge=(V&31)<<6|ue&63,ge>127&&(z=ge));break;case 3:ue=S[F+1],de=S[F+2],(ue&192)===128&&(de&192)===128&&(ge=(V&15)<<12|(ue&63)<<6|de&63,ge>2047&&(ge<55296||ge>57343)&&(z=ge));break;case 4:ue=S[F+1],de=S[F+2],Ce=S[F+3],(ue&192)===128&&(de&192)===128&&(Ce&192)===128&&(ge=(V&15)<<18|(ue&63)<<12|(de&63)<<6|Ce&63,ge>65535&&ge<1114112&&(z=ge))}}z===null?(z=65533,oe=1):z>65535&&(z-=65536,A.push(z>>>10&1023|55296),z=56320|z&1023),A.push(z),F+=oe}return Se(A)}var we=4096;function Se(S){var l=S.length;if(l<=we)return String.fromCharCode.apply(String,S);for(var f="",A=0;A<l;)f+=String.fromCharCode.apply(String,S.slice(A,A+=we));return f}function rt(S,l,f){var A="";f=Math.min(S.length,f);for(var F=l;F<f;++F)A+=String.fromCharCode(S[F]&127);return A}function We(S,l,f){var A="";f=Math.min(S.length,f);for(var F=l;F<f;++F)A+=String.fromCharCode(S[F]);return A}function Ut(S,l,f){var A=S.length;(!l||l<0)&&(l=0),(!f||f<0||f>A)&&(f=A);for(var F="",V=l;V<f;++V)F+=$(S[V]);return F}function Jt(S,l,f){for(var A=S.slice(l,f),F="",V=0;V<A.length;V+=2)F+=String.fromCharCode(A[V]+A[V+1]*256);return F}o.prototype.slice=function(l,f){var A=this.length;l=~~l,f=f===void 0?A:~~f,l<0?(l+=A,l<0&&(l=0)):l>A&&(l=A),f<0?(f+=A,f<0&&(f=0)):f>A&&(f=A),f<l&&(f=l);var F;if(o.TYPED_ARRAY_SUPPORT)F=this.subarray(l,f),F.__proto__=o.prototype;else{var V=f-l;F=new o(V,void 0);for(var z=0;z<V;++z)F[z]=this[z+l]}return F};function Ae(S,l,f){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+l>f)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(l,f,A){l=l|0,f=f|0,A||Ae(l,f,this.length);for(var F=this[l],V=1,z=0;++z<f&&(V*=256);)F+=this[l+z]*V;return F},o.prototype.readUIntBE=function(l,f,A){l=l|0,f=f|0,A||Ae(l,f,this.length);for(var F=this[l+--f],V=1;f>0&&(V*=256);)F+=this[l+--f]*V;return F},o.prototype.readUInt8=function(l,f){return f||Ae(l,1,this.length),this[l]},o.prototype.readUInt16LE=function(l,f){return f||Ae(l,2,this.length),this[l]|this[l+1]<<8},o.prototype.readUInt16BE=function(l,f){return f||Ae(l,2,this.length),this[l]<<8|this[l+1]},o.prototype.readUInt32LE=function(l,f){return f||Ae(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},o.prototype.readUInt32BE=function(l,f){return f||Ae(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},o.prototype.readIntLE=function(l,f,A){l=l|0,f=f|0,A||Ae(l,f,this.length);for(var F=this[l],V=1,z=0;++z<f&&(V*=256);)F+=this[l+z]*V;return V*=128,F>=V&&(F-=Math.pow(2,8*f)),F},o.prototype.readIntBE=function(l,f,A){l=l|0,f=f|0,A||Ae(l,f,this.length);for(var F=f,V=1,z=this[l+--F];F>0&&(V*=256);)z+=this[l+--F]*V;return V*=128,z>=V&&(z-=Math.pow(2,8*f)),z},o.prototype.readInt8=function(l,f){return f||Ae(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},o.prototype.readInt16LE=function(l,f){f||Ae(l,2,this.length);var A=this[l]|this[l+1]<<8;return A&32768?A|4294901760:A},o.prototype.readInt16BE=function(l,f){f||Ae(l,2,this.length);var A=this[l+1]|this[l]<<8;return A&32768?A|4294901760:A},o.prototype.readInt32LE=function(l,f){return f||Ae(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},o.prototype.readInt32BE=function(l,f){return f||Ae(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},o.prototype.readFloatLE=function(l,f){return f||Ae(l,4,this.length),u.read(this,l,!0,23,4)},o.prototype.readFloatBE=function(l,f){return f||Ae(l,4,this.length),u.read(this,l,!1,23,4)},o.prototype.readDoubleLE=function(l,f){return f||Ae(l,8,this.length),u.read(this,l,!0,52,8)},o.prototype.readDoubleBE=function(l,f){return f||Ae(l,8,this.length),u.read(this,l,!1,52,8)};function he(S,l,f,A,F,V){if(!o.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>F||l<V)throw new RangeError('"value" argument is out of bounds');if(f+A>S.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(l,f,A,F){if(l=+l,f=f|0,A=A|0,!F){var V=Math.pow(2,8*A)-1;he(this,l,f,A,V,0)}var z=1,oe=0;for(this[f]=l&255;++oe<A&&(z*=256);)this[f+oe]=l/z&255;return f+A},o.prototype.writeUIntBE=function(l,f,A,F){if(l=+l,f=f|0,A=A|0,!F){var V=Math.pow(2,8*A)-1;he(this,l,f,A,V,0)}var z=A-1,oe=1;for(this[f+z]=l&255;--z>=0&&(oe*=256);)this[f+z]=l/oe&255;return f+A},o.prototype.writeUInt8=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,1,255,0),o.TYPED_ARRAY_SUPPORT||(l=Math.floor(l)),this[f]=l&255,f+1};function qe(S,l,f,A){l<0&&(l=65535+l+1);for(var F=0,V=Math.min(S.length-f,2);F<V;++F)S[f+F]=(l&255<<8*(A?F:1-F))>>>(A?F:1-F)*8}o.prototype.writeUInt16LE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[f]=l&255,this[f+1]=l>>>8):qe(this,l,f,!0),f+2},o.prototype.writeUInt16BE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[f]=l>>>8,this[f+1]=l&255):qe(this,l,f,!1),f+2};function dt(S,l,f,A){l<0&&(l=4294967295+l+1);for(var F=0,V=Math.min(S.length-f,4);F<V;++F)S[f+F]=l>>>(A?F:3-F)*8&255}o.prototype.writeUInt32LE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=l&255):dt(this,l,f,!0),f+4},o.prototype.writeUInt32BE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255):dt(this,l,f,!1),f+4},o.prototype.writeIntLE=function(l,f,A,F){if(l=+l,f=f|0,!F){var V=Math.pow(2,8*A-1);he(this,l,f,A,V-1,-V)}var z=0,oe=1,ue=0;for(this[f]=l&255;++z<A&&(oe*=256);)l<0&&ue===0&&this[f+z-1]!==0&&(ue=1),this[f+z]=(l/oe>>0)-ue&255;return f+A},o.prototype.writeIntBE=function(l,f,A,F){if(l=+l,f=f|0,!F){var V=Math.pow(2,8*A-1);he(this,l,f,A,V-1,-V)}var z=A-1,oe=1,ue=0;for(this[f+z]=l&255;--z>=0&&(oe*=256);)l<0&&ue===0&&this[f+z+1]!==0&&(ue=1),this[f+z]=(l/oe>>0)-ue&255;return f+A},o.prototype.writeInt8=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,1,127,-128),o.TYPED_ARRAY_SUPPORT||(l=Math.floor(l)),l<0&&(l=255+l+1),this[f]=l&255,f+1},o.prototype.writeInt16LE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[f]=l&255,this[f+1]=l>>>8):qe(this,l,f,!0),f+2},o.prototype.writeInt16BE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[f]=l>>>8,this[f+1]=l&255):qe(this,l,f,!1),f+2},o.prototype.writeInt32LE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[f]=l&255,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24):dt(this,l,f,!0),f+4},o.prototype.writeInt32BE=function(l,f,A){return l=+l,f=f|0,A||he(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),o.TYPED_ARRAY_SUPPORT?(this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255):dt(this,l,f,!1),f+4};function Qe(S,l,f,A,F,V){if(f+A>S.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function vt(S,l,f,A,F){return F||Qe(S,l,f,4),u.write(S,l,f,A,23,4),f+4}o.prototype.writeFloatLE=function(l,f,A){return vt(this,l,f,!0,A)},o.prototype.writeFloatBE=function(l,f,A){return vt(this,l,f,!1,A)};function Ke(S,l,f,A,F){return F||Qe(S,l,f,8),u.write(S,l,f,A,52,8),f+8}o.prototype.writeDoubleLE=function(l,f,A){return Ke(this,l,f,!0,A)},o.prototype.writeDoubleBE=function(l,f,A){return Ke(this,l,f,!1,A)},o.prototype.copy=function(l,f,A,F){if(A||(A=0),!F&&F!==0&&(F=this.length),f>=l.length&&(f=l.length),f||(f=0),F>0&&F<A&&(F=A),F===A||l.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),l.length-f<F-A&&(F=l.length-f+A);var V=F-A,z;if(this===l&&A<f&&f<F)for(z=V-1;z>=0;--z)l[z+f]=this[z+A];else if(V<1e3||!o.TYPED_ARRAY_SUPPORT)for(z=0;z<V;++z)l[z+f]=this[z+A];else Uint8Array.prototype.set.call(l,this.subarray(A,A+V),f);return V},o.prototype.fill=function(l,f,A,F){if(typeof l=="string"){if(typeof f=="string"?(F=f,f=0,A=this.length):typeof A=="string"&&(F=A,A=this.length),l.length===1){var V=l.charCodeAt(0);V<256&&(l=V)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!o.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof l=="number"&&(l=l&255);if(f<0||this.length<f||this.length<A)throw new RangeError("Out of range index");if(A<=f)return this;f=f>>>0,A=A===void 0?this.length:A>>>0,l||(l=0);var z;if(typeof l=="number")for(z=f;z<A;++z)this[z]=l;else{var oe=o.isBuffer(l)?l:H(new o(l,F).toString()),ue=oe.length;for(z=0;z<A-f;++z)this[z+f]=oe[z%ue]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function j(S){if(S=L(S).replace(N,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function L(S){return S.trim?S.trim():S.replace(/^\s+|\s+$/g,"")}function $(S){return S<16?"0"+S.toString(16):S.toString(16)}function H(S,l){l=l||1/0;for(var f,A=S.length,F=null,V=[],z=0;z<A;++z){if(f=S.charCodeAt(z),f>55295&&f<57344){if(!F){if(f>56319){(l-=3)>-1&&V.push(239,191,189);continue}else if(z+1===A){(l-=3)>-1&&V.push(239,191,189);continue}F=f;continue}if(f<56320){(l-=3)>-1&&V.push(239,191,189),F=f;continue}f=(F-55296<<10|f-56320)+65536}else F&&(l-=3)>-1&&V.push(239,191,189);if(F=null,f<128){if((l-=1)<0)break;V.push(f)}else if(f<2048){if((l-=2)<0)break;V.push(f>>6|192,f&63|128)}else if(f<65536){if((l-=3)<0)break;V.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((l-=4)<0)break;V.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return V}function G(S){for(var l=[],f=0;f<S.length;++f)l.push(S.charCodeAt(f)&255);return l}function te(S,l){for(var f,A,F,V=[],z=0;z<S.length&&!((l-=2)<0);++z)f=S.charCodeAt(z),A=f>>8,F=f%256,V.push(F),V.push(A);return V}function Q(S){return a.toByteArray(j(S))}function K(S,l,f,A){for(var F=0;F<A&&!(F+f>=l.length||F>=S.length);++F)l[F+f]=S[F];return F}function q(S){return S!==S}}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/node-libs-browser/node_modules/isarray/index.js":function(n,r){var s={}.toString;n.exports=Array.isArray||function(i){return s.call(i)=="[object Array]"}},"./node_modules/object-sizeof/byte_size.js":function(n,r){n.exports={STRING:2,BOOLEAN:4,NUMBER:8}},"./node_modules/object-sizeof/index.js":function(n,r,s){var i=s("./node_modules/object-sizeof/byte_size.js"),a=s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer;function u(y){const o=[];for(var p in y)o.push(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(y);Array.prototype.push.apply(o,g)}return o}function m(y,o){if(o==null)return 0;for(var p=0,g=u(o),d=0;d<g.length;d++){var c=g[d];if(typeof o[c]=="object"&&o[c]!==null){if(y.has(o[c]))continue;y.add(o[c])}p+=E(y)(c);try{p+=E(y)(o[c])}catch(w){w instanceof RangeError&&(p=0)}}return p}function E(y){return function(p){if(a.isBuffer(p))return p.length;var g=typeof p;switch(g){case"string":return p.length*i.STRING;case"boolean":return i.BOOLEAN;case"number":return i.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(p)?Symbol.keyFor(p).length*i.STRING:(p.toString().length-8)*i.STRING;case"object":return Array.isArray(p)?p.map(E(y)).reduce(function(c,w){return c+w},0):m(y,p);default:return 0}}}function b(y){return E(new WeakSet)(y)}n.exports=b},"./node_modules/parseqs/index.js":function(n,r){r.encode=function(s){var i="";for(var a in s)s.hasOwnProperty(a)&&(i.length&&(i+="&"),i+=encodeURIComponent(a)+"="+encodeURIComponent(s[a]));return i},r.decode=function(s){for(var i={},a=s.split("&"),u=0,m=a.length;u<m;u++){var E=a[u].split("=");i[decodeURIComponent(E[0])]=decodeURIComponent(E[1])}return i}},"./node_modules/parseuri/index.js":function(n,r){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.exports=function(E){var b=E,y=E.indexOf("["),o=E.indexOf("]");y!=-1&&o!=-1&&(E=E.substring(0,y)+E.substring(y,o).replace(/:/g,";")+E.substring(o,E.length));for(var p=s.exec(E||""),g={},d=14;d--;)g[i[d]]=p[d]||"";return y!=-1&&o!=-1&&(g.source=b,g.host=g.host.substring(1,g.host.length-1).replace(/;/g,":"),g.authority=g.authority.replace("[","").replace("]","").replace(/;/g,":"),g.ipv6uri=!0),g.pathNames=a(g,g.path),g.queryKey=u(g,g.query),g};function a(m,E){var b=/\/{2,9}/g,y=E.replace(b,"/").split("/");return(E.substr(0,1)=="/"||E.length===0)&&y.splice(0,1),E.substr(E.length-1,1)=="/"&&y.splice(y.length-1,1),y}function u(m,E){var b={};return E.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(y,o,p){o&&(b[o]=p)}),b}},"./node_modules/process/browser.js":function(n,r){var s=n.exports={},i,a;function u(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=u}catch{i=u}try{typeof clearTimeout=="function"?a=clearTimeout:a=m}catch{a=m}})();function E(I){if(i===setTimeout)return setTimeout(I,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(I,0);try{return i(I,0)}catch{try{return i.call(null,I,0)}catch{return i.call(this,I,0)}}}function b(I){if(a===clearTimeout)return clearTimeout(I);if((a===m||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(I);try{return a(I)}catch{try{return a.call(null,I)}catch{return a.call(this,I)}}}var y=[],o=!1,p,g=-1;function d(){!o||!p||(o=!1,p.length?y=p.concat(y):g=-1,y.length&&c())}function c(){if(!o){var I=E(d);o=!0;for(var T=y.length;T;){for(p=y,y=[];++g<T;)p&&p[g].run();g=-1,T=y.length}p=null,o=!1,b(I)}}s.nextTick=function(I){var T=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)T[C-1]=arguments[C];y.push(new w(I,T)),y.length===1&&!o&&E(c)};function w(I,T){this.fun=I,this.array=T}w.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function x(){}s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(I){return[]},s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},"./node_modules/query-string/index.js":function(n,r,s){const i=s("./node_modules/strict-uri-encode/index.js"),a=s("./node_modules/decode-uri-component/index.js"),u=s("./node_modules/split-on-first/index.js"),m=s("./node_modules/filter-obj/index.js"),E=C=>C==null;function b(C){switch(C.arrayFormat){case"index":return B=>(O,k)=>{const _=O.length;return k===void 0||C.skipNull&&k===null||C.skipEmptyString&&k===""?O:k===null?[...O,[p(B,C),"[",_,"]"].join("")]:[...O,[p(B,C),"[",p(_,C),"]=",p(k,C)].join("")]};case"bracket":return B=>(O,k)=>k===void 0||C.skipNull&&k===null||C.skipEmptyString&&k===""?O:k===null?[...O,[p(B,C),"[]"].join("")]:[...O,[p(B,C),"[]=",p(k,C)].join("")];case"comma":case"separator":return B=>(O,k)=>k==null||k.length===0?O:O.length===0?[[p(B,C),"=",p(k,C)].join("")]:[[O,p(k,C)].join(C.arrayFormatSeparator)];default:return B=>(O,k)=>k===void 0||C.skipNull&&k===null||C.skipEmptyString&&k===""?O:k===null?[...O,p(B,C)]:[...O,[p(B,C),"=",p(k,C)].join("")]}}function y(C){let B;switch(C.arrayFormat){case"index":return(O,k,_)=>{if(B=/\[(\d*)\]$/.exec(O),O=O.replace(/\[\d*\]$/,""),!B){_[O]=k;return}_[O]===void 0&&(_[O]={}),_[O][B[1]]=k};case"bracket":return(O,k,_)=>{if(B=/(\[\])$/.exec(O),O=O.replace(/\[\]$/,""),!B){_[O]=k;return}if(_[O]===void 0){_[O]=[k];return}_[O]=[].concat(_[O],k)};case"comma":case"separator":return(O,k,_)=>{const R=typeof k=="string"&&k.includes(C.arrayFormatSeparator),P=typeof k=="string"&&!R&&g(k,C).includes(C.arrayFormatSeparator);k=P?g(k,C):k;const M=R||P?k.split(C.arrayFormatSeparator).map(W=>g(W,C)):k===null?k:g(k,C);_[O]=M};default:return(O,k,_)=>{if(_[O]===void 0){_[O]=k;return}_[O]=[].concat(_[O],k)}}}function o(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(C,B){return B.encode?B.strict?i(C):encodeURIComponent(C):C}function g(C,B){return B.decode?a(C):C}function d(C){return Array.isArray(C)?C.sort():typeof C=="object"?d(Object.keys(C)).sort((B,O)=>Number(B)-Number(O)).map(B=>C[B]):C}function c(C){const B=C.indexOf("#");return B!==-1&&(C=C.slice(0,B)),C}function w(C){let B="";const O=C.indexOf("#");return O!==-1&&(B=C.slice(O)),B}function x(C){C=c(C);const B=C.indexOf("?");return B===-1?"":C.slice(B+1)}function I(C,B){return B.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):B.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function T(C,B){B=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},B),o(B.arrayFormatSeparator);const O=y(B),k=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return k;for(const _ of C.split("&")){if(_==="")continue;let[R,P]=u(B.decode?_.replace(/\+/g," "):_,"=");P=P===void 0?null:["comma","separator"].includes(B.arrayFormat)?P:g(P,B),O(g(R,B),P,k)}for(const _ of Object.keys(k)){const R=k[_];if(typeof R=="object"&&R!==null)for(const P of Object.keys(R))R[P]=I(R[P],B);else k[_]=I(R,B)}return B.sort===!1?k:(B.sort===!0?Object.keys(k).sort():Object.keys(k).sort(B.sort)).reduce((_,R)=>{const P=k[R];return Boolean(P)&&typeof P=="object"&&!Array.isArray(P)?_[R]=d(P):_[R]=P,_},Object.create(null))}r.extract=x,r.parse=T,r.stringify=(C,B)=>{if(!C)return"";B=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},B),o(B.arrayFormatSeparator);const O=P=>B.skipNull&&E(C[P])||B.skipEmptyString&&C[P]==="",k=b(B),_={};for(const P of Object.keys(C))O(P)||(_[P]=C[P]);const R=Object.keys(_);return B.sort!==!1&&R.sort(B.sort),R.map(P=>{const M=C[P];return M===void 0?"":M===null?p(P,B):Array.isArray(M)?M.reduce(k(P),[]).join("&"):p(P,B)+"="+p(M,B)}).filter(P=>P.length>0).join("&")},r.parseUrl=(C,B)=>{B=Object.assign({decode:!0},B);const[O,k]=u(C,"#");return Object.assign({url:O.split("?")[0]||"",query:T(x(C),B)},B&&B.parseFragmentIdentifier&&k?{fragmentIdentifier:g(k,B)}:{})},r.stringifyUrl=(C,B)=>{B=Object.assign({encode:!0,strict:!0},B);const O=c(C.url).split("?")[0]||"",k=r.extract(C.url),_=r.parse(k,{sort:!1}),R=Object.assign(_,C.query);let P=r.stringify(R,B);P&&(P=`?${P}`);let M=w(C.url);return C.fragmentIdentifier&&(M=`#${p(C.fragmentIdentifier,B)}`),`${O}${P}${M}`},r.pick=(C,B,O)=>{O=Object.assign({parseFragmentIdentifier:!0},O);const{url:k,query:_,fragmentIdentifier:R}=r.parseUrl(C,O);return r.stringifyUrl({url:k,query:m(_,B),fragmentIdentifier:R},O)},r.exclude=(C,B,O)=>{const k=Array.isArray(B)?_=>!B.includes(_):(_,R)=>!B(_,R);return r.pick(C,k,O)}},"./node_modules/sdp-transform/lib/grammar.js":function(n,r){var s=n.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(i){return i.encoding?"rtpmap:%d %s/%s/%s":i.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(i){return i.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(i){return i.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(i){return"extmap:%d"+(i.direction?"/%s":"%v")+(i["encrypt-uri"]?" %s":"%v")+" %s"+(i.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(i){return i.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(i){var a="candidate:%s %d %s %d %s %d typ %s";return a+=i.raddr!=null?" raddr %s rport %d":"%v%v",a+=i.tcptype!=null?" tcptype %s":"%v",i.generation!=null&&(a+=" generation %d"),a+=i["network-id"]!=null?" network-id %d":"%v",a+=i["network-cost"]!=null?" network-cost %d":"%v",a}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(i){var a="ssrc:%d";return i.attribute!=null&&(a+=" %s",i.value!=null&&(a+=":%s")),a}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(i){return i.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(i){return i.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(i){return"imageattr:%s %s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(i){return"simulcast:%s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(i){return"ts-refclk:%s"+(i.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(i){var a="mediaclk:";return a+=i.id!=null?"id=%s %s":"%v%s",a+=i.mediaClockValue!=null?"=%s":"",a+=i.rateNumerator!=null?" rate=%s":"",a+=i.rateDenominator!=null?"/%s":"",a}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(s).forEach(function(i){var a=s[i];a.forEach(function(u){u.reg||(u.reg=/(.*)/),u.format||(u.format="%s")})})},"./node_modules/sdp-transform/lib/index.js":function(n,r,s){var i=s("./node_modules/sdp-transform/lib/parser.js"),a=s("./node_modules/sdp-transform/lib/writer.js");r.write=a,r.parse=i.parse,r.parseParams=i.parseParams,r.parseFmtpConfig=i.parseFmtpConfig,r.parsePayloads=i.parsePayloads,r.parseRemoteCandidates=i.parseRemoteCandidates,r.parseImageAttributes=i.parseImageAttributes,r.parseSimulcastStreamList=i.parseSimulcastStreamList},"./node_modules/sdp-transform/lib/parser.js":function(n,r,s){var i=function(y){return String(Number(y))===y?Number(y):y},a=function(y,o,p,g){if(g&&!p)o[g]=i(y[1]);else for(var d=0;d<p.length;d+=1)y[d+1]!=null&&(o[p[d]]=i(y[d+1]))},u=function(y,o,p){var g=y.name&&y.names;y.push&&!o[y.push]?o[y.push]=[]:g&&!o[y.name]&&(o[y.name]={});var d=y.push?{}:g?o[y.name]:o;a(p.match(y.reg),d,y.names,y.name),y.push&&o[y.push].push(d)},m=s("./node_modules/sdp-transform/lib/grammar.js"),E=RegExp.prototype.test.bind(/^([a-z])=(.*)/);r.parse=function(y){var o={},p=[],g=o;return y.split(/(\r\n|\r|\n)/).filter(E).forEach(function(d){var c=d[0],w=d.slice(2);c==="m"&&(p.push({rtp:[],fmtp:[]}),g=p[p.length-1]);for(var x=0;x<(m[c]||[]).length;x+=1){var I=m[c][x];if(I.reg.test(w))return u(I,g,w)}}),o.media=p,o};var b=function(y,o){var p=o.split(/=(.+)/,2);return p.length===2?y[p[0]]=i(p[1]):p.length===1&&o.length>1&&(y[p[0]]=void 0),y};r.parseParams=function(y){return y.split(/;\s?/).reduce(b,{})},r.parseFmtpConfig=r.parseParams,r.parsePayloads=function(y){return y.toString().split(" ").map(Number)},r.parseRemoteCandidates=function(y){for(var o=[],p=y.split(" ").map(i),g=0;g<p.length;g+=3)o.push({component:p[g],ip:p[g+1],port:p[g+2]});return o},r.parseImageAttributes=function(y){return y.split(" ").map(function(o){return o.substring(1,o.length-1).split(",").reduce(b,{})})},r.parseSimulcastStreamList=function(y){return y.split(";").map(function(o){return o.split(",").map(function(p){var g,d=!1;return p[0]!=="~"?g=i(p):(g=i(p.substring(1,p.length)),d=!0),{scid:g,paused:d}})})}},"./node_modules/sdp-transform/lib/writer.js":function(n,r,s){var i=s("./node_modules/sdp-transform/lib/grammar.js"),a=/%[sdv%]/g,u=function(y){var o=1,p=arguments,g=p.length;return y.replace(a,function(d){if(o>=g)return d;var c=p[o];switch(o+=1,d){case"%%":return"%";case"%s":return String(c);case"%d":return Number(c);case"%v":return""}})},m=function(y,o,p){var g=o.format instanceof Function?o.format(o.push?p:p[o.name]):o.format,d=[y+"="+g];if(o.names)for(var c=0;c<o.names.length;c+=1){var w=o.names[c];o.name?d.push(p[o.name][w]):d.push(p[o.names[c]])}else d.push(p[o.name]);return u.apply(null,d)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],b=["i","c","b","a"];n.exports=function(y,o){o=o||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(c){c.payloads==null&&(c.payloads="")});var p=o.outerOrder||E,g=o.innerOrder||b,d=[];return p.forEach(function(c){i[c].forEach(function(w){w.name in y&&y[w.name]!=null?d.push(m(c,w,y)):w.push in y&&y[w.push]!=null&&y[w.push].forEach(function(x){d.push(m(c,w,x))})})}),y.media.forEach(function(c){d.push(m("m",i.m[0],c)),g.forEach(function(w){i[w].forEach(function(x){x.name in c&&c[x.name]!=null?d.push(m(w,x,c)):x.push in c&&c[x.push]!=null&&c[x.push].forEach(function(I){d.push(m(w,x,I))})})})}),d.join(`\r
`)+`\r
`}},"./node_modules/socket.io-client/lib/index.js":function(n,r,s){var i=s("./node_modules/socket.io-client/lib/url.js"),a=s("./node_modules/socket.io-parser/index.js"),u=s("./node_modules/socket.io-client/lib/manager.js"),m=s("./node_modules/debug/src/browser.js")("socket.io-client");n.exports=r=b;var E=r.managers={};function b(y,o){typeof y=="object"&&(o=y,y=void 0),o=o||{};var p=i(y),g=p.source,d=p.id,c=p.path,w=E[d]&&c in E[d].nsps,x=o.forceNew||o["force new connection"]||o.multiplex===!1||w,I;return x?(m("ignoring socket cache for %s",g),I=u(g,o)):(E[d]||(m("new io instance for %s",g),E[d]=u(g,o)),I=E[d]),p.query&&!o.query&&(o.query=p.query),I.socket(p.path,o)}r.protocol=a.protocol,r.connect=b,r.Manager=s("./node_modules/socket.io-client/lib/manager.js"),r.Socket=s("./node_modules/socket.io-client/lib/socket.js")},"./node_modules/socket.io-client/lib/manager.js":function(n,r,s){var i=s("./node_modules/engine.io-client/lib/index.js"),a=s("./node_modules/socket.io-client/lib/socket.js"),u=s("./node_modules/component-emitter/index.js"),m=s("./node_modules/socket.io-parser/index.js"),E=s("./node_modules/socket.io-client/lib/on.js"),b=s("./node_modules/component-bind/index.js"),y=s("./node_modules/debug/src/browser.js")("socket.io-client:manager"),o=s("./node_modules/indexof/index.js"),p=s("./node_modules/backo2/index.js"),g=Object.prototype.hasOwnProperty;n.exports=d;function d(c,w){if(!(this instanceof d))return new d(c,w);c&&typeof c=="object"&&(w=c,c=void 0),w=w||{},w.path=w.path||"/socket.io",this.nsps={},this.subs=[],this.opts=w,this.reconnection(w.reconnection!==!1),this.reconnectionAttempts(w.reconnectionAttempts||1/0),this.reconnectionDelay(w.reconnectionDelay||1e3),this.reconnectionDelayMax(w.reconnectionDelayMax||5e3),this.randomizationFactor(w.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(w.timeout==null?2e4:w.timeout),this.readyState="closed",this.uri=c,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var x=w.parser||m;this.encoder=new x.Encoder,this.decoder=new x.Decoder,this.autoConnect=w.autoConnect!==!1,this.autoConnect&&this.open()}d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var c in this.nsps)g.call(this.nsps,c)&&this.nsps[c].emit.apply(this.nsps[c],arguments)},d.prototype.updateSocketIds=function(){for(var c in this.nsps)g.call(this.nsps,c)&&(this.nsps[c].id=this.generateId(c))},d.prototype.generateId=function(c){return(c==="/"?"":c+"#")+this.engine.id},u(d.prototype),d.prototype.reconnection=function(c){return arguments.length?(this._reconnection=!!c,this):this._reconnection},d.prototype.reconnectionAttempts=function(c){return arguments.length?(this._reconnectionAttempts=c,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(c){return arguments.length?(this._reconnectionDelay=c,this.backoff&&this.backoff.setMin(c),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(c){return arguments.length?(this._randomizationFactor=c,this.backoff&&this.backoff.setJitter(c),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(c){return arguments.length?(this._reconnectionDelayMax=c,this.backoff&&this.backoff.setMax(c),this):this._reconnectionDelayMax},d.prototype.timeout=function(c){return arguments.length?(this._timeout=c,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},d.prototype.open=d.prototype.connect=function(c,w){if(y("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;y("opening %s",this.uri),this.engine=i(this.uri,this.opts);var x=this.engine,I=this;this.readyState="opening",this.skipReconnect=!1;var T=E(x,"open",function(){I.onopen(),c&&c()}),C=E(x,"error",function(k){if(y("connect_error"),I.cleanup(),I.readyState="closed",I.emitAll("connect_error",k),c){var _=new Error("Connection error");_.data=k,c(_)}else I.maybeReconnectOnOpen()});if(this._timeout!==!1){var B=this._timeout;y("connect attempt will timeout after %d",B),B===0&&T.destroy();var O=setTimeout(function(){y("connect attempt timed out after %d",B),T.destroy(),x.close(),x.emit("error","timeout"),I.emitAll("connect_timeout",B)},B);this.subs.push({destroy:function(){clearTimeout(O)}})}return this.subs.push(T),this.subs.push(C),this},d.prototype.onopen=function(){y("open"),this.cleanup(),this.readyState="open",this.emit("open");var c=this.engine;this.subs.push(E(c,"data",b(this,"ondata"))),this.subs.push(E(c,"ping",b(this,"onping"))),this.subs.push(E(c,"pong",b(this,"onpong"))),this.subs.push(E(c,"error",b(this,"onerror"))),this.subs.push(E(c,"close",b(this,"onclose"))),this.subs.push(E(this.decoder,"decoded",b(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(c){this.decoder.add(c)},d.prototype.ondecoded=function(c){this.emit("packet",c)},d.prototype.onerror=function(c){y("error",c),this.emitAll("error",c)},d.prototype.socket=function(c,w){var x=this.nsps[c];if(!x){x=new a(this,c,w),this.nsps[c]=x;var I=this;x.on("connecting",T),x.on("connect",function(){x.id=I.generateId(c)}),this.autoConnect&&T()}function T(){~o(I.connecting,x)||I.connecting.push(x)}return x},d.prototype.destroy=function(c){var w=o(this.connecting,c);~w&&this.connecting.splice(w,1),!this.connecting.length&&this.close()},d.prototype.packet=function(c){y("writing packet %j",c);var w=this;c.query&&c.type===0&&(c.nsp+="?"+c.query),w.encoding?w.packetBuffer.push(c):(w.encoding=!0,this.encoder.encode(c,function(x){for(var I=0;I<x.length;I++)w.engine.write(x[I],c.options);w.encoding=!1,w.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var c=this.packetBuffer.shift();this.packet(c)}},d.prototype.cleanup=function(){y("cleanup");for(var c=this.subs.length,w=0;w<c;w++){var x=this.subs.shift();x.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){y("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(c){y("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",c),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var c=this;if(this.backoff.attempts>=this._reconnectionAttempts)y("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var w=this.backoff.duration();y("will wait %dms before reconnect attempt",w),this.reconnecting=!0;var x=setTimeout(function(){c.skipReconnect||(y("attempting reconnect"),c.emitAll("reconnect_attempt",c.backoff.attempts),c.emitAll("reconnecting",c.backoff.attempts),!c.skipReconnect&&c.open(function(I){I?(y("reconnect attempt error"),c.reconnecting=!1,c.reconnect(),c.emitAll("reconnect_error",I.data)):(y("reconnect success"),c.onreconnect())}))},w);this.subs.push({destroy:function(){clearTimeout(x)}})}},d.prototype.onreconnect=function(){var c=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",c)}},"./node_modules/socket.io-client/lib/on.js":function(n,r){n.exports=s;function s(i,a,u){return i.on(a,u),{destroy:function(){i.removeListener(a,u)}}}},"./node_modules/socket.io-client/lib/socket.js":function(n,r,s){var i=s("./node_modules/socket.io-parser/index.js"),a=s("./node_modules/component-emitter/index.js"),u=s("./node_modules/to-array/index.js"),m=s("./node_modules/socket.io-client/lib/on.js"),E=s("./node_modules/component-bind/index.js"),b=s("./node_modules/debug/src/browser.js")("socket.io-client:socket"),y=s("./node_modules/parseqs/index.js"),o=s("./node_modules/has-binary2/index.js");n.exports=d;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},g=a.prototype.emit;function d(c,w,x){this.io=c,this.nsp=w,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},x&&x.query&&(this.query=x.query),this.io.autoConnect&&this.open()}a(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[m(c,"open",E(this,"onopen")),m(c,"packet",E(this,"onpacket")),m(c,"close",E(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var c=u(arguments);return c.unshift("message"),this.emit.apply(this,c),this},d.prototype.emit=function(c){if(p.hasOwnProperty(c))return g.apply(this,arguments),this;var w=u(arguments),x={type:(this.flags.binary!==void 0?this.flags.binary:o(w))?i.BINARY_EVENT:i.EVENT,data:w};return x.options={},x.options.compress=!this.flags||this.flags.compress!==!1,typeof w[w.length-1]=="function"&&(b("emitting packet with ack id %d",this.ids),this.acks[this.ids]=w.pop(),x.id=this.ids++),this.connected?this.packet(x):this.sendBuffer.push(x),this.flags={},this},d.prototype.packet=function(c){c.nsp=this.nsp,this.io.packet(c)},d.prototype.onopen=function(){if(b("transport is open - connecting"),this.nsp!=="/")if(this.query){var c=typeof this.query=="object"?y.encode(this.query):this.query;b("sending connect packet with query %s",c),this.packet({type:i.CONNECT,query:c})}else this.packet({type:i.CONNECT})},d.prototype.onclose=function(c){b("close (%s)",c),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",c)},d.prototype.onpacket=function(c){var w=c.nsp===this.nsp,x=c.type===i.ERROR&&c.nsp==="/";if(!(!w&&!x))switch(c.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(c);break;case i.BINARY_EVENT:this.onevent(c);break;case i.ACK:this.onack(c);break;case i.BINARY_ACK:this.onack(c);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",c.data);break}},d.prototype.onevent=function(c){var w=c.data||[];b("emitting event %j",w),c.id!=null&&(b("attaching ack callback to event"),w.push(this.ack(c.id))),this.connected?g.apply(this,w):this.receiveBuffer.push(w)},d.prototype.ack=function(c){var w=this,x=!1;return function(){if(!x){x=!0;var I=u(arguments);b("sending ack %j",I),w.packet({type:o(I)?i.BINARY_ACK:i.ACK,id:c,data:I})}}},d.prototype.onack=function(c){var w=this.acks[c.id];typeof w=="function"?(b("calling ack %s with %j",c.id,c.data),w.apply(this,c.data),delete this.acks[c.id]):b("bad ack %s",c.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},d.prototype.emitBuffered=function(){var c;for(c=0;c<this.receiveBuffer.length;c++)g.apply(this,this.receiveBuffer[c]);for(this.receiveBuffer=[],c=0;c<this.sendBuffer.length;c++)this.packet(this.sendBuffer[c]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){b("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var c=0;c<this.subs.length;c++)this.subs[c].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(b("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(c){return this.flags.compress=c,this},d.prototype.binary=function(c){return this.flags.binary=c,this}},"./node_modules/socket.io-client/lib/url.js":function(n,r,s){var i=s("./node_modules/parseuri/index.js"),a=s("./node_modules/debug/src/browser.js")("socket.io-client:url");n.exports=u;function u(m,E){var b=m;E=E||typeof location<"u"&&location,m==null&&(m=E.protocol+"//"+E.host),typeof m=="string"&&(m.charAt(0)==="/"&&(m.charAt(1)==="/"?m=E.protocol+m:m=E.host+m),/^(https?|wss?):\/\//.test(m)||(a("protocol-less url %s",m),typeof E<"u"?m=E.protocol+"//"+m:m="https://"+m),a("parse %s",m),b=i(m)),b.port||(/^(http|ws)$/.test(b.protocol)?b.port="80":/^(http|ws)s$/.test(b.protocol)&&(b.port="443")),b.path=b.path||"/";var y=b.host.indexOf(":")!==-1,o=y?"["+b.host+"]":b.host;return b.id=b.protocol+"://"+o+":"+b.port,b.href=b.protocol+"://"+o+(E&&E.port===b.port?"":":"+b.port),b}},"./node_modules/socket.io-parser/binary.js":function(n,r,s){var i=s("./node_modules/isarray/index.js"),a=s("./node_modules/socket.io-parser/is-buffer.js"),u=Object.prototype.toString,m=typeof Blob=="function"||typeof Blob<"u"&&u.call(Blob)==="[object BlobConstructor]",E=typeof File=="function"||typeof File<"u"&&u.call(File)==="[object FileConstructor]";r.deconstructPacket=function(o){var p=[],g=o.data,d=o;return d.data=b(g,p),d.attachments=p.length,{packet:d,buffers:p}};function b(o,p){if(!o)return o;if(a(o)){var g={_placeholder:!0,num:p.length};return p.push(o),g}else if(i(o)){for(var d=new Array(o.length),c=0;c<o.length;c++)d[c]=b(o[c],p);return d}else if(typeof o=="object"&&!(o instanceof Date)){var d={};for(var w in o)d[w]=b(o[w],p);return d}return o}r.reconstructPacket=function(o,p){return o.data=y(o.data,p),o.attachments=void 0,o};function y(o,p){if(!o)return o;if(o&&o._placeholder)return p[o.num];if(i(o))for(var g=0;g<o.length;g++)o[g]=y(o[g],p);else if(typeof o=="object")for(var d in o)o[d]=y(o[d],p);return o}r.removeBlobs=function(o,p){function g(w,x,I){if(!w)return w;if(m&&w instanceof Blob||E&&w instanceof File){d++;var T=new FileReader;T.onload=function(){I?I[x]=this.result:c=this.result,--d||p(c)},T.readAsArrayBuffer(w)}else if(i(w))for(var C=0;C<w.length;C++)g(w[C],C,w);else if(typeof w=="object"&&!a(w))for(var B in w)g(w[B],B,w)}var d=0,c=o;g(c),d||p(c)}},"./node_modules/socket.io-parser/index.js":function(n,r,s){var i=s("./node_modules/debug/src/browser.js")("socket.io-parser"),a=s("./node_modules/component-emitter/index.js"),u=s("./node_modules/socket.io-parser/binary.js"),m=s("./node_modules/isarray/index.js"),E=s("./node_modules/socket.io-parser/is-buffer.js");r.protocol=4,r.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],r.CONNECT=0,r.DISCONNECT=1,r.EVENT=2,r.ACK=3,r.ERROR=4,r.BINARY_EVENT=5,r.BINARY_ACK=6,r.Encoder=b,r.Decoder=d;function b(){}var y=r.ERROR+'"encode error"';b.prototype.encode=function(T,C){if(i("encoding packet %j",T),r.BINARY_EVENT===T.type||r.BINARY_ACK===T.type)g(T,C);else{var B=o(T);C([B])}};function o(T){var C=""+T.type;if((r.BINARY_EVENT===T.type||r.BINARY_ACK===T.type)&&(C+=T.attachments+"-"),T.nsp&&T.nsp!=="/"&&(C+=T.nsp+","),T.id!=null&&(C+=T.id),T.data!=null){var B=p(T.data);if(B!==!1)C+=B;else return y}return i("encoded %j as %s",T,C),C}function p(T){try{return JSON.stringify(T)}catch{return!1}}function g(T,C){function B(O){var k=u.deconstructPacket(O),_=o(k.packet),R=k.buffers;R.unshift(_),C(R)}u.removeBlobs(T,B)}function d(){this.reconstructor=null}a(d.prototype),d.prototype.add=function(T){var C;if(typeof T=="string")C=c(T),r.BINARY_EVENT===C.type||r.BINARY_ACK===C.type?(this.reconstructor=new x(C),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",C)):this.emit("decoded",C);else if(E(T)||T.base64)if(this.reconstructor)C=this.reconstructor.takeBinaryData(T),C&&(this.reconstructor=null,this.emit("decoded",C));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+T)};function c(T){var C=0,B={type:Number(T.charAt(0))};if(r.types[B.type]==null)return I("unknown packet type "+B.type);if(r.BINARY_EVENT===B.type||r.BINARY_ACK===B.type){for(var O=C+1;T.charAt(++C)!=="-"&&C!=T.length;);var k=T.substring(O,C);if(k!=Number(k)||T.charAt(C)!=="-")throw new Error("Illegal attachments");B.attachments=Number(k)}if(T.charAt(C+1)==="/"){for(var O=C+1;++C;){var _=T.charAt(C);if(_===","||C===T.length)break}B.nsp=T.substring(O,C)}else B.nsp="/";var R=T.charAt(C+1);if(R!==""&&Number(R)==R){for(var O=C+1;++C;){var _=T.charAt(C);if(_==null||Number(_)!=_){--C;break}if(C===T.length)break}B.id=Number(T.substring(O,C+1))}if(T.charAt(++C)){var P=w(T.substr(C)),M=P!==!1&&(B.type===r.ERROR||m(P));if(M)B.data=P;else return I("invalid payload")}return i("decoded %s as %j",T,B),B}function w(T){try{return JSON.parse(T)}catch{return!1}}d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function x(T){this.reconPack=T,this.buffers=[]}x.prototype.takeBinaryData=function(T){if(this.buffers.push(T),this.buffers.length===this.reconPack.attachments){var C=u.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),C}return null},x.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function I(T){return{type:r.ERROR,data:"parser error: "+T}}},"./node_modules/socket.io-parser/is-buffer.js":function(n,r,s){(function(i){n.exports=E;var a=typeof i=="function"&&typeof i.isBuffer=="function",u=typeof ArrayBuffer=="function",m=function(b){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(b):b.buffer instanceof ArrayBuffer};function E(b){return a&&i.isBuffer(b)||u&&(b instanceof ArrayBuffer||m(b))}}).call(this,s("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/split-on-first/index.js":function(n,r,s){n.exports=(i,a)=>{if(!(typeof i=="string"&&typeof a=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(a==="")return[i];const u=i.indexOf(a);return u===-1?[i]:[i.slice(0,u),i.slice(u+a.length)]}},"./node_modules/strict-uri-encode/index.js":function(n,r,s){n.exports=i=>encodeURIComponent(i).replace(/[!'()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`)},"./node_modules/to-array/index.js":function(n,r){n.exports=s;function s(i,a){var u=[];a=a||0;for(var m=a||0;m<i.length;m++)u[m-a]=i[m];return u}},"./node_modules/webpack/buildin/global.js":function(n,r){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}n.exports=s},"./node_modules/yeast/index.js":function(n,r,s){var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,u={},m=0,E=0,b;function y(g){var d="";do d=i[g%a]+d,g=Math.floor(g/a);while(g>0);return d}function o(g){var d=0;for(E=0;E<g.length;E++)d=d*a+u[g.charAt(E)];return d}function p(){var g=y(+new Date);return g!==b?(m=0,b=g):g+"."+y(m++)}for(;E<a;E++)u[i[E]]=E;p.encode=y,p.decode=o,n.exports=p},"./package.json":function(n){n.exports=JSON.parse('{"name":"skyway-js","version":"4.4.5","description":"The official JavaScript SDK for SkyWay","main":"dist/skyway.js","types":"skyway-js.d.ts","scripts":{"test":"karma start ./karma.conf.js","clean":"del ./dist","lint":"eslint .","build":"NODE_ENV=production webpack","dev":"webpack -w"},"repository":{"type":"git","url":"git+https://github.com/skyway/skyway-js-sdk"},"files":["dist/skyway.js","skyway-js.d.ts","LICENSE","CHANGELOG.md","README.md"],"author":"NTT Communications Corp.","license":"Apache-2.0","devDependencies":{"babel-loader":"7.1.5","babel-plugin-espower":"2.4.0","babel-plugin-istanbul":"4.1.6","babel-preset-es2015":"^6.24.1","del-cli":"^2.0.0","eslint":"^6.1.0","eslint-config-prettier":"^6.0.0","eslint-plugin-prettier":"^3.1.0","inject-loader":"^4.0.1","karma":"^4.2.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^1.1.2","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^4.0.2","mocha":"^6.2.0","power-assert":"^1.6.1","prettier":"^1.18.2","sinon":"^7.3.2","webpack":"^4.38.0","webpack-cli":"^3.3.6"},"dependencies":{"@jitsi/sdp-interop":"^0.1.13","@types/node":"^12.6.8","detect-browser":"^4.6.0","enum":"^3.0.4","events":"^3.0.0","js-binarypack":"0.0.9","object-sizeof":"^1.4.0","query-string":"^6.8.2","sdp-transform":"^2.11.0","socket.io-client":"^2.2.0","socket.io-parser":"~3.3.0"}}')},"./src/peer.js":function(n,r,s){s.r(r);var i=s("./node_modules/events/events.js"),a=s.n(i),u=s("./node_modules/enum/lib/enum.js"),m=s("./node_modules/socket.io-client/lib/index.js"),E=s.n(m),b=s("./node_modules/query-string/index.js"),y=s.n(b);const o="dispatcher.webrtc.ecl.ntt.com",p=443,g=!0,d=1e4,c="turn.webrtc.ecl.ntt.com",w=443,x={CLIENT:new u.default(["SEND_OFFER","SEND_ANSWER","SEND_CANDIDATE","SEND_LEAVE","ROOM_JOIN","ROOM_LEAVE","ROOM_GET_LOGS","ROOM_GET_USERS","ROOM_SEND_DATA","SFU_GET_OFFER","SFU_ANSWER","SFU_CANDIDATE","PING","UPDATE_CREDENTIAL","SEND_FORCE_CLOSE"]),SERVER:new u.default(["OPEN","ERROR","OFFER","ANSWER","CANDIDATE","LEAVE","AUTH_EXPIRES_IN","ROOM_LOGS","ROOM_USERS","ROOM_DATA","ROOM_USER_JOIN","ROOM_USER_LEAVE","SFU_OFFER","FORCE_CLOSE"])},I=16300,T=20*1024*1024;var M={DISPATCHER_HOST:o,DISPATCHER_PORT:p,DISPATCHER_SECURE:g,DISPATCHER_TIMEOUT:d,TURN_HOST:c,TURN_PORT:w,MESSAGE_TYPES:x,maxChunkSize:I,maxDataSize:T,minBroadcastIntervalMs:100,maxNumberOfAttempts:10,reconnectionAttempts:2,numberServersToTry:3,sendInterval:1,pingInterval:25e3,defaultConfig:{iceServers:[{urls:"stun:stun.webrtc.ecl.ntt.com:3478",url:"stun:stun.webrtc.ecl.ntt.com:3478"}],iceTransportPolicy:"all"}};const W="SkyWay: ",J=new u.default({NONE:0,ERROR:1,WARN:2,FULL:3});class X{constructor(){this._logLevel=J.NONE.value,this.LOG_LEVELS=J}setLogLevel(h){switch(h.value&&(h=h.value),parseInt(h,10)){case 0:this._logLevel=J.NONE.value;break;case 1:this._logLevel=J.ERROR.value;break;case 2:this._logLevel=J.WARN.value;break;case 3:this._logLevel=J.FULL.value;break;default:this._logLevel=J.NONE.value;break}}warn(...h){this._logLevel>=J.WARN.value&&console.warn(W,...h)}error(...h){this._logLevel>=J.ERROR.value&&console.error(W,...h)}log(...h){this._logLevel>=J.FULL.value&&console.log(W,...h)}}var U=new X,ae=s("./node_modules/detect-browser/index.js");function Z(ke){return!ke||/^[A-Za-z0-9_-]+(?:[ _-][A-Za-z0-9]+)*$/.exec(ke)}function se(ke){return!ke||/^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$/.exec(ke)}function we(){return(Math.random().toString(36)+"0000000000000000000").substr(2,16)}function Se(){return Math.random().toString(36).substr(2)}function rt(ke){const h=ke.reduce((Y,ee)=>Y+ee.byteLength,0),v=new Uint8Array(h);let D=0;for(const Y of ke)v.set(new Uint8Array(Y),D),D+=Y.byteLength;return v.buffer}function We(ke,h){const v=new FileReader;v.onload=D=>{h(D.target.result)},v.readAsArrayBuffer(ke)}function Ut(){return location.protocol==="https:"}function Jt(){const{name:ke,version:h}=Object(ae.detect)(),[v,D,Y]=h.split(".").map(ee=>parseInt(ee));return{name:ke,major:v,minor:D,patch:Y}}function Ae(){const{name:ke}=Object(ae.detect)();return!(!(ke==="safari"||ke==="ios")||RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))}var he={validateId:Z,validateKey:se,randomId:we,randomToken:Se,joinArrayBuffers:rt,blobToArrayBuffer:We,isSecure:Ut,detectBrowser:Jt,isPlanBSafari:Ae},qe=s("./package.json");class dt extends a.a{constructor(h,v){if(super(),this._isOpen=!1,this._isPeerIdSet=!1,this._queue=[],this._io=null,this._key=h,this._reconnectAttempts=0,v.host&&v.port){const D=v.secure?"https://":"http://";this.signalingServerUrl=`${D}${v.host}:${v.port}`}else{const D=v.dispatcherHost||M.DISPATCHER_HOST,Y=v.dispatcherPort||M.DISPATCHER_PORT,ve=v.dispatcherSecure||M.DISPATCHER_SECURE?"https://":"http://";this._dispatcherUrl=`${ve}${D}:${Y}/signaling`}}get isOpen(){return Boolean(this._io&&this._io.connected&&this._isOpen)}async start(h,v,D){let Y=`apiKey=${this._key}&token=${v}&platform=javascript&sdk_version=${qe.version}`;if(h&&(Y+=`&peerId=${h}`,this._isPeerIdSet=!0),D&&(Y+=`&credential=${encodeURIComponent(JSON.stringify(D))}`),this._dispatcherUrl)try{this.signalingServerUrl=await this._fetchSignalingServerUrlWithRetry()}catch(Be){this.emit("error",Be);return}const ee=he.detectBrowser(),xe=(ee.name==="ios"||ee.name==="safari")&&ee.major>=15?["polling"]:["polling","websocket"];this._io=E()(this.signalingServerUrl,{"force new connection":!0,query:Y,reconnectionAttempts:M.reconnectionAttempts,transports:xe}),this._io.on("reconnect_failed",()=>{this._stopPings(),this._connectToNewServer()}),this._io.on("error",Be=>{U.error(Be)}),this._setupMessageHandlers()}async _connectToNewServer(){if(this._reconnectAttempts>=M.numberServersToTry){this.emit("error","Could not connect to server.");return}try{this.signalingServerUrl=await this._fetchSignalingServerUrlWithRetry()}catch(h){this.emit("error",h);return}this._io.io.uri=this.signalingServerUrl,this._io.connect(),this._reconnectAttempts++}async _fetchSignalingServerUrlWithRetry(){for(let h=0;h<M.maxNumberOfAttempts;h++){const v=await this._fetchSignalingServer().catch(D=>{U.warn(D)});if(v&&v.port&&v.host&&(!this.signalingServerUrl||this.signalingServerUrl.indexOf(v.host)===-1))return`${v.secure?"https://":"http://"}${v.host}:${v.port}`}throw new Error("Could not get signaling server url.")}_fetchSignalingServer(){return new Promise((h,v)=>{const D=new XMLHttpRequest;D.timeout=M.DISPATCHER_TIMEOUT,D.open("GET",this._dispatcherUrl,!0),D.onerror=()=>{v(new Error("There was a problem with the request for the dispatcher. Check your peer options and network connections."))},D.onabort=()=>{v(new Error("The request for the dispatcher was aborted."))},D.ontimeout=()=>{v(new Error("The request for the dispatcher timed out. Check your firewall, network speed, SkyWay failure information"))},D.onload=()=>{if(D.status!==200){v(new Error("Connection failed. Unexpected response: "+D.status));return}try{const Y=JSON.parse(D.responseText);if(Y&&Y.domain){h({host:Y.domain,port:443,secure:!0});return}v(new Error("The dispatcher server returned an invalid JSON response. have no signaling server domain in JSON."))}catch{v(new Error("The dispatcher server returned an invalid JSON response."))}},D.send(null)})}send(h,v){if(!h){this._io.emit("error","Invalid message");return}if(!this.isOpen){this._queue.push({type:h,message:v});return}this._io.connected===!0&&this._io.emit(h,v)}close(){this.isOpen&&(this._stopPings(),this._io.disconnect(),this._isOpen=!1)}reconnect(){this._io.connect()}updateCredential(h){const v=y.a.parse(this._io.io.opts.query);v.credential?v.credential=encodeURIComponent(JSON.stringify(h)):U.warn("Adding a credential when one wasn't specified before."),this._io.io.opts.query=y.a.stringify(v),this.send(M.MESSAGE_TYPES.CLIENT.UPDATE_CREDENTIAL.key,h)}_setupMessageHandlers(){M.MESSAGE_TYPES.SERVER.enums.forEach(h=>{h.key===M.MESSAGE_TYPES.SERVER.OPEN.key?this._io.on(h.key,v=>{!v||!v.peerId||(this._isPeerIdSet||(this._io.io.opts.query+=`&peerId=${v.peerId}`,this._isPeerIdSet=!0),this._reconnectAttempts=0,this._startPings(),this._sendQueuedMessages(),this._isOpen||(this._isOpen=!0,this.emit(h.key,v)))}):this._io.on(h.key,v=>{this.emit(h.key,v)})})}_sendQueuedMessages(){for(const h of this._queue)this.send(h.type,h.message);this._queue=[]}_startPings(){this._pingIntervalId||(this._pingIntervalId=setInterval(()=>{this.send(M.MESSAGE_TYPES.CLIENT.PING.key)},M.pingInterval))}_stopPings(){clearInterval(this._pingIntervalId),this._pingIntervalId=void 0}}var Qe=dt,vt=s("./node_modules/sdp-transform/lib/index.js"),Ke=s.n(vt),N=s("./node_modules/@jitsi/sdp-interop/lib/index.js");class j{unifiedToPlanB(h){const D=new N.Interop().toPlanB(h).sdp,Y=new Set,ee=/a=ssrc:\d+ msid:(\w+)/g;let ve;for(;ve=ee.exec(D);)Y.add(ve[1]);const xe=D.replace("a=msid-semantic:WMS *",`a=msid-semantic:WMS ${Array.from(Y).join(" ")}`);return new RTCSessionDescription({type:"offer",sdp:xe})}addVideoBandwidth(h,v){return this._validateBandwidth(v),this._addBandwidth(h,v,"video")}addAudioBandwidth(h,v){return this._validateBandwidth(v),this._addBandwidth(h,v,"audio")}filterVideoCodec(h,v){return this._filterCodec(h,v,"video")}filterAudioCodec(h,v){return this._filterCodec(h,v,"audio")}ensureUnifiedPlan(h){const v=`\r
`;return h.split(v).map(D=>D.startsWith("a=msid-semantic")?"a=msid-semantic:WMS *":D).join(v)}_filterCodec(h,v,D){if(v===void 0)throw new Error("codec is not passed");const Y=Ke.a.parse(h);return Y.media=Y.media.map(ee=>{if(ee.type===D){ee.rtp=ee.rtp.filter(xe=>xe.codec===v);const ve=ee.rtp.reduce((xe,Be)=>[...xe,Be.payload],[]);if(ee.rtp.length===0)throw new Error(`${v} does not exist`);ee.fmtp&&(ee.fmtp=ee.fmtp.filter(xe=>ve.includes(xe.payload))),ee.rtcpFb&&(ee.rtcpFb=ee.rtcpFb.filter(xe=>ve.includes(xe.payload))),ee.payloads=ve.join(" ")}return ee}),Ke.a.write(Y)}_addBandwidth(h,v,D){const Y=Ke.a.parse(h);return Y.media=Y.media.map(ee=>(ee.type===D&&(ee.bandwidth=[{type:"AS",limit:v.toString()},{type:"TIAS",limit:(v*1e3).toString()}]),ee)),Ke.a.write(Y)}_validateBandwidth(h){if(h===void 0)throw new Error("bandwidth is not passed");if(!/^\d+$/.test(h))throw new Error(`${h} is not a number`)}}var L=new j;const $=new u.default(["addStream","dcCreated","offerCreated","answerCreated","iceCandidate","iceConnectionFailed","negotiationNeeded","error"]);class H extends a.a{constructor(){super(),this._offerQueue=[],this._isExpectingAnswer=!1,this._isNegotiationAllowed=!0,this._isExecutingHandleOffer=!1,this.hasRemoteDescription=!1}async startConnection(h={}){if(this._pc=this._createPeerConnection(h.pcConfig),this._setupPCListeners(),this.originator=h.originator,this._audioBandwidth=h.audioBandwidth,this._videoBandwidth=h.videoBandwidth,this._audioCodec=h.audioCodec,this._videoCodec=h.videoCodec,this._type=h.type,this._type==="media")if(h.stream){const v=h.stream.getVideoTracks(),D=h.stream.getAudioTracks(),Y=this._getReceiveOnlyState(h);v.length>0?v.forEach(ee=>this._pc.addTrack(ee,h.stream)):Y.video&&this._pc.addTransceiver("video",{direction:"recvonly"}),D.length>0?D.forEach(ee=>this._pc.addTrack(ee,h.stream)):Y.audio&&this._pc.addTransceiver("audio",{direction:"recvonly"})}else this.originator&&(this._pc.addTransceiver("audio",{direction:"recvonly"}),this._pc.addTransceiver("video",{direction:"recvonly"}));if(this.originator){if(this._type==="data"){const v=h.label||"",D=h.dcInit||{},Y=this._pc.createDataChannel(v,D);this.emit(H.EVENTS.dcCreated.key,Y)}}else await this.handleOffer(h.offer)}replaceStream(h){if(!this._pc)return;this._isNegotiationAllowed=!0;const v=this,D=h.getVideoTracks(),Y=h.getAudioTracks(),ee=this._pc.getSenders(),ve=ee.find(Ie=>Ie.track&&Ie.track.kind==="video"),xe=ee.find(Ie=>Ie.track&&Ie.track.kind==="audio");Be(ve,D[0],h),Be(xe,Y[0],h);function Be(Ie,it,er){if(!(it===void 0&&Ie===void 0)){if(it===void 0){v._pc.removeTrack(Ie);return}if(Ie===void 0){v._pc.addTrack(it,er);return}Ie.track.id!==it.id&&Ie.replaceTrack(it)}}}async handleOffer(h){if(this._lastOffer&&h&&this._lastOffer.sdp===h.sdp)return;if(this._isNegotiationAllowed=!0,this._pc.signalingState==="have-remote-offer"||this._isExecutingHandleOffer){this._offerQueue.push(h);return}this._lastOffer=h,this._isExecutingHandleOffer=!0;let v;try{await this._setRemoteDescription(h),v=await this._makeAnswerSdp().catch(D=>U.error(D))}finally{this._isExecutingHandleOffer=!1}if(this._pc.signalingState==="stable"){const D=this._offerQueue.shift();D&&this.handleOffer(D)}this.emit(H.EVENTS.answerCreated.key,v)}async handleAnswer(h){this._isNegotiationAllowed=!0,this._isExpectingAnswer?(await this._setRemoteDescription(h),this._isExpectingAnswer=!1):this._pc.onnegotiationneeded&&this._pc.onnegotiationneeded()}async handleCandidate(h){!this._pc||await this._pc.addIceCandidate(new RTCIceCandidate(h)).then(()=>U.log("Successfully added ICE candidate")).catch(v=>U.error("Failed to add ICE candidate",v))}cleanup(){U.log("Cleaning up PeerConnection"),this._pc&&(this._pc.readyState!=="closed"||this._pc.signalingState!=="closed")&&this._pc.close(),this._pc=null}_createPeerConnection(h={}){return U.log("Creating RTCPeerConnection"),h.sdpSemantics="unified-plan",new RTCPeerConnection(h)}_setupPCListeners(){const h=this._pc;h.ontrack=v=>{U.log("Received remote media stream track"),v.streams.forEach(D=>{this.emit(H.EVENTS.addStream.key,D)})},h.ondatachannel=v=>{U.log("Received data channel");const D=v.channel;this.emit(H.EVENTS.dcCreated.key,D)},h.onicecandidate=v=>{if(!v.candidate||v.candidate.candidate===""){U.log("ICE candidates gathering complete");return}U.log("Generated ICE candidate for:",v.candidate),this.emit(H.EVENTS.iceCandidate.key,v.candidate)},h.oniceconnectionstatechange=()=>{switch(h.iceConnectionState){case"completed":U.log("iceConnectionState is completed"),h.onicecandidate=()=>{};break;case"disconnected":U.log("iceConnectionState is disconnected, trying reconnect by browser");break;case"failed":U.log("iceConnectionState is failed, closing connection"),this.emit(H.EVENTS.iceConnectionFailed.key);break;default:U.log(`iceConnectionState is ${h.iceConnectionState}`);break}},h.onconnectionstatechange=()=>{U.log(`connectionState is ${h.connectionState}`),h.connectionState==="failed"&&h.iceConnectionState==="disconnected"&&(U.log("connectionState is failed, closing connection"),this.emit(H.EVENTS.iceConnectionFailed.key))},h.onnegotiationneeded=async()=>{if(U.log("`negotiationneeded` triggered"),h.signalingState==="stable"&&this._isNegotiationAllowed&&(this._isNegotiationAllowed=!1,this.originator)){const v=await this._makeOfferSdp();this._setLocalDescription(v),this.emit(H.EVENTS.negotiationNeeded.key)}},h.onsignalingstatechange=()=>{if(U.log(`signalingState is ${h.signalingState}`),h.signalingState==="stable"&&!this._isExecutingHandleOffer){const v=this._offerQueue.shift();v&&this.handleOffer(v)}}}async _makeOfferSdp(){let h;try{h=await this._pc.createOffer()}catch(v){throw v.type="webrtc",U.error(v),this.emit(H.EVENTS.error.key,v),U.log("Failed to createOffer, ",v),v}return U.log("Created offer."),this._audioBandwidth&&(h.sdp=L.addAudioBandwidth(h.sdp,this._audioBandwidth)),this._videoBandwidth&&(h.sdp=L.addVideoBandwidth(h.sdp,this._videoBandwidth)),this._audioCodec&&(h.sdp=L.filterAudioCodec(h.sdp,this._audioCodec)),this._videoCodec&&(h.sdp=L.filterVideoCodec(h.sdp,this._videoCodec)),h}async _makeAnswerSdp(){let h;try{h=await this._pc.createAnswer()}catch(v){throw v.type="webrtc",U.error(v),this.emit(H.EVENTS.error.key,v),U.log("Failed to createAnswer, ",v),v}U.log("Created answer."),this._audioBandwidth&&(h.sdp=L.addAudioBandwidth(h.sdp,this._audioBandwidth)),this._videoBandwidth&&(h.sdp=L.addVideoBandwidth(h.sdp,this._videoBandwidth)),this._audioCodec&&(h.sdp=L.filterAudioCodec(h.sdp,this._audioCodec)),this._videoCodec&&(h.sdp=L.filterVideoCodec(h.sdp,this._videoCodec));try{await this._pc.setLocalDescription(h)}catch(v){throw v.type="webrtc",U.error(v),this.emit(H.EVENTS.error.key,v),U.log("Failed to setLocalDescription, ",v),v}return U.log("Set localDescription: answer"),U.log(`Setting local description ${JSON.stringify(h.sdp)}`),h}async _setLocalDescription(h){U.log(`Setting local description ${JSON.stringify(h.sdp)}`);try{await this._pc.setLocalDescription(h)}catch(v){throw v.type="webrtc",U.error(v),this.emit(H.EVENTS.error.key,v),U.log("Failed to setLocalDescription, ",v),v}U.log("Set localDescription: offer"),this._isExpectingAnswer=!0,this.emit(H.EVENTS.offerCreated.key,h)}async _setRemoteDescription(h){U.log(`Setting remote description ${JSON.stringify(h)}`);try{await this._pc.setRemoteDescription(new RTCSessionDescription(h)),this.hasRemoteDescription=!0}catch(v){throw v.type="webrtc",U.error(v),this.emit(H.EVENTS.error.key,v),U.log("Failed to setRemoteDescription: ",v),v}U.log("Set remoteDescription:",h.type)}_getReceiveOnlyState(h={}){const v={audio:!1,video:!1},D=h.stream instanceof MediaStream,Y=D?h.stream.getAudioTracks().length!==0:!1,ee=D?h.stream.getVideoTracks().length!==0:!1;return D===!1&&h.audioReceiveEnabled===void 0&&h.videoReceiveEnabled===void 0?(v.audio=!0,v.video=!0,v):(h.audioReceiveEnabled&&Y===!1&&(v.audio=!0),h.videoReceiveEnabled&&ee===!1&&(v.video=!0),h.audioReceiveEnabled===!1&&Y&&U.warn("Option audioReceiveEnabled will be treated as true, because passed stream has MediaStreamTrack(kind = audio)"),h.videoReceiveEnabled===!1&&ee&&U.warn("Option videoReceiveEnabled will be treated as true, because passed stream has MediaStreamTrack(kind = video)"),v)}static get EVENTS(){return $}}var G=H;const te=new u.default(["candidate","offer","answer","close","forceClose"]);class Q extends a.a{constructor(h,v){if(super(),v=v||{},this.constructor===Q)throw new TypeError("Cannot construct Connection instances directly");this._options=v,this.open=!1,this.type=void 0,this.metadata=this._options.metadata,this.remoteId=h,this._negotiator=new G,this._idPrefix="c_",this._randomIdSuffix=he.randomToken(),this._setupNegotiatorMessageHandlers()}get id(){return this._options.connectionId||this._idPrefix+this._randomIdSuffix}async handleAnswer(h){this._pcAvailable?(await this._negotiator.handleAnswer(h.answer),this.open=!0,this._handleQueuedMessages()):(U.log(`Queuing ANSWER message in ${this.id} from ${this.remoteId}`),this._queuedMessages.push({type:M.MESSAGE_TYPES.SERVER.ANSWER.key,payload:h}))}handleCandidate(h){if(this._negotiator.originator&&!this._negotiator.hasRemoteDescription){this._queuedMessages.push({type:M.MESSAGE_TYPES.SERVER.CANDIDATE.key,payload:h});return}this._pcAvailable?this._negotiator.handleCandidate(h.candidate):(U.log(`Queuing CANDIDATE message in ${this.id} from ${this.remoteId}`),this._queuedMessages.push({type:M.MESSAGE_TYPES.SERVER.CANDIDATE.key,payload:h}))}updateOffer(h){this.open?this._negotiator.handleOffer(h.offer):this._options.payload=h}getPeerConnection(){return this.open?this._negotiator._pc:null}_handleQueuedMessages(){for(const h of this._queuedMessages)switch(h.type){case M.MESSAGE_TYPES.SERVER.ANSWER.key:this.handleAnswer(h.payload);break;case M.MESSAGE_TYPES.SERVER.CANDIDATE.key:this.handleCandidate(h.payload);break;default:U.warn("Unrecognized message type:",h.type,"from peer:",this.remoteId);break}this._queuedMessages=[]}close(h=void 0){!this.open||(this.open=!1,this._negotiator.cleanup(),this.emit(Q.EVENTS.close.key),h?this.emit(Q.EVENTS.forceClose.key):h===void 0&&U.warn("Default value of the forceClose parameter will change false to true from future versions."))}_setupNegotiatorMessageHandlers(){this._negotiator.on(G.EVENTS.answerCreated.key,h=>{const v={answer:h,dst:this.remoteId,connectionId:this.id,connectionType:this.type};this.emit(Q.EVENTS.answer.key,v)}),this._negotiator.on(G.EVENTS.offerCreated.key,h=>{const v={offer:h,dst:this.remoteId,connectionId:this.id,connectionType:this.type,metadata:this.metadata};this.serialization&&(v.serialization=this.serialization),this.label&&(v.label=this.label),this.dcInit&&(v.dcInit=this.dcInit),this.emit(Q.EVENTS.offer.key,v)}),this._negotiator.on(G.EVENTS.iceCandidate.key,h=>{const v={candidate:h,dst:this.remoteId,connectionId:this.id,connectionType:this.type};this.emit(Q.EVENTS.candidate.key,v)}),this._negotiator.on(G.EVENTS.iceConnectionFailed.key,()=>{this.close(!1)})}get peer(){return U.warn(`${this.constructor.name}.peer is deprecated and may be removed from a future version. Please use ${this.constructor.name}.remoteId instead.`),this.remoteId}static get EVENTS(){return te}}var K=Q,q=s("./node_modules/js-binarypack/lib/binarypack.js"),S=s.n(q),l=s("./node_modules/object-sizeof/index.js"),f=s.n(l);const A=new u.default(["open","data","error"]);A.extend(K.EVENTS.enums);const F=new u.default(["binary","binary-utf8","json","none"]);class V extends K{constructor(h,v){if(super(h,v),this._idPrefix="dc_",this.type="data",this._isOnOpenCalled=!1,this.label=this._options.label||this.id,this.dcInit=this._options.dcInit||{},this.serialization=V.SERIALIZATIONS.binary.key,this._options.serialization){if(!V.SERIALIZATIONS.get(this._options.serialization))throw new Error("Invalid serialization");this.serialization=this._options.serialization,this._isUnreliableDCInit(this.dcInit)&&(U.warn("You can not specify serialization with unreliable mode enabled."),this.serialization=V.SERIALIZATIONS.binary.key)}this._sendBuffer=[],this._receivedData={},this._queuedMessages=this._options.queuedMessages||[],this._negotiator.on(G.EVENTS.dcCreated.key,D=>{this._dc=D,this._dc.binaryType="arraybuffer",this._setupMessageHandlers(),!this._isOnOpenCalled&&this._dc.readyState==="open"&&this._dc.onopen()}),this._options.payload&&(this._options.payload.pcConfig=this._options.pcConfig)}async startConnection(){await this._negotiator.startConnection(this._options.payload||{originator:!0,type:"data",label:this.label,dcInit:this.dcInit,pcConfig:this._options.pcConfig}),this._pcAvailable=!0,this._handleQueuedMessages()}_setupMessageHandlers(){this._dc.onopen=()=>{this._isOnOpenCalled||(U.log("Data channel connection success"),this.open=!0,this._isOnOpenCalled=!0,this.emit(V.EVENTS.open.key))},this._dc.onmessage=h=>{this._handleDataMessage(h)},this._dc.onclose=()=>{U.log("DataChannel closed for:",this.id),this.close(!1)},this._dc.onerror=h=>{U.error(h)}}_handleDataMessage(h){if(this.serialization===V.SERIALIZATIONS.none.key){this.emit(V.EVENTS.data.key,h.data);return}else if(this.serialization===V.SERIALIZATIONS.json.key){this.emit(V.EVENTS.data.key,JSON.parse(h.data));return}const v=S.a.unpack(h.data);let D=this._receivedData[v.id];if(D||(D=this._receivedData[v.id]={size:v.size,type:v.type,name:v.name,mimeType:v.mimeType,totalParts:v.totalParts,parts:new Array(v.totalParts),receivedParts:0}),D.receivedParts++,D.parts[v.index]=v.data,D.receivedParts===D.totalParts){delete this._receivedData[v.id];const Y=he.joinArrayBuffers(D.parts),ee=S.a.unpack(Y);let ve;switch(D.type){case"Blob":ve=new Blob([new Uint8Array(ee)],{type:D.mimeType});break;case"File":ve=new File([new Uint8Array(ee)],D.name,{type:D.mimeType});break;default:ve=ee}this.emit(V.EVENTS.data.key,ve)}}send(h){if(!this.open){this.emit(V.EVENTS.error.key,new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(h==null)return;if(this.serialization===V.SERIALIZATIONS.none.key){this._sendBuffer.push(h),this._startSendLoop();return}else if(this.serialization===V.SERIALIZATIONS.json.key){this._sendBuffer.push(JSON.stringify(h)),this._startSendLoop();return}const v=S.a.pack(h),D=v.size,Y=h.constructor.name,ee={id:he.randomId(),type:Y,size:D,totalParts:0};Y==="File"&&(ee.name=h.name),h instanceof Blob&&(ee.mimeType=h.type);const ve=M.maxChunkSize-f()(ee),xe=Math.ceil(D/ve);ee.totalParts=xe;for(let Be=0;Be<xe;Be++){const Ie=v.slice(Be*ve,(Be+1)*ve);ee.index=Be,ee.data=Ie,he.blobToArrayBuffer(S.a.pack(ee),it=>{this._sendBuffer.push(it),this._startSendLoop()})}}close(h){const v=D=>{super.close(D),this._isOnOpenCalled=!1};if(!this._dc){v(h);return}this._dc.onclose=()=>{U.log("DataChannel closed for:",this.id),v(h)},this._dc.readyState!=="closing"&&(this._dc.readyState==="closed"?v(h):this._dc.close())}_startSendLoop(){this.sendInterval||(this.sendInterval=setInterval(()=>{const h=this._sendBuffer.shift();try{this._dc.send(h)}catch{this._sendBuffer.push(h)}this._sendBuffer.length===0&&(clearInterval(this.sendInterval),this.sendInterval=void 0)},M.sendInterval))}_isUnreliableDCInit(h){return h?"maxRetransmits"in h||"maxPacketLifeTime"in h:!1}static get SERIALIZATIONS(){return F}static get EVENTS(){return A}}var z=V;const oe=new u.default(["stream"]);oe.extend(K.EVENTS.enums);class ue extends K{constructor(h,v){super(h,v),this._idPrefix="mc_",this.type="media",this.localStream=this._options.stream,this._queuedMessages=this._options.queuedMessages||[],this._pcAvailable=!1}async startConnection(){!this._options.originator||(await this._negotiator.startConnection({type:"media",stream:this.localStream,originator:this._options.originator,pcConfig:this._options.pcConfig,videoBandwidth:this._options.videoBandwidth,audioBandwidth:this._options.audioBandwidth,videoCodec:this._options.videoCodec,audioCodec:this._options.audioCodec,videoReceiveEnabled:this._options.videoReceiveEnabled,audioReceiveEnabled:this._options.audioReceiveEnabled}),this._pcAvailable=!0,this._handleQueuedMessages())}answer(h,v={}){if(this.localStream){U.warn("localStream already exists on this MediaConnection. Are you answering a call twice?");return}this._options.payload.stream=h,this.localStream=h,this._negotiator.startConnection({type:"media",stream:this.localStream,originator:!1,offer:this._options.payload.offer,pcConfig:this._options.pcConfig,audioBandwidth:v.audioBandwidth,videoBandwidth:v.videoBandwidth,videoCodec:v.videoCodec,audioCodec:v.audioCodec}),this._pcAvailable=!0,this._handleQueuedMessages(),this.open=!0}replaceStream(h){this._negotiator.replaceStream(h),this.localStream=h}_setupNegotiatorMessageHandlers(){super._setupNegotiatorMessageHandlers(),this._negotiator.on(G.EVENTS.addStream.key,h=>{U.log("Receiving stream",h),!(this.remoteStream&&this.remoteStream.id===h.id)&&(this.remoteStream=h,this.emit(ue.EVENTS.stream.key,h))})}static get EVENTS(){return oe}}var de=ue,Ce=s("./node_modules/socket.io-parser/index.js"),ge=s.n(Ce),ht=s("./node_modules/has-binary2/index.js"),Te=s.n(ht);const Pe=["stream","open","close","peerJoin","peerLeave","error","data","log"],dn=["offer","answer","candidate","leave","close","getLog","broadcast"],to=new u.default(Pe),no=new u.default(dn);class Vt extends a.a{constructor(h,v,D={}){if(super(),this.constructor===Vt)throw new TypeError("Cannot construct Room instances directly");this.name=h,this._options=D,this._peerId=v,this._localStream=this._options.stream,this._pcConfig=this._options.pcConfig,this.lastSent=0,this.messageQueue=[],this.sendIntervalID=null}validateSendDataSize(h){const v=Te()([h]),D={type:v?ge.a.BINARY_EVENT:ge.a.EVENT,data:[h]},Y=new ge.a.Encoder;let ee;Y.encode(D,xe=>{ee=v?xe[1].byteLength:xe[0].length});const ve=M.maxDataSize;if(ee>ve)throw new Error("The size of data to send must be less than 20 MB");return!0}_sendData(h,v){const D=M.minBroadcastIntervalMs,Y=Date.now(),ee=Y-this.lastsend;if(this.messageQueue.length==0&&ee>=D){this.lastsend=Y,this.emit(v,h);return}this.messageQueue.push({msg:h,key:v}),this.sendIntervalID===null&&(this.sendIntervalID=setInterval(()=>{if(this.messageQueue.length===0){clearInterval(this.sendIntervalID),this.sendIntervalID=null;return}const ve=this.messageQueue.shift();this.lastsend=Date.now(),this.emit(ve.key,ve.msg)},D))}handleData(h){const v={data:h.data,src:h.src};this.emit(Vt.EVENTS.data.key,v)}handleLog(h){this.emit(Vt.EVENTS.log.key,h)}getLog(){const h={roomName:this.name};this.emit(Vt.MESSAGE_EVENTS.getLog.key,h)}static get EVENTS(){return to}static get MESSAGE_EVENTS(){return no}}var Lt=Vt;const ro=["offerRequest","candidate"],ei=new u.default([]);ei.extend(Lt.EVENTS.enums);const ti=new u.default(ro);ti.extend(Lt.MESSAGE_EVENTS.enums);class je extends Lt{constructor(h,v,D){super(h,v,D),this.remoteStreams={},this.members=[],this._open=!1,this._msidMap={},this._unknownStreams={},this._negotiator=new G}call(h){h&&(this._localStream=h);const v={roomName:this.name};this.emit(je.MESSAGE_EVENTS.offerRequest.key,v)}handleOffer(h){let v=h.offer;he.isPlanBSafari()&&(v=L.unifiedToPlanB(v)),this._connectionStarted?this._negotiator.handleOffer(v):(this._negotiator.startConnection({type:"media",stream:this._localStream,pcConfig:this._options.pcConfig,offer:v}),this._setupNegotiatorMessageHandlers(),this._connectionStarted=!0)}_setupNegotiatorMessageHandlers(){this._negotiator.on(G.EVENTS.addStream.key,h=>{const v=h;if(this._msidMap[v.id]){if(v.peerId=this._msidMap[v.id],v.peerId===this._peerId)return;const D=this.remoteStreams[v.id];if(D&&D.id===v.id)return;this.remoteStreams[v.id]=v,this.emit(je.EVENTS.stream.key,v),U.log(`Received remote media stream for ${v.peerId} in ${this.name}`)}else this._unknownStreams[v.id]=v}),this._negotiator.on(G.EVENTS.negotiationNeeded.key,()=>{const h={roomName:this.name};this.emit(je.MESSAGE_EVENTS.offerRequest.key,h)}),this._negotiator.on(G.EVENTS.answerCreated.key,h=>{he.isPlanBSafari()||(h.sdp=L.ensureUnifiedPlan(h.sdp));const v={roomName:this.name,answer:h};this.emit(je.MESSAGE_EVENTS.answer.key,v)}),this._negotiator.on(G.EVENTS.iceConnectionFailed.key,()=>{this.close()}),this._negotiator.on(G.EVENTS.iceCandidate.key,h=>{const v={roomName:this.name,candidate:h};this.emit(je.MESSAGE_EVENTS.candidate.key,v)})}handleJoin(h){const{src:v,roomMembers:D}=h;if(v===this._peerId){this._open=!0,this.members=D.filter(Y=>Y!==v),this.call(this._localStream),this.emit(je.EVENTS.open.key);return}this.members.push(v),this.emit(je.EVENTS.peerJoin.key,v)}handleLeave(h){if(!this._open)return;const v=h.src,D=this.members.indexOf(v);D>=0&&this.members.splice(D,1);for(const Y in this.remoteStreams)this.remoteStreams[Y].peerId===v&&(delete this.remoteStreams[Y],delete this._msidMap[Y],delete this._unknownStreams[Y]);this.emit(je.EVENTS.peerLeave.key,v)}send(h){if(!this._open||!this.validateSendDataSize(h))return;const v={roomName:this.name,data:h};this._sendData(v,je.MESSAGE_EVENTS.broadcast.key)}close(){if(!this._open)return;this._negotiator&&this._negotiator.cleanup(),this._open=!1;const h={roomName:this.name};this.emit(je.MESSAGE_EVENTS.leave.key,h),this.emit(je.EVENTS.close.key)}replaceStream(h){this._localStream=h,this._negotiator.replaceStream(h)}updateMsidMap(h={}){this._msidMap=h;for(const v of Object.keys(this._unknownStreams))if(this._msidMap[v]){const D=this._unknownStreams[v];if(D.peerId=this._msidMap[D.id],delete this._unknownStreams[v],D.peerId===this._peerId)return;this.remoteStreams[D.id]=D,this.emit(je.EVENTS.stream.key,D)}}getPeerConnection(){return this._connectionStarted?this._negotiator._pc:null}static get EVENTS(){return ei}static get MESSAGE_EVENTS(){return ti}}var Tt=je;const io=["broadcastByDC","getPeers"],ni=new u.default([]);ni.extend(Lt.EVENTS.enums);const ri=new u.default(io);ri.extend(Lt.MESSAGE_EVENTS.enums);class Ue extends Lt{constructor(h,v,D){super(h,v,D),this.connections={},this._queuedMessages={}}call(h){h&&(this._localStream=h);const v={roomName:this.name,type:"media"};this.emit(Ue.MESSAGE_EVENTS.getPeers.key,v)}connect(){const h={roomName:this.name,type:"data"};this.emit(Ue.MESSAGE_EVENTS.getPeers.key,h)}makeMediaConnections(h){const v={stream:this._localStream,pcConfig:this._pcConfig,originator:!0,videoBandwidth:this._options.videoBandwidth,audioBandwidth:this._options.audioBandwidth,videoCodec:this._options.videoCodec,audioCodec:this._options.audioCodec,videoReceiveEnabled:this._options.videoReceiveEnabled,audioReceiveEnabled:this._options.audioReceiveEnabled};this._makeConnections(h,"media",v)}makeDataConnections(h){const v={pcConfig:this._pcConfig};this._makeConnections(h,"data",v)}handleJoin(h){const v=h.src;if(v===this._peerId){this.call(this._localStream),this.emit(Ue.EVENTS.open.key);return}this.emit(Ue.EVENTS.peerJoin.key,v)}handleLeave(h){const v=h.src;this._deleteConnections(v),this.emit(Ue.EVENTS.peerLeave.key,v)}handleOffer(h){const v=h.connectionId;let D=this._getConnection(h.src,v);if(D){D.updateOffer(h);return}if(h.connectionType==="media"){if(this._hasConnection(h.src)&&this._peerId>h.src)return;D=new de(h.src,{connectionId:v,payload:h,metadata:h.metadata,queuedMessages:this._queuedMessages[v],pcConfig:this._pcConfig}),D.startConnection(),U.log("MediaConnection created in OFFER"),this._addConnection(h.src,D),this._setupMessageHandlers(D),D.answer(this._localStream,{videoBandwidth:this._options.videoBandwidth,audioBandwidth:this._options.audioBandwidth,videoCodec:this._options.videoCodec,audioCodec:this._options.audioCodec,videoReceiveEnabled:this._options.videoReceiveEnabled,audioReceiveEnabled:this._options.audioReceiveEnabled})}else U.warn(`Received malformed connection type: ${h.connectionType}`)}handleAnswer(h){const v=this._getConnection(h.src,h.connectionId);v&&v.handleAnswer(h)}handleCandidate(h){const v=this._getConnection(h.src,h.connectionId);v?v.handleCandidate(h):(this._queuedMessages[h.connectionId]===void 0&&(this._queuedMessages[h.connectionId]=[]),this._queuedMessages[h.connectionId].push({type:M.MESSAGE_TYPES.SERVER.CANDIDATE.key,payload:h}))}send(h){if(!this.validateSendDataSize(h))return;const v={roomName:this.name,data:h};this._sendData(v,Ue.MESSAGE_EVENTS.broadcast.key)}close(){for(const v in this.connections)this.connections.hasOwnProperty(v)&&this.connections[v].forEach(D=>{D.close(!1)});const h={roomName:this.name};this.emit(Ue.MESSAGE_EVENTS.leave.key,h),this.emit(Ue.EVENTS.close.key)}replaceStream(h){this._localStream=h;for(const v in this.connections)this.connections.hasOwnProperty(v)&&this.connections[v].forEach(D=>{D.type==="media"&&D.replaceStream(h)})}getPeerConnections(){const h={};for(const[v,[D]]of Object.entries(this.connections)){const Y=D.getPeerConnection();Y&&(h[v]=Y)}return h}_addConnection(h,v){this.connections[h]||(this.connections[h]=[]),this.connections[h].push(v)}_makeConnections(h,v,D){h.filter(Y=>Y!==this._peerId).filter(Y=>!this._hasConnection(Y)).forEach(Y=>{let ee;switch(v){case"data":ee=new z(Y,D);break;case"media":ee=new de(Y,D);break;default:return}ee.startConnection(),this._addConnection(Y,ee),this._setupMessageHandlers(ee),U.log(`${v} connection to ${Y} created in ${this.name}`)})}_deleteConnections(h){this.connections[h]&&(this.connections[h].forEach(v=>{v.close(!1)}),delete this.connections[h])}_getConnection(h,v){return this.connections&&this.connections[h]?this.connections[h].filter(Y=>Y.id===v)[0]:null}_hasConnection(h){return this.connections[h]&&this.connections[h].length>0}_setupMessageHandlers(h){h.on(K.EVENTS.offer.key,v=>{v.roomName=this.name,this.emit(Ue.MESSAGE_EVENTS.offer.key,v)}),h.on(K.EVENTS.answer.key,v=>{v.roomName=this.name,this.emit(Ue.MESSAGE_EVENTS.answer.key,v)}),h.on(K.EVENTS.candidate.key,v=>{v.roomName=this.name,this.emit(Ue.MESSAGE_EVENTS.candidate.key,v)}),h.type==="media"&&h.on(de.EVENTS.stream.key,v=>{v.peerId=h.remoteId,this.emit(Ue.EVENTS.stream.key,v)})}static get EVENTS(){return ni}static get MESSAGE_EVENTS(){return ri}}var Xt=Ue;const so=new u.default(["open","error","call","connection","expiresin","close","disconnected"]);class Ve extends a.a{constructor(h,v){super(),this.connections={},this.rooms={},this._queuedMessages={},h&&h.constructor===Object?(v=h,h=void 0):h&&(h=h.toString());const D={debug:U.LOG_LEVELS.NONE,secure:!0,config:M.defaultConfig,turn:!0,dispatcherSecure:M.DISPATCHER_SECURE,dispatcherHost:M.DISPATCHER_HOST,dispatcherPort:M.DISPATCHER_PORT};if(this.options=Object.assign({},D,v),this.options.token=he.randomToken(),U.setLogLevel(this.options.debug),!he.validateId(h)){this._abort("invalid-id",`ID "${h}" is invalid`);return}if(!he.validateKey(v.key)){this._abort("invalid-key",`API KEY "${this.options.key}" is invalid`);return}this.options.host==="/"&&(this.options.host=window.location.hostname),v.secure===void 0&&this.options.port!==443&&(this.options.secure=void 0),this._initializeServerConnection(h)}call(h,v,D={}){if(!this._checkOpenStatus())return;D.originator=!0,D.stream=v,D.pcConfig=this._pcConfig;const Y=new de(h,D);return Y.startConnection(),U.log("MediaConnection created in call method"),this._addConnection(h,Y),Y}connect(h,v={}){if(!this._checkOpenStatus())return;v.pcConfig=this._pcConfig;const D=new z(h,v);return D.startConnection(),U.log("DataConnection created in connect method"),this._addConnection(h,D),D}joinRoom(h,v={}){if(!!this._checkOpenStatus()){if(!h){const D=new Error("Room name must be defined.");return D.type="room-error",U.error(D),this.emit(Ve.EVENTS.error.key,D),null}return v.pcConfig=this._pcConfig,v.peerId=this.id,v.mode==="sfu"?this._initializeSfuRoom(h,v):this._initializeFullMeshRoom(h,v)}}getConnection(h,v){if(!!this._checkOpenStatus()){if(this.connections[h]){for(const D of this.connections[h])if(D.id===v)return D}return null}}get open(){return this.socket&&this.socket.isOpen}destroy(){this._cleanup(),this.disconnect(!0)}disconnect(h=!1){h||U.warn("Use peer's destroy method instead. This method may be removed in future versions."),this.open&&(this.socket.close(),this.emit(Ve.EVENTS.disconnected.key,this.id))}reconnect(){U.warn("Recreate peer instance instead. This method may be removed in future versions."),this.open||this.socket.reconnect()}updateCredential(h){this.socket.updateCredential(h)}listAllPeers(h){if(!this._checkOpenStatus())return;h=h||function(){};const v=this,D=new XMLHttpRequest,Y=`${this.socket.signalingServerUrl}/api/apikeys/${this.options.key}/clients/`;D.open("get",Y,!0),D.onerror=function(){v._abort("server-error","Could not get peers from the server."),h([])},D.onreadystatechange=function(){if(D.readyState===4)if(D.status===401){h([]);const ee=new Error("It doesn't look like you have permission to list peers IDs. Please enable the SkyWay REST API on dashboard");ee.type="list-error",U.error(ee),v.emit(Ve.EVENTS.error.key,ee)}else D.status===200?h(JSON.parse(D.responseText)):h([])},D.send(null)}async fetchPeerExists(h){if(!this.open)throw new Error("Peer is not yet connected to signaling server");const v=new Date().getTime();if(this._lastFetchPeerExistsTime!==void 0&&v-this._lastFetchPeerExistsTime<1e3)throw new Error("fetchPeerExists can only be called once per second");this._lastFetchPeerExistsTime=v;const D=`${this.socket.signalingServerUrl}/api/apikeys/${this.options.key}/peers/${h}/exists`,Y=await fetch(D);if(Y.status===200)return(await Y.json()).exists;{const ee=await Y.text();throw new Error(ee)}}_checkOpenStatus(){return this.open||this._emitNotConnectedError(),this.open}_emitNotConnectedError(){U.warn("You cannot connect to a new Peer because you are not connecting to SkyWay server now.You can create a new Peer to reconnect, or call reconnect() on this peer if you believe its ID to still be available.");const h=new Error("Cannot connect to new Peer before connecting to SkyWay server or after disconnecting from the server.");h.type="disconnected",U.error(h),this.emit(Ve.EVENTS.error.key,h)}_initializeServerConnection(h){this.socket=new Qe(this.options.key,{secure:this.options.secure,host:this.options.host,port:this.options.port,dispatcherSecure:this.options.dispatcherSecure,dispatcherHost:this.options.dispatcherHost,dispatcherPort:this.options.dispatcherPort}),this._setupMessageHandlers(),this.socket.on("error",v=>{this._abort("socket-error",v)}),this.socket.on("disconnect",()=>{this.disconnect(!0);const v=new Error("Lost connection to server.");v.type="socket-error",U.error(v),this.emit(Ve.EVENTS.error.key,v)}),this.socket.start(h,this.options.token,this.options.credential)}_initializeSfuRoom(h,v={}){if(this.rooms[h])return this.rooms[h];const D=new Tt(h,this.id,v);this.rooms[h]=D,this._setupSFURoomMessageHandlers(D);const Y={roomName:h,roomType:"sfu"};return this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_JOIN.key,Y),D}_initializeFullMeshRoom(h,v={}){if(this.rooms[h])return this.rooms[h];const D=new Xt(h,this.id,v);this.rooms[h]=D,this._setupMeshRoomMessageHandlers(D);const Y={roomName:h,roomType:"mesh"};return this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_JOIN.key,Y),D}_setupMessageHandlers(){this.socket.on(M.MESSAGE_TYPES.SERVER.OPEN.key,h=>{this.id=h.peerId,this._pcConfig=Object.assign({},this.options.config);const v=this._pcConfig.iceServers;this._pcConfig.iceServers=v?v.slice():[];const D=h.turnCredential;let Y,ee;if(typeof D=="object"?(Y=D.username,ee=D.credential):typeof D=="string"&&(Y=`${this.options.key}$${this.id}`,ee=D),this.options.turn===!0&&Y&&ee){const ve=[{protocol:"turn",transport:"tcp"},{protocol:"turn",transport:"udp"}];he.detectBrowser().name!=="edge"&&ve.push({protocol:"turns",transport:"tcp"});for(const Be of ve){const Ie=Be.protocol,it=Be.transport,er={urls:`${Ie}:${M.TURN_HOST}:${M.TURN_PORT}?transport=${it}`,url:`${Ie}:${M.TURN_HOST}:${M.TURN_PORT}?transport=${it}`,username:Y,credential:ee};this._pcConfig.iceServers.push(er)}U.log("SkyWay TURN Server is available")}else U.log("SkyWay TURN Server is unavailable");this.emit(Ve.EVENTS.open.key,this.id)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ERROR.key,h=>{const v=new Error(h.message);v.type=h.type,U.error(v),this.emit(Ve.EVENTS.error.key,v)}),this.socket.on(M.MESSAGE_TYPES.SERVER.LEAVE.key,h=>{U.log(`Received leave message from ${h}`),this._cleanupPeer(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.FORCE_CLOSE.key,({src:h,connectionId:v})=>{const D=this.getConnection(h,v);D&&D.close(!1)}),this.socket.on(M.MESSAGE_TYPES.SERVER.AUTH_EXPIRES_IN.key,h=>{U.log(`Credential expires in ${h}`),this.emit(Ve.EVENTS.expiresin.key,h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.OFFER.key,h=>{const v=h.roomName;if(v){const ee=this.rooms[v];ee&&ee.handleOffer(h);return}const D=h.connectionId;let Y=this.getConnection(h.src,D);if(Y){Y.updateOffer(h);return}h.connectionType==="media"?(Y=new de(h.src,{connectionId:D,payload:h,metadata:h.metadata,originator:!1,queuedMessages:this._queuedMessages[D],pcConfig:this._pcConfig}),Y.startConnection(),U.log("MediaConnection created in OFFER"),this._addConnection(h.src,Y),this.emit(Ve.EVENTS.call.key,Y)):h.connectionType==="data"?(Y=new z(h.src,{connectionId:D,payload:h,metadata:h.metadata,label:h.label,dcInit:h.dcInit,serialization:h.serialization,queuedMessages:this._queuedMessages[D],pcConfig:this._pcConfig}),Y.startConnection(),U.log("DataConnection created in OFFER"),this._addConnection(h.src,Y),this.emit(Ve.EVENTS.connection.key,Y)):U.warn("Received malformed connection type: ",h.connectionType),delete this._queuedMessages[D]}),this.socket.on(M.MESSAGE_TYPES.SERVER.ANSWER.key,h=>{const v=h.roomName;if(v){const Y=this.rooms[v];Y&&Y.handleAnswer(h);return}const D=this.getConnection(h.src,h.connectionId);D?D.handleAnswer(h):this._storeMessage(M.MESSAGE_TYPES.SERVER.ANSWER.key,h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.CANDIDATE.key,h=>{const v=h.roomName;if(v){const Y=this.rooms[v];Y&&Y.handleCandidate(h);return}const D=this.getConnection(h.src,h.connectionId);D?D.handleCandidate(h):this._storeMessage(M.MESSAGE_TYPES.SERVER.CANDIDATE.key,h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_USER_JOIN.key,h=>{const v=this.rooms[h.roomName];v&&v.handleJoin(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_USER_LEAVE.key,h=>{const v=this.rooms[h.roomName];v&&v.handleLeave(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_DATA.key,h=>{const v=this.rooms[h.roomName];v&&v.handleData(h)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_LOGS.key,h=>{const v=this.rooms[h.roomName];v&&v.handleLog(h.log)}),this.socket.on(M.MESSAGE_TYPES.SERVER.ROOM_USERS.key,h=>{const v=this.rooms[h.roomName];v&&(h.type==="media"?v.makeMediaConnections(h.userList):v.makeDataConnections(h.userList))}),this.socket.on(M.MESSAGE_TYPES.SERVER.SFU_OFFER.key,h=>{const v=this.rooms[h.roomName];v&&(v.updateMsidMap(h.msids),v.handleOffer(h))})}_setupConnectionMessageHandlers(h){h.on(K.EVENTS.candidate.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_CANDIDATE.key,v)}),h.on(K.EVENTS.answer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_ANSWER.key,v)}),h.on(K.EVENTS.offer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_OFFER.key,v)}),h.on(K.EVENTS.forceClose.key,()=>{const v={dst:h.remoteId,connectionId:h.id};this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_FORCE_CLOSE.key,v)})}_setupRoomMessageHandlers(h){h.on(Tt.MESSAGE_EVENTS.broadcast.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_SEND_DATA.key,v)}),h.on(Tt.MESSAGE_EVENTS.getLog.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_GET_LOGS.key,v)}),h.on(Tt.MESSAGE_EVENTS.leave.key,v=>{delete this.rooms[h.name],this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_LEAVE.key,v)})}_setupSFURoomMessageHandlers(h){this._setupRoomMessageHandlers(h),h.on(Tt.MESSAGE_EVENTS.offerRequest.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SFU_GET_OFFER.key,v)}),h.on(Tt.MESSAGE_EVENTS.answer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SFU_ANSWER.key,v)}),h.on(Tt.MESSAGE_EVENTS.candidate.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SFU_CANDIDATE.key,v)})}_setupMeshRoomMessageHandlers(h){this._setupRoomMessageHandlers(h),h.on(Xt.MESSAGE_EVENTS.offer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_OFFER.key,v)}),h.on(Xt.MESSAGE_EVENTS.answer.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_ANSWER.key,v)}),h.on(Xt.MESSAGE_EVENTS.candidate.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.SEND_CANDIDATE.key,v)}),h.on(Xt.MESSAGE_EVENTS.getPeers.key,v=>{this.socket.send(M.MESSAGE_TYPES.CLIENT.ROOM_GET_USERS.key,v)})}_abort(h,v){U.error("Aborting!"),this.disconnect(!0);const D=new Error(v);D.type=h,U.error(D),this.emit(Ve.EVENTS.error.key,D)}_addConnection(h,v){this.connections[h]||(this.connections[h]=[]),this.connections[h].push(v),this._setupConnectionMessageHandlers(v)}_storeMessage(h,v){this._queuedMessages[v.connectionId]||(this._queuedMessages[v.connectionId]=[]),this._queuedMessages[v.connectionId].push({type:h,payload:v})}_cleanup(){if(this.connections)for(const h of Object.keys(this.connections))this._cleanupPeer(h);this.emit(Ve.EVENTS.close.key)}_cleanupPeer(h){if(this.connections[h])for(const v of this.connections[h])v.close(!1)}static get EVENTS(){return so}}r.default=Ve},0:function(n,r){}}).default})})(Xs);const Zs=Qu(Xs.exports),eo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABkklEQVQ4ja3SP4wMYRjH8e/v3VCdRCI6IgoJBZ2r2JmhUUg2kdwfUYiQnJqoRJxCQa7QaFBenJ1tuIJC3MxuqdFxiYKo6bby5/0pHJm7W3u7w9O9z/N7P3mfzMB/LlUPaTFz2uJakO8XSZ7/E5h2p6/auisIQB/rcJk9+TguGNaw81gLaxjABMGP8PoNRgYhXNg0MSfTcnquHhgZuJrFrVqggpcHDSW9rwUWzUNPgTebwB+6WQtE89FwvTowfAV/rgcC3bT9wvD4z+tguwPP0uLcnloggBznDG8rrX3o+8vjvandtcAy6/RDjGdAXyrtg40Yes3u7N5RwIE/blLOHBW8Anb87hk+ybEFjZ2WbwsOIG6UzfYDhIeCAGkxmyIvV1HgG7CtmjNesXypl3Q+DAUBTvSmJmNsPAfvGpYD+pIvFkmeh2GplWbnNdYx4N0W4ISty7DhowyqMltaxXFSaOlvGUOUvABbrLyx0uLsKSveERxZ55krZda+Nzb46/p8SLqrLZmW5f2yH5ZZvji2M2r9BFzciirmK+ZYAAAAAElFTkSuQmCC",Ku="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABmUlEQVQ4ja3UwWoTURTG8f85jQkFl4II7oVYrPgKuuiyM5Pbokg3LhQXvoJ9hkapguBO0TBJ38Bt0bqoUV9BBLeikzrnuJgOjDHNdGjO7h7u/fEduPcyiaJ3WQhdFlRqrdYDyfNXWRStLAIUgN8hXNE8f+Pudzuj0eczgQ6Sr6+vuepPhz7wHJE/J54wc0TG7eFwfyY4ieNnwH3gUOCRw1vgYn0UedhO091qy0EU2DperzrsCGwA32tB9zvV5VGvd/MoST60gOVKv0QTg4HApTkJlwGyJLmq8NjNAoDO2LrqIk9UdbMuaRZFsbh/cvdQ9maB4H7dzfoCicO3E0OqXpg2ZoNlUniqqr156HTNAwvUvRFaBxbjN0DrwRI166v7P1fKzX4A1hws6oar9kU1LpN2RqOhi1wTkUEV/HVqshh/RyFgdj4LodtJ0y/n0nRDVG8h8lEmcfwCuNcgKcABxXN96UtLtzuDwVconp749rbm4/GaweVTUWaO+2F7b+99FkJX8vx1FZWGyf6r6a/vzOA0uhAQ4Hj83b/p9b66cJMW3AAAAABJRU5ErkJggg==",Ju=`.videoStream{position:relative;margin:0 auto;overflow:visible;border-radius:8px}.videoStream .local-stream video{width:100%;height:50%;border-radius:8px}.videoStream .remote-stream{width:50%;height:25%;position:inherit;bottom:0;left:0%;border-radius:8px}.videoStream .controls{position:relative;bottom:0;right:0;margin-right:20px;margin-bottom:10px}.videoStream .controls button{border:0 none;padding:6px 9px;border-radius:50%;margin-right:6px;margin-bottom:0}.container{position:relative;width:100%}.container canvas{width:100%;height:auto;border-radius:5px}.btn{border:0 none;padding:6px 9px;border-radius:50%;margin-right:6px;margin-bottom:0}.material-icons.md-18{font-size:18px}.material-icons.md-24{font-size:24px}.material-icons.md-36{font-size:36px}.material-icons.md-48{font-size:48px}.room>div{display:flex;justify-content:start;margin-bottom:5px;float:left}.video-call{height:250px;width:100%}.video-call>video{height:250px;width:100%;margin-left:2px}input,button{margin:5px}.member{width:250px;padding:0;height:140px;margin:2px}
`,Xu={name:"webrtcMultiCall",inheritAttrs:!1,data:function(){return{Peer:this.Peer,isJoined:!1,peerID:null,roomName:this.roomName,remoteStream:null,roomMode:null,isStreaming:!1,SHButton:!1,localStream:null,konferenzRaum:null,muteBtn:!1,hideCamBtn:!1,teilnehmer:!1}},props:{peerapikey:{type:String,required:!0},roomname:{type:String},videoheight:{type:[Number,String],default:400},videowidth:{type:[Number,String],default:400},doselfie:{type:Boolean,default:!1},doShareScreen:{type:Boolean,default:!1}},mounted(){this.Peer=new Zs({key:this.peerapikey,debug:3}),this.Peer.on("open",function(){this.peerID=this.Peer.id}.bind(this))},methods:{getRoomHash:function(){location.hash,sfu},startStream:function(){this.isJoined=!0,this.isStreaming=!0,this.localStream=navigator.mediaDevices.getUserMedia({video:{width:this.videowidth,height:this.videoheight},audio:!0}).then(function(e){this.$refs.localVideo.srcObject=e,this.$refs.localVideo.play(),this.localStream=e}.bind(this)).catch(function(e){console.log(e)})},stopStream:function(){this.isStreaming=!1,this.isJoined=!1,this.$refs.localVideo.srcObject.getTracks().forEach(e=>e.stop()),this.roomName="",this.teilnehmer=!1},joinRoom:function(){if(this.isStreaming=!0,this.roomName==null||this.roomName==""||this.roomName==" ")alert("enter a room name");else{if(this.teilnehmer=!0,this.konferenzRaum=this.Peer.joinRoom(this.roomName,{mode:this.getRoomHash,stream:this.localStream}),!this.Peer.open)return;this.konferenzRaum.once("open",()=>{let e=document.createElement("p");e.setAttribute("ref","peerID"),e.innerHTML=`you are joined at: <b>${this.roomName}</b>`,this.$el.parentNode.getElementById("board").append(e)}),this.konferenzRaum.on("stream",e=>{let t=document.createElement("video");t.setAttribute("ref","videoElement"),t.setAttribute("class","member"),console.log("parent node",this.$el.parentNode),this.$el.parentNode.getElementById("remoteVideo").append(t),t.srcObject=e,t.playsInline=!0,this.remoteStream=e,t.play()})}},leaveRoom:function(){this.konferenzRaum.close(),this.roomName="",this.konferenzRaum.once("open",()=>{})?(this.$refs.localVideo.srcObject.getTracks().forEach(e=>e.stop()),this.$refs.localVideo.srcObject=null,console.log("you left"),this.$refs.peerID="",this.isJoined=!1,this.isStreaming=!1,this.teilnehmer=!1):alert("you are not joined")},screenShot:function(){this.$refs.localVideo.srcObject!=null?(this.SHButton=!0,this.$refs.canvas.width=this.videowidth,this.$refs.canvas.height=this.videoheight,this.$refs.canvas.getContext("2d").drawImage(this.$refs.localVideo,0,0,this.videowidth,this.videoheight)):alert("there is no streaming")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videowidth,this.videoheight),this.SHButton=!1},doMute:function(){this.muteBtn=!0,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!0},shareScreen:function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:{width:this.videowidth,height:this.videoheight}}).then(function(e){e.getVideoTracks()[0],this.$refs.shareScreen.srcObject=e}.bind(this),function(e){alert("error")})}}},Zu={class:"videoStream"},ef={key:0,id:"board"},tf={key:0},nf=ne("img",{src:eo},null,-1),rf=[nf],sf=ne("img",{src:Yn},null,-1),of=[sf],af={class:"local-stream"},cf={key:0,ref:"localVideo"},lf={class:"controls"},uf=ne("img",{src:Jr},null,-1),ff=[uf],df=ne("img",{src:Ku},null,-1),hf=[df],pf=ne("img",{src:$n},null,-1),mf=[pf],gf=ne("img",{src:Gn},null,-1),yf=[gf],vf=ne("img",{src:qn},null,-1),bf=[vf],Ef=ne("img",{src:Qn},null,-1),wf=[Ef],Sf=ne("img",{src:Kn},null,-1),Af=[Sf],Cf=ne("img",{src:Jn},null,-1),xf=[Cf],_f={key:1,class:"remote-streams",ref:"remoteVideo",id:"remoteVideo"},kf={key:2,ref:"canvas"},Tf={key:3,ref:"canvas"};function Bf(e,t,n,r,s,i){return re(),ie("div",Zu,[e.isStreaming?(re(),ie("div",ef,[ne("p",{ref:"peerID"},"Your Peer ID: "+Nt(this.peerID),513),e.isJoined?(re(),ie("div",tf,[nn(ne("input",{type:"text",placeholder:"Room Name",ref:"roomName","onUpdate:modelValue":t[0]||(t[0]=a=>e.roomName=a)},null,512),[[sn,e.roomName]]),ne("button",{ref:"joinRoom",onClick:t[1]||(t[1]=(...a)=>i.joinRoom&&i.joinRoom(...a)),class:"btn"},rf,512),e.teilnehmer?(re(),ie("button",{key:0,ref:"leaveRoom",onClick:t[2]||(t[2]=(...a)=>i.leaveRoom&&i.leaveRoom(...a)),class:"btn"},of,512)):ce("",!0),n.doselfie?(re(),ie("button",{key:1,onClick:t[3]||(t[3]=(...a)=>i.screenShot&&i.screenShot(...a))},"screenshot")):ce("",!0)])):ce("",!0)])):ce("",!0),ne("div",af,[e.isStreaming?(re(),ie("video",cf,null,512)):ce("",!0)]),ne("div",lf,[e.isStreaming?ce("",!0):(re(),ie("button",{key:0,onClick:t[4]||(t[4]=(...a)=>i.startStream&&i.startStream(...a)),title:"start stream"},ff)),e.isStreaming?(re(),ie("button",{key:1,id:"btn2",onClick:t[5]||(t[5]=(...a)=>i.stopStream&&i.stopStream(...a)),title:"leave"},hf)):ce("",!0),e.isStreaming?(re(),ie("button",{key:2,id:"btn3",onClick:t[6]||(t[6]=(...a)=>i.screenShot&&i.screenShot(...a)),title:"selfie"},mf)):ce("",!0),e.isStreaming&&!e.muteBtn?(re(),ie("button",{key:3,id:"muteBtn",onClick:t[7]||(t[7]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},yf)):ce("",!0),e.isStreaming&&e.muteBtn?(re(),ie("button",{key:4,id:"muteBtn",onClick:t[8]||(t[8]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},bf)):ce("",!0),e.isStreaming&&!e.hideCamBtn?(re(),ie("button",{key:5,id:"hideCamBtn",onClick:t[9]||(t[9]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},wf)):ce("",!0),e.isStreaming&&e.hideCamBtn?(re(),ie("button",{key:6,id:"hideCamBtn",onClick:t[10]||(t[10]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},Af)):ce("",!0),e.SHButton?(re(),ie("button",{key:7,onClick:t[11]||(t[11]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a)),title:"delete img"},xf)):ce("",!0)]),e.isJoined?(re(),ie("div",_f,null,512)):ce("",!0),e.isStreaming?(re(),ie("canvas",kf,null,512)):ce("",!0),n.doselfie&&e.SHButton?(re(),ie("canvas",Tf,null,512)):ce("",!0)])}const Rf=Xn(Xu,[["render",Bf],["styles",[Ju]]]),Of=`.videoStream{position:relative;margin:0 auto;background-color:#ffffff4d;overflow:visible;border-radius:8px}.videoStream .local-stream{width:65%;height:25%;border-radius:8px}.videoStream .remote-stream{width:100%;height:50%;position:inherit;bottom:0;left:0%;border-radius:8px}.videoStream .controls{position:relative;bottom:0;right:0;margin-right:20px;margin-bottom:10px}.videoStream .controls button{border:0 none;padding:6px 9px;border-radius:50%;margin-right:6px;margin-bottom:0}.container{position:relative;width:100%}.container canvas{width:100%;height:auto;border-radius:5px}.material-icons.md-18{font-size:18px}.material-icons.md-24{font-size:24px}.material-icons.md-36{font-size:36px}.material-icons.md-48{font-size:48px}
`,Nf={name:"webrtcPeerCall",inheritAttrs:!1,data:function(){return{localStream:null,peerID:null,isStreaming:!1,isJoined:!1,SHButton:!1,muteBtn:!1,hideCamBtn:!1,remoteID:"",mediaConnection:null,isaudio:this.isAudio}},props:{peerapikey:{type:String,default:"7e4dcc1e-8f4a-4546-ba1e-70e6248809df",required:!0},videowidth:{type:[String,Number],default:420},videoheight:{type:[String,Number],default:250},peer_id:{type:String},remote_id:{type:String}},methods:{startCall:function(){this.isStreaming=!0,this.localStream=navigator.mediaDevices.getUserMedia({video:{height:this.videoheight,width:this.videowidth},audio:!0}).then(function(e){this.$refs.localVideo.srcObject=e,this.$refs.localVideo.play(),this.localStream=e}.bind(this)).catch(function(e){console.log(e)}),console.log(this.localStream)},joinCall:function(){this.isJoined=!0,this.remoteID==null||this.remoteID==""||this.remoteID==" "?alert("enter peer id "):(document.getElementById("remoteVideo"),this.mediaConnection=this.Peer.call(this.remoteID,this.localStream),this.mediaConnection.on("stream",e=>{this.$refs.remoteVideo.srcObject=e,this.$refs.remoteVideo.playsInline=!0,this.$refs.remoteVideo.play()}),this.mediaConnection.once("close",()=>{this.mediaConnection.close(!0),this.$refs.remoteVideo.srcObject.getTracks().forEach(e=>e.stop()),this.$refs.remoteVideo.srcObject=null,this.$refs.localVideo.srcObject=null}))},leaveCall:function(){this.isStreaming=!1,this.$refs.localVideo.srcObject.getTracks().forEach(e=>e.stop()),this.$refs.localVideo.srcObject=null,this.mediaConnection.close(!0),this.remoteID=""},screenShot:function(){this.localStream?(this.SHButton=!0,this.$refs.canvas.width=this.videowidth,this.$refs.canvas.height=this.videoheight,this.$refs.canvas.getContext("2d").drawImage(this.$refs.localVideo,0,0,this.videowidth,this.videoheight)):alert("error")},screenShotDelete:function(){this.$refs.canvas.getContext("2d").clearRect(0,0,this.videowidth,this.videoheight),this.SHButton=!1},doMute:function(){this.muteBtn=!0,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!1},unMute:function(){this.muteBtn=!1,this.$refs.localVideo.srcObject.getTracks()[0].enabled=!0},hideCam:function(){this.hideCamBtn=!0,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!1},showCam:function(){this.hideCamBtn=!1,this.$refs.localVideo.srcObject.getTracks()[1].enabled=!0},fetchAPIKey:function(){console.log("API Key is : ",this.peerAPIkey)}},mounted:function(){this.Peer=new Zs({key:this.peerapikey,debug:3}),this.Peer.once("open",function(){this.peerID=this.Peer.id}.bind(this)),this.Peer.on("call",function(e){e.answer(this.localStream),e.on("stream",t=>{this.$refs.remoteVideo.srcObject=t,this.$refs.remoteVideo.playsInline=!0,this.$refs.remoteVideo.play().catch(console.log(error))}),e.once("close",function(){this.$refs.remoteVideo.srcObject.getTracks().forEach(t=>t.stop()),this.$refs.remoteVideo.srcObject=null}.bind(this))}.bind(this))}},If={class:"videoStream"},Ff={key:0,class:"remote-stream",ref:"localVideo",id:"localVideo"},Pf={key:1,class:"local-stream",id:"remoteVideo",ref:"remoteVideo"},Mf={class:"controls"},Df=ne("img",{src:Jr},null,-1),jf=[Df],Uf=ne("img",{src:Yn},null,-1),Vf=[Uf],Lf=ne("img",{src:Gn},null,-1),zf=[Lf],Hf=ne("img",{src:qn},null,-1),Wf=[Hf],Yf=ne("img",{src:Qn},null,-1),$f=[Yf],Gf=ne("img",{src:Kn},null,-1),qf=[Gf],Qf=ne("img",{src:$n},null,-1),Kf=[Qf],Jf=ne("img",{src:eo},null,-1),Xf=[Jf],Zf={class:"container",id:"container"},ed={ref:"canvas"};function td(e,t,n,r,s,i){return re(),ie("div",null,[ne("div",If,[ne("p",{ref:"peerID"},"Your Peer ID: "+Nt(this.peerID),513),e.isStreaming?(re(),ie("video",Ff,null,512)):ce("",!0),e.isStreaming?(re(),ie("video",Pf,null,512)):ce("",!0),ne("div",Mf,[e.isStreaming?ce("",!0):(re(),ie("button",{key:0,onClick:t[0]||(t[0]=(...a)=>i.startCall&&i.startCall(...a)),title:"start stream"},jf)),e.isStreaming?(re(),ie("button",{key:1,id:"btn2",ref:"",onClick:t[1]||(t[1]=(...a)=>i.leaveCall&&i.leaveCall(...a)),title:"leave call"},Vf,512)):ce("",!0),e.isStreaming&&!e.muteBtn?(re(),ie("button",{key:2,id:"muteBtn",onClick:t[2]||(t[2]=(...a)=>i.doMute&&i.doMute(...a)),title:"mute"},zf)):ce("",!0),e.isStreaming&&e.muteBtn?(re(),ie("button",{key:3,id:"muteBtn",onClick:t[3]||(t[3]=(...a)=>i.unMute&&i.unMute(...a)),title:"ummute"},Wf)):ce("",!0),e.isStreaming&&!e.hideCamBtn?(re(),ie("button",{key:4,id:"hideCamBtn",onClick:t[4]||(t[4]=(...a)=>i.hideCam&&i.hideCam(...a)),title:"hide camera"},$f)):ce("",!0),e.isStreaming&&e.hideCamBtn?(re(),ie("button",{key:5,id:"hideCamBtn",onClick:t[5]||(t[5]=(...a)=>i.showCam&&i.showCam(...a)),title:"show camera"},qf)):ce("",!0),e.isStreaming?(re(),ie("button",{key:6,id:"btn3",onClick:t[6]||(t[6]=(...a)=>i.screenShot&&i.screenShot(...a)),title:"selfie"},Kf)):ce("",!0),e.isStreaming?(re(),ie("button",{key:7,onClick:t[7]||(t[7]=(...a)=>i.joinCall&&i.joinCall(...a))},Xf)):ce("",!0),ne("div",null,[e.isStreaming?nn((re(),ie("input",{key:0,ref:"peerid",type:"text","onUpdate:modelValue":t[8]||(t[8]=a=>e.remoteID=a)},null,512)),[[sn,e.remoteID]]):ce("",!0)])]),ne("div",Zf,[ne("canvas",ed,null,512),e.SHButton?(re(),ie("button",{key:0,class:"btn",onClick:t[9]||(t[9]=(...a)=>i.screenShotDelete&&i.screenShotDelete(...a))}," X ")):ce("",!0)])])])}const nd=Xn(Nf,[["render",td],["styles",[Of]]]),rd=Wn(xl),id=Wn(qu),sd=Wn(nd),od=Wn(Rf);customElements.define("webrtc-stream",rd);customElements.define("webrtc-call",id);customElements.define("webrtc-peercall",sd);customElements.define("webrtc-roomcall",od);
